import{s as G,o as K,e as y,a as D,c as E,b as F,w as x,g as H,f as p,p as I,i as L,h as B,u as N,q as R,v as Y,P as ee,B as A,K as te,a1 as he,a2 as J,r as _e,k as me,J as ge,L as ve,D as S,F as ae,a3 as oe,G as le,a4 as ie,a5 as O,n as T,a6 as Q,a7 as we}from"./scheduler.93b05707.js";import{S as W,i as j,t as b,b as C,c as P,a as V,m as q,g as pe,e as ke,d as z}from"./index.e4493cfb.js";import{r as be}from"./index.3d85e2e9.js";import{g as $e,u as Me}from"./game-context.d774e95e.js";import{F as Ce,a as X}from"./Face.9cbab6eb.js";import{g as fe}from"./Heading.ecdaaed4.js";const de=(s,e)=>{const t=e.users.find(r=>r.id===s);if(!t)throw new Error(`The user with id ${s} was not found.`);return t},Ke=(s,e)=>de(s,e).isAdmin,Be=s=>de(s.userId,s);function Ie(s){let e,t,r='<svg width="346" height="53" viewBox="0 0 346 53" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M45 0H0l54 53-9-53Z" fill="#F03A50"></path><path d="M45 0h33L54 53 45 0Z" fill="#A40224"></path><path d="M346 38 330 0H78L54 53l292-15Z" fill="#D32746"></path></svg>',n,a,o="The hidden threat",h,m;const k=s[1].default,l=K(k,s,s[0],null);return{c(){e=y("div"),t=y("div"),t.innerHTML=r,n=D(),a=y("div"),a.textContent=o,h=D(),l&&l.c(),this.h()},l(d){e=E(d,"DIV",{class:!0});var _=F(e);t=E(_,"DIV",{class:!0,"data-svelte-h":!0}),x(t)!=="svelte-17ojy9"&&(t.innerHTML=r),n=H(_),a=E(_,"DIV",{class:!0,"data-svelte-h":!0}),x(a)!=="svelte-xbe4by"&&(a.textContent=o),h=H(_),l&&l.l(_),_.forEach(p),this.h()},h(){I(t,"class","backdrop svelte-kbs536"),I(a,"class","title svelte-kbs536"),I(e,"class","header svelte-kbs536")},m(d,_){L(d,e,_),B(e,t),B(e,n),B(e,a),B(e,h),l&&l.m(e,null),m=!0},p(d,[_]){l&&l.p&&(!m||_&1)&&N(l,k,d,d[0],m?Y(k,d[0],_,null):R(d[0]),null)},i(d){m||(b(l,d),m=!0)},o(d){C(l,d),m=!1},d(d){d&&p(e),l&&l.d(d)}}}function De(s,e,t){let{$$slots:r={},$$scope:n}=e;return s.$$set=a=>{"$$scope"in a&&t(0,n=a.$$scope)},[n,r]}class He extends W{constructor(e){super(),j(this,e,De,Ie,G,{})}}const ye=s=>({}),se=s=>({}),Ee=s=>({}),ne=s=>({});function Fe(s){let e;const t=s[14].header,r=K(t,s,s[18],ne);return{c(){r&&r.c()},l(n){r&&r.l(n)},m(n,a){r&&r.m(n,a),e=!0},p(n,a){r&&r.p&&(!e||a&262144)&&N(r,t,n,n[18],e?Y(t,n[18],a,Ee):R(n[18]),ne)},i(n){e||(b(r,n),e=!0)},o(n){C(r,n),e=!1},d(n){r&&r.d(n)}}}function re(s){let e,t,r;return t=new Ce({}),{c(){e=y("div"),P(t.$$.fragment),this.h()},l(n){e=E(n,"DIV",{class:!0});var a=F(e);V(t.$$.fragment,a),a.forEach(p),this.h()},h(){I(e,"class","footer svelte-q6v7k9")},m(n,a){L(n,e,a),q(t,e,null),r=!0},i(n){r||(b(t.$$.fragment,n),r=!0)},o(n){C(t.$$.fragment,n),r=!1},d(n){n&&p(e),z(t)}}}function Le(s){let e,t,r,n,a,o,h,m,k,l,d,_;ee(s[15]),r=new He({props:{$$slots:{default:[Fe]},$$scope:{ctx:s}}});const $=s[14].default,g=K($,s,s[18],null),c=s[14].overlays,u=K(c,s,s[18],se);let f=s[1]&&re();return{c(){e=y("div"),t=y("div"),P(r.$$.fragment),n=D(),a=y("div"),g&&g.c(),o=D(),u&&u.c(),h=D(),f&&f.c(),this.h()},l(i){e=E(i,"DIV",{class:!0});var v=F(e);t=E(v,"DIV",{class:!0});var M=F(t);V(r.$$.fragment,M),n=H(M),a=E(M,"DIV",{class:!0});var Z=F(a);g&&g.l(Z),Z.forEach(p),o=H(M),u&&u.l(M),h=H(M),f&&f.l(M),M.forEach(p),v.forEach(p),this.h()},h(){I(a,"class","content svelte-q6v7k9"),A(a,"padded",s[2]),I(t,"class",m="board "+(s[9]?`side-${s[9]}`:"")+" svelte-q6v7k9"),ee(()=>s[17].call(t)),A(t,"backdrop",s[0]),A(t,"with-footer",s[1]),I(e,"class","board-wrapper svelte-q6v7k9"),te(e,"--board-scale",s[8])},m(i,v){L(i,e,v),B(e,t),q(r,t,null),B(t,n),B(t,a),g&&g.m(a,null),B(t,o),u&&u.m(t,null),B(t,h),f&&f.m(t,null),s[16](t),k=he(t,s[17].bind(t)),l=!0,d||(_=[J(window,"resize",s[12]),J(window,"resize",s[15]),J(t,"mousemove",s[11])],d=!0)},p(i,[v]){const M={};v&262144&&(M.$$scope={dirty:v,ctx:i}),r.$set(M),g&&g.p&&(!l||v&262144)&&N(g,$,i,i[18],l?Y($,i[18],v,null):R(i[18]),null),(!l||v&4)&&A(a,"padded",i[2]),u&&u.p&&(!l||v&262144)&&N(u,c,i,i[18],l?Y(c,i[18],v,ye):R(i[18]),se),i[1]?f?v&2&&b(f,1):(f=re(),f.c(),b(f,1),f.m(t,null)):f&&(pe(),C(f,1,1,()=>{f=null}),ke()),(!l||v&512&&m!==(m="board "+(i[9]?`side-${i[9]}`:"")+" svelte-q6v7k9"))&&I(t,"class",m),(!l||v&513)&&A(t,"backdrop",i[0]),(!l||v&514)&&A(t,"with-footer",i[1]),v&256&&te(e,"--board-scale",i[8])},i(i){l||(b(r.$$.fragment,i),b(g,i),b(u,i),b(f),l=!0)},o(i){C(r.$$.fragment,i),C(g,i),C(u,i),C(f),l=!1},d(i){i&&p(e),z(r),g&&g.d(i),u&&u.d(i),f&&f.d(),s[16](null),k(),d=!1,_e(_)}}}function Pe(s,e,t){let r,{$$slots:n={},$$scope:a}=e,{reportMousePosition:o=void 0}=e,{showBackdrop:h=!1}=e,{showFooter:m=!1}=e,{paddedContent:k=!1}=e;const l=$e(),d=l?Me(l.machine.service,({context:w})=>{const U=Be(w);if(U.isAdmin)return U.side}):be(void 0);me(s,d,w=>t(9,r=w));let _,$=1,g=1,c=1,u=1,f=1;const i=w=>{if(!o)return;const U=(w.clientX-_.offsetLeft)/$,ce=(w.clientY-_.offsetTop)/g;o([(U-(1-f)/2)/f,(ce-(1-f)/2)/f])},v=()=>{t(8,f=Math.min(c/($+20),u/(g+20))),f>=1.3?t(8,f=1.3):t(8,f=Math.min(f,1))};ge(v);function M(){t(6,c=window.innerWidth),t(7,u=window.innerHeight)}function Z(w){ve[w?"unshift":"push"](()=>{_=w,t(3,_)})}function ue(){$=this.clientWidth,g=this.clientHeight,t(4,$),t(5,g)}return s.$$set=w=>{"reportMousePosition"in w&&t(13,o=w.reportMousePosition),"showBackdrop"in w&&t(0,h=w.showBackdrop),"showFooter"in w&&t(1,m=w.showFooter),"paddedContent"in w&&t(2,k=w.paddedContent),"$$scope"in w&&t(18,a=w.$$scope)},[h,m,k,_,$,g,c,u,f,r,d,i,v,o,n,M,Z,ue,a]}class Ne extends W{constructor(e){super(),j(this,e,Pe,Le,G,{reportMousePosition:13,showBackdrop:0,showFooter:1,paddedContent:2})}}function Ve(s){let e,t,r='<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 6L6 18M6 6l12 12"/>',n=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},s[0]],a={};for(let o=0;o<n.length;o+=1)a=S(a,n[o]);return{c(){e=ae("svg"),t=new oe(!0),this.h()},l(o){e=le(o,"svg",{viewBox:!0,width:!0,height:!0});var h=F(e);t=ie(h,!0),h.forEach(p),this.h()},h(){t.a=null,O(e,a)},m(o,h){L(o,e,h),t.m(r,e)},p(o,[h]){O(e,a=fe(n,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},h&1&&o[0]]))},i:T,o:T,d(o){o&&p(e)}}}function qe(s,e,t){return s.$$set=r=>{t(0,e=S(S({},e),Q(r)))},e=Q(e),[e]}class ze extends W{constructor(e){super(),j(this,e,qe,Ve,G,{})}}function Ae(s){let e,t,r,n,a,o,h,m,k,l,d,_,$,g;return t=new X({props:{faceId:3}}),n=new X({props:{faceId:2}}),o=new X({props:{faceId:6}}),m=new X({props:{faceId:5}}),d=new ze({}),{c(){e=y("div"),P(t.$$.fragment),r=D(),P(n.$$.fragment),a=D(),P(o.$$.fragment),h=D(),P(m.$$.fragment),k=D(),l=y("a"),P(d.$$.fragment),this.h()},l(c){e=E(c,"DIV",{class:!0});var u=F(e);V(t.$$.fragment,u),r=H(u),V(n.$$.fragment,u),a=H(u),V(o.$$.fragment,u),h=H(u),V(m.$$.fragment,u),u.forEach(p),k=H(c),l=E(c,"A",{href:!0,class:!0});var f=F(l);V(d.$$.fragment,f),f.forEach(p),this.h()},h(){I(e,"class","faces svelte-17o38i1"),I(l,"href","/"),I(l,"class","close unstyled svelte-17o38i1")},m(c,u){L(c,e,u),q(t,e,null),B(e,r),q(n,e,null),B(e,a),q(o,e,null),B(e,h),q(m,e,null),L(c,k,u),L(c,l,u),q(d,l,null),_=!0,$||(g=J(l,"click",we(s[0])),$=!0)},p:T,i(c){_||(b(t.$$.fragment,c),b(n.$$.fragment,c),b(o.$$.fragment,c),b(m.$$.fragment,c),b(d.$$.fragment,c),_=!0)},o(c){C(t.$$.fragment,c),C(n.$$.fragment,c),C(o.$$.fragment,c),C(m.$$.fragment,c),C(d.$$.fragment,c),_=!1},d(c){c&&(p(e),p(k),p(l)),z(t),z(n),z(o),z(m),z(d),$=!1,g()}}}function Se(s){return[()=>{window.confirm("MÃ¶chtest du wirklich das Spiel verlassen?")&&(window.location.href="/")}]}class Re extends W{constructor(e){super(),j(this,e,Se,Ae,G,{})}}function Te(s){let e,t,r='<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 6L9 17l-5-5"/>',n=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},s[0]],a={};for(let o=0;o<n.length;o+=1)a=S(a,n[o]);return{c(){e=ae("svg"),t=new oe(!0),this.h()},l(o){e=le(o,"svg",{viewBox:!0,width:!0,height:!0});var h=F(e);t=ie(h,!0),h.forEach(p),this.h()},h(){t.a=null,O(e,a)},m(o,h){L(o,e,h),t.m(r,e)},p(o,[h]){O(e,a=fe(n,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},h&1&&o[0]]))},i:T,o:T,d(o){o&&p(e)}}}function Ge(s,e,t){return s.$$set=r=>{t(0,e=S(S({},e),Q(r)))},e=Q(e),[e]}class Ye extends W{constructor(e){super(),j(this,e,Ge,Te,G,{})}}export{Ne as B,Ye as C,Re as P,ze as X,de as a,Be as g,Ke as u};
