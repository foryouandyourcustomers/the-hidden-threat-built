import{s as J,o as Z,e as y,a as D,c as E,b as F,w as O,g as H,f as w,p as B,i as L,h as I,u as j,q as U,v as X,P as Q,B as A,K as x,a1 as ie,a2 as W,r as fe,k as de,J as ue,L as ce,a3 as _e,n as R,D as Y,F as he,a4 as me,G as ge,a5 as ve,a6 as ee,a7 as te}from"./scheduler.e5e3f8cd.js";import{S as K,i as N,t as b,b as M,c as P,a as V,m as q,g as pe,e as we,d as z}from"./index.bdbe56d4.js";import{r as $e}from"./index.91a33cbd.js";import{g as be,u as ke}from"./game-context.82b6aa47.js";import{F as Ce,a as G}from"./Face.9b2b7a38.js";import{X as Me}from"./Paragraph.d1340062.js";import{g as Ie}from"./Heading.b5cbd977.js";const re=(s,e)=>{const t=e.users.find(a=>a.id===s);if(!t)throw new Error(`The user with id ${s} was not found.`);return t},Je=(s,e)=>re(s,e).isAdmin,Be=s=>re(s.userId,s);function De(s){let e,t,a='<svg width="346" height="53" viewBox="0 0 346 53" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M45 0H0l54 53-9-53Z" fill="#F03A50"></path><path d="M45 0h33L54 53 45 0Z" fill="#A40224"></path><path d="M346 38 330 0H78L54 53l292-15Z" fill="#D32746"></path></svg>',n,r,f="The hidden threat",g,h;const $=s[1].default,o=Z($,s,s[0],null);return{c(){e=y("div"),t=y("div"),t.innerHTML=a,n=D(),r=y("div"),r.textContent=f,g=D(),o&&o.c(),this.h()},l(d){e=E(d,"DIV",{class:!0});var _=F(e);t=E(_,"DIV",{class:!0,"data-svelte-h":!0}),O(t)!=="svelte-17ojy9"&&(t.innerHTML=a),n=H(_),r=E(_,"DIV",{class:!0,"data-svelte-h":!0}),O(r)!=="svelte-xbe4by"&&(r.textContent=f),g=H(_),o&&o.l(_),_.forEach(w),this.h()},h(){B(t,"class","backdrop svelte-164lruu"),B(r,"class","title svelte-164lruu"),B(e,"class","header svelte-164lruu")},m(d,_){L(d,e,_),I(e,t),I(e,n),I(e,r),I(e,g),o&&o.m(e,null),h=!0},p(d,[_]){o&&o.p&&(!h||_&1)&&j(o,$,d,d[0],h?X($,d[0],_,null):U(d[0]),null)},i(d){h||(b(o,d),h=!0)},o(d){M(o,d),h=!1},d(d){d&&w(e),o&&o.d(d)}}}function He(s,e,t){let{$$slots:a={},$$scope:n}=e;return s.$$set=r=>{"$$scope"in r&&t(0,n=r.$$scope)},[n,a]}class ye extends K{constructor(e){super(),N(this,e,He,De,J,{})}}const Ee=s=>({}),se=s=>({}),Fe=s=>({}),ne=s=>({});function Pe(s){let e;const t=s[14].header,a=Z(t,s,s[18],ne);return{c(){a&&a.c()},l(n){a&&a.l(n)},m(n,r){a&&a.m(n,r),e=!0},p(n,r){a&&a.p&&(!e||r&262144)&&j(a,t,n,n[18],e?X(t,n[18],r,Fe):U(n[18]),ne)},i(n){e||(b(a,n),e=!0)},o(n){M(a,n),e=!1},d(n){a&&a.d(n)}}}function ae(s){let e,t,a;return t=new Ce({}),{c(){e=y("div"),P(t.$$.fragment),this.h()},l(n){e=E(n,"DIV",{class:!0});var r=F(e);V(t.$$.fragment,r),r.forEach(w),this.h()},h(){B(e,"class","footer svelte-q6v7k9")},m(n,r){L(n,e,r),q(t,e,null),a=!0},i(n){a||(b(t.$$.fragment,n),a=!0)},o(n){M(t.$$.fragment,n),a=!1},d(n){n&&w(e),z(t)}}}function Ve(s){let e,t,a,n,r,f,g,h,$,o,d,_;Q(s[15]),a=new ye({props:{$$slots:{default:[Pe]},$$scope:{ctx:s}}});const k=s[14].default,m=Z(k,s,s[18],null),c=s[14].overlays,u=Z(c,s,s[18],se);let i=s[1]&&ae();return{c(){e=y("div"),t=y("div"),P(a.$$.fragment),n=D(),r=y("div"),m&&m.c(),f=D(),u&&u.c(),g=D(),i&&i.c(),this.h()},l(l){e=E(l,"DIV",{class:!0});var v=F(e);t=E(v,"DIV",{class:!0});var C=F(t);V(a.$$.fragment,C),n=H(C),r=E(C,"DIV",{class:!0});var S=F(r);m&&m.l(S),S.forEach(w),f=H(C),u&&u.l(C),g=H(C),i&&i.l(C),C.forEach(w),v.forEach(w),this.h()},h(){B(r,"class","content svelte-q6v7k9"),A(r,"padded",s[2]),B(t,"class",h="board "+(s[9]?`side-${s[9]}`:"")+" svelte-q6v7k9"),Q(()=>s[17].call(t)),A(t,"backdrop",s[0]),A(t,"with-footer",s[1]),B(e,"class","board-wrapper svelte-q6v7k9"),x(e,"--board-scale",s[8])},m(l,v){L(l,e,v),I(e,t),q(a,t,null),I(t,n),I(t,r),m&&m.m(r,null),I(t,f),u&&u.m(t,null),I(t,g),i&&i.m(t,null),s[16](t),$=ie(t,s[17].bind(t)),o=!0,d||(_=[W(window,"resize",s[12]),W(window,"resize",s[15]),W(t,"mousemove",s[11])],d=!0)},p(l,[v]){const C={};v&262144&&(C.$$scope={dirty:v,ctx:l}),a.$set(C),m&&m.p&&(!o||v&262144)&&j(m,k,l,l[18],o?X(k,l[18],v,null):U(l[18]),null),(!o||v&4)&&A(r,"padded",l[2]),u&&u.p&&(!o||v&262144)&&j(u,c,l,l[18],o?X(c,l[18],v,Ee):U(l[18]),se),l[1]?i?v&2&&b(i,1):(i=ae(),i.c(),b(i,1),i.m(t,null)):i&&(pe(),M(i,1,1,()=>{i=null}),we()),(!o||v&512&&h!==(h="board "+(l[9]?`side-${l[9]}`:"")+" svelte-q6v7k9"))&&B(t,"class",h),(!o||v&513)&&A(t,"backdrop",l[0]),(!o||v&514)&&A(t,"with-footer",l[1]),v&256&&x(e,"--board-scale",l[8])},i(l){o||(b(a.$$.fragment,l),b(m,l),b(u,l),b(i),o=!0)},o(l){M(a.$$.fragment,l),M(m,l),M(u,l),M(i),o=!1},d(l){l&&w(e),z(a),m&&m.d(l),u&&u.d(l),i&&i.d(),s[16](null),$(),d=!1,fe(_)}}}function qe(s,e,t){let a,{$$slots:n={},$$scope:r}=e,{reportMousePosition:f=void 0}=e,{showBackdrop:g=!1}=e,{showFooter:h=!1}=e,{paddedContent:$=!1}=e;const o=be(),d=o?ke(o.machine.service,({context:p})=>{const T=Be(p);if(T.isAdmin)return T.side}):$e(void 0);de(s,d,p=>t(9,a=p));let _,k=1,m=1,c=1,u=1,i=1;const l=p=>{if(!f)return;const T=(p.clientX-_.offsetLeft)/k,le=(p.clientY-_.offsetTop)/m;f([(T-(1-i)/2)/i,(le-(1-i)/2)/i])},v=()=>{t(8,i=Math.min(c/(k+20),u/(m+20))),i>=1.3?t(8,i=1.3):t(8,i=Math.min(i,1))};ue(v);function C(){t(6,c=window.innerWidth),t(7,u=window.innerHeight)}function S(p){ce[p?"unshift":"push"](()=>{_=p,t(3,_)})}function oe(){k=this.clientWidth,m=this.clientHeight,t(4,k),t(5,m)}return s.$$set=p=>{"reportMousePosition"in p&&t(13,f=p.reportMousePosition),"showBackdrop"in p&&t(0,g=p.showBackdrop),"showFooter"in p&&t(1,h=p.showFooter),"paddedContent"in p&&t(2,$=p.paddedContent),"$$scope"in p&&t(18,r=p.$$scope)},[g,h,$,_,k,m,c,u,i,a,d,l,v,f,n,C,S,oe,r]}class Ke extends K{constructor(e){super(),N(this,e,qe,Ve,J,{reportMousePosition:13,showBackdrop:0,showFooter:1,paddedContent:2})}}function ze(s){let e,t,a,n,r,f,g,h,$,o,d,_,k,m;return t=new G({props:{faceId:3}}),n=new G({props:{faceId:2}}),f=new G({props:{faceId:6}}),h=new G({props:{faceId:5}}),d=new Me({}),{c(){e=y("div"),P(t.$$.fragment),a=D(),P(n.$$.fragment),r=D(),P(f.$$.fragment),g=D(),P(h.$$.fragment),$=D(),o=y("a"),P(d.$$.fragment),this.h()},l(c){e=E(c,"DIV",{class:!0});var u=F(e);V(t.$$.fragment,u),a=H(u),V(n.$$.fragment,u),r=H(u),V(f.$$.fragment,u),g=H(u),V(h.$$.fragment,u),u.forEach(w),$=H(c),o=E(c,"A",{href:!0,class:!0});var i=F(o);V(d.$$.fragment,i),i.forEach(w),this.h()},h(){B(e,"class","faces svelte-17o38i1"),B(o,"href","/"),B(o,"class","close unstyled svelte-17o38i1")},m(c,u){L(c,e,u),q(t,e,null),I(e,a),q(n,e,null),I(e,r),q(f,e,null),I(e,g),q(h,e,null),L(c,$,u),L(c,o,u),q(d,o,null),_=!0,k||(m=W(o,"click",_e(s[0])),k=!0)},p:R,i(c){_||(b(t.$$.fragment,c),b(n.$$.fragment,c),b(f.$$.fragment,c),b(h.$$.fragment,c),b(d.$$.fragment,c),_=!0)},o(c){M(t.$$.fragment,c),M(n.$$.fragment,c),M(f.$$.fragment,c),M(h.$$.fragment,c),M(d.$$.fragment,c),_=!1},d(c){c&&(w(e),w($),w(o)),z(t),z(n),z(f),z(h),z(d),k=!1,m()}}}function Le(s){return[()=>{window.confirm("MÃ¶chtest du wirklich das Spiel verlassen?")&&(window.location.href="/")}]}class Ne extends K{constructor(e){super(),N(this,e,Le,ze,J,{})}}function Ae(s){let e,t,a='<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 6L9 17l-5-5"/>',n=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},s[0]],r={};for(let f=0;f<n.length;f+=1)r=Y(r,n[f]);return{c(){e=he("svg"),t=new me(!0),this.h()},l(f){e=ge(f,"svg",{viewBox:!0,width:!0,height:!0});var g=F(e);t=ve(g,!0),g.forEach(w),this.h()},h(){t.a=null,ee(e,r)},m(f,g){L(f,e,g),t.m(a,e)},p(f,[g]){ee(e,r=Ie(n,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},g&1&&f[0]]))},i:R,o:R,d(f){f&&w(e)}}}function Se(s,e,t){return s.$$set=a=>{t(0,e=Y(Y({},e),te(a)))},e=te(e),[e]}class Re extends K{constructor(e){super(),N(this,e,Se,Ae,J,{})}}export{Ke as B,Re as C,Ne as P,re as a,Be as g,Je as u};
