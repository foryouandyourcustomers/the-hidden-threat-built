import{ac as I,a8 as st,ab as it,s as Oe,F as me,A as Et,a3 as St,B as kt,b as ee,a4 as At,f as F,a5 as Ke,i as D,n as He,a6 as Te,v as ot,e as Z,a as J,I as Fe,c as q,g as G,ad as Ne,D as Pe,m as X,h as H,H as ut,w as lt,x as ft,y as ct,ae as Me,k as ke,t as he,d as pe,j as dt,o as Tt,af as Xe,l as Ft,ag as Nt}from"./scheduler.036a2d74.js";import{S as Ce,i as De,c as ie,a as oe,m as ue,t as Y,b as K,d as le}from"./index.e2632973.js";import{B as Pt}from"./Board.bfaa13f2.js";import{P as Mt,a as Qe,A as It,B as jt}from"./Polygon.5badf3bf.js";import{g as qe,H as ze}from"./Heading.3960fba6.js";import{j as We,k as Ot}from"./singletons.bfdd58ec.js";import{d as we,w as se}from"./index.07541d6e.js";import{U as mt,N as Ct,P as Dt,a as Ut,b as ht,H as Lt,p as pt}from"./parse.7d180a0f.js";import{p as Ee}from"./stores.91e9dc4e.js";const Rt=!0;class Ve extends Error{constructor(e,r){super(e),this.name="DevalueError",this.path=r.join("")}}function et(t){return Object(t)!==t}const Vt=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Bt(t){const e=Object.getPrototypeOf(t);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===Vt}function xt(t){return Object.prototype.toString.call(t).slice(8,-1)}function Ht(t){switch(t){case'"':return'\\"';case"<":return"\\u003C";case"\\":return"\\\\";case`
`:return"\\n";case"\r":return"\\r";case"	":return"\\t";case"\b":return"\\b";case"\f":return"\\f";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return t<" "?`\\u${t.charCodeAt(0).toString(16).padStart(4,"0")}`:""}}function ve(t){let e="",r=0;const n=t.length;for(let s=0;s<n;s+=1){const i=t[s],a=Ht(i);a&&(e+=t.slice(r,s)+a,r=s+1)}return`"${r===0?t:e+t.slice(r)}"`}function gt(t,e){const r=[],n=new Map,s=[];for(const c in e)s.push({key:c,fn:e[c]});const i=[];let a=0;function u(c){if(typeof c=="function")throw new Ve("Cannot stringify a function",i);if(n.has(c))return n.get(c);if(c===void 0)return mt;if(Number.isNaN(c))return Ct;if(c===1/0)return Dt;if(c===-1/0)return Ut;if(c===0&&1/c<0)return ht;const $=a++;n.set(c,$);for(const{key:l,fn:g}of s){const v=g(c);if(v)return r[$]=`["${l}",${u(v)}]`,$}let m="";if(et(c))m=Be(c);else switch(xt(c)){case"Number":case"String":case"Boolean":m=`["Object",${Be(c)}]`;break;case"BigInt":m=`["BigInt",${c}]`;break;case"Date":m=`["Date","${c.toISOString()}"]`;break;case"RegExp":const{source:g,flags:v}=c;m=v?`["RegExp",${ve(g)},"${v}"]`:`["RegExp",${ve(g)}]`;break;case"Array":m="[";for(let p=0;p<c.length;p+=1)p>0&&(m+=","),p in c?(i.push(`[${p}]`),m+=u(c[p]),i.pop()):m+=Lt;m+="]";break;case"Set":m='["Set"';for(const p of c)m+=`,${u(p)}`;m+="]";break;case"Map":m='["Map"';for(const[p,d]of c)i.push(`.get(${et(p)?Be(p):"..."})`),m+=`,${u(p)},${u(d)}`;m+="]";break;default:if(!Bt(c))throw new Ve("Cannot stringify arbitrary non-POJOs",i);if(Object.getOwnPropertySymbols(c).length>0)throw new Ve("Cannot stringify POJOs with symbolic keys",i);if(Object.getPrototypeOf(c)===null){m='["null"';for(const p in c)i.push(`.${p}`),m+=`,${ve(p)},${u(c[p])}`,i.pop();m+="]"}else{m="{";let p=!1;for(const d in c)p&&(m+=","),p=!0,i.push(`.${d}`),m+=`${ve(d)}:${u(c[d])}`,i.pop();m+="}"}}return r[$]=m,$}const f=u(t);return f<0?`${f}`:`[${r.join(",")}]`}function Be(t){const e=typeof t;return e==="string"?ve(t):t instanceof String?ve(t.toString()):t===void 0?mt.toString():t===0&&1/t<0?ht.toString():e==="bigint"?`["BigInt","${t}"]`:String(t)}const _t=Rt,bt=We("invalidate_all"),Zt=We("before_navigate"),qt=We("after_navigate");function Ie(t){return t.toString().split(/[[\].]+/).filter(e=>e)}function Wt(t){return t.reduce((e,r)=>(typeof r=="number"||!isNaN(parseInt(String(r),10))?e+=`[${String(r)}]`:e?e+=`.${String(r)}`:e+=String(r),e),"")}class x extends Error{constructor(e){super(e),Object.setPrototypeOf(this,x.prototype)}}function je(t,e,r){return t[e]=r,"skip"}function Je(t,e){return e.value!==void 0&&typeof e.value!="object"&&e.path.length<t.length}function Jt(t,e,r={}){r.modifier||(r.modifier=s=>Je(e,s)?void 0:s.value);const n=Q(t,e,r.modifier);if(n)return r.value===void 0||r.value(n.value)?n:void 0}function Q(t,e,r){if(!e.length)return;const n=[e[0]];let s=t;for(;n.length<e.length;){const a=n[n.length-1],u=r?r({parent:s,key:String(a),value:s[a],path:n.map(f=>String(f)),isLeaf:!1,set:f=>je(s,a,f)}):s[a];if(u===void 0)return;s=u,n.push(e[n.length])}const i=e[e.length-1];return{parent:s,key:String(i),value:s[i],path:e.map(a=>String(a)),isLeaf:!0,set:a=>je(s,i,a)}}function fe(t,e,r=[]){for(const n in t){const s=t[n],i=s===null||typeof s!="object",a={parent:t,key:n,value:s,path:r.map(String).concat([n]),isLeaf:i,set:f=>je(t,n,f)},u=e(a);if(u==="abort")return u;if(u==="skip")continue;if(!i){const f=fe(s,e,a.path);if(f==="abort")return f}}}async function Gt(t,e,r=[]){for(const n in t){const s=t[n],i=s===null||typeof s!="object",a={parent:t,key:n,value:s,path:r.map(String).concat([n]),isLeaf:i,set:f=>je(t,n,f)},u=await e(a);if(u==="abort")return u;if(u==="skip")break;if(!i){const f=fe(s,e,a.path);if(f==="abort")return f}}}function Yt(t,e){return t===e||t.size===e.size&&[...t].every(r=>e.has(r))}function Kt(t,e){const r=new Map;function n(s,i){const a=Q(i,s.path);function u(){r.set(s.path.join(" "),s.path)}s.isLeaf?a?(s.value instanceof Date&&a.value instanceof Date&&s.value.getTime()!=a.value.getTime()||s.value!==a.value)&&u():u():a&&s.value instanceof Set&&a.value instanceof Set&&!Yt(s.value,a.value)&&u()}return fe(t,s=>n(s,e)),fe(e,s=>n(s,t)),Array.from(r.values())}function be(t,e,r){for(const n of e){const s=Q(t,n,({parent:i,key:a,value:u})=>((u===void 0||typeof u!="object")&&(i[a]={}),i[a]));s&&(s.parent[s.key]=r)}}function vt(t,e){const n=Ie(e).filter(s=>isNaN(parseInt(String(s)))).join(".");return{path:e,value:ye(t.form,e),errors:ye(t.errors,e),constraints:ye(t.constraints,n)}}function ye(t,e){const r=Ie(e),n=we(t,s=>{const i=Q(s,r);return i==null?void 0:i.value});return{subscribe(...s){const i=n.subscribe(...s);return()=>{i()}},update(s){t.update(i=>{const a=Q(i,r);return a&&(a.parent[a.key]=s(a.value)),i})},set(s){t.update(i=>{const a=Q(i,r);return a&&(a.parent[a.key]=s),i})}}}function _e(t){return"structuredClone"in globalThis?structuredClone(t):pt(gt(t))}function Xt(t){const e=t;let r=!0,n=!1,s=!1,i=!1,a,u;for(;r;)t._def.typeName=="ZodNullable"?(n=!0,t=t.unwrap()):t._def.typeName=="ZodDefault"?(i=!0,u=t._def.defaultValue(),t=t._def.innerType):t._def.typeName=="ZodOptional"?(s=!0,t=t.unwrap()):t._def.typeName=="ZodEffects"?(a||(a=t),t=t._def.schema):t._def.typeName=="ZodPipeline"?t=t._def.out:r=!1;return{zodType:t,originalType:e,isNullable:n,isOptional:s,hasDefault:i,defaultValue:u,effects:a}}const xe=new WeakMap;function Ge(t){return xe.has(t)||xe.set(t,$e(t)),xe.get(t)}function $e(t){const e=Xt(t).zodType;if(e._def.typeName=="ZodObject")return Object.fromEntries(Object.entries(e.shape).map(([r,n])=>[r,$e(n)]).filter(r=>r[1]!==void 0));if(e._def.typeName=="ZodArray")return $e(e._def.type)??{};if(e._def.typeName=="ZodRecord")return $e(e._def.valueType)??{};if(e._def.typeName=="ZodUnion")return e._def.options.reduce((n,s)=>{const i=$e(s);return i&&(n={...n??{},...i}),n},void 0)}function Ue(t,e,r=!0){const n={},s=Object.entries(t);if("_errors"in t&&t._errors.length){if(!e||!r)return t._errors;n._errors=t._errors}for(const[i,a]of s.filter(([u])=>u!=="_errors")){const u=!isNaN(parseInt(i,10));n[i]=Ue(a,e?u?e:e[i]:void 0,!!(e!=null&&e[i]))}return n}function Qt(t){return yt(t,[])}function yt(t,e){return Object.entries(t).filter(([,n])=>n!==void 0).flatMap(([n,s])=>{if(Array.isArray(s)&&s.length>0){const i=e.concat([n]);return{path:Wt(i),messages:s}}else return yt(t[n],e.concat([n]))})}function wt(t,e){t.update(r=>(fe(r,n=>{if(!(n.path.length==1&&n.path[0]=="_errors"&&!e.clearFormLevelErrors)&&Array.isArray(n.value))return n.set(void 0)}),e.undefinePath&&be(r,[e.undefinePath],void 0),r))}async function $t(t,e,r,n,s){return zt(t.validators,e,r,n,s)}async function zt(t,e,r,n,s){if(t){let i,a={};if("safeParseAsync"in t){const u=t,f=await u.safeParseAsync(e);i=f.success,f.success||(a=Ue(f.error.format(),Ge(u)))}else{i=!0;const u=t,f=[];await Gt(e,async({value:c,path:$})=>{const m=$.filter(g=>isNaN(parseInt(g))),l=Q(u,m);if(typeof(l==null?void 0:l.value)=="function"){const g=l.value;if(Array.isArray(c))for(const v in c){const p=await g(c[v]);p&&(i=!1,f.push({path:$.concat([v]),errors:typeof p=="string"?[p]:p??void 0}))}else{const v=await g(c);v&&(i=!1,f.push({path:$,errors:typeof v=="string"?[v]:v??void 0}))}}});for(const{path:c,errors:$}of f){const m=Q(a,c,({parent:l,key:g,value:v})=>(v===void 0&&(l[g]={}),l[g]));if(m){const{parent:l,key:g}=m;l[g]=$}}}if(!i)return{valid:!1,posted:s,errors:a,data:e,constraints:n,message:void 0,id:r}}return{valid:!0,posted:s,errors:{},data:e,constraints:n,message:void 0,id:r}}async function er(t,e,r){if(typeof t.validators!="object"||!("safeParseAsync"in t.validators))return;const n=t.validators,s=await n.safeParseAsync(e);if(s.success)r.update(i=>(fe(i,a=>{if(a.key=="_errors")return a.set(void 0)}),i));else{const i=Ue(s.error.format(),Ge(n));r.update(a=>(fe(a,u=>{if(u.key=="_errors")return u.set(void 0)}),fe(i,u=>{if(u.key=="_errors")return be(a,[u.path],u.value)}),a))}}async function Ze(t,e,r,n,s,i={}){function a(){wt(n,{undefinePath:t,clearFormLevelErrors:!0})}function u(c){return typeof c=="string"&&(c=[c]),(i.update===!0||i.update=="errors")&&n.update($=>{const m=Q($,t,l=>{if(Je(t,l))throw new x("Errors can only be added to form fields, not to arrays or objects in the schema. Path: "+l.path.slice(0,-1));return l.value===void 0?(l.parent[l.key]={},l.parent[l.key]):l.value});if(!m)throw new x("Error path could not be created: "+t);return m.parent[m.key]=c??void 0,$}),c??void 0}const f=await tr(t,e.validators,r,n,s,i);if(f.validated)if(f.validated==="all"&&!f.errors)a();else return u(f.errors);else if(f.validated===!1&&e.defaultValidator=="clear")return u(void 0);return f.errors}async function tr(t,e,r,n,s,i={}){i.update===void 0&&(i.update=!0),i.taint===void 0&&(i.taint=!1),typeof i.errors=="string"&&(i.errors=[i.errors]);const a={value:i.value,shouldUpdate:!0,currentData:void 0,validationPath:t.filter(l=>isNaN(parseInt(l)))};async function u(){return{validated:!1,errors:void 0}}function f(l,g){if(g===void 0)return!1;const v=Q(g,l);return v?v.value===!0:!1}function c(l){n.update(l)}function $(){n.update(l=>(fe(l,g=>{if(g.key=="_errors")return g.set(void 0)}),l))}function m(l,g){return Ue(l.format(),Ge(g))}if("value"in i)i.update===!0||i.update==="value"?r.update(l=>(be(l,[t],a.value),a.currentData=l),{taint:i.taint}):a.shouldUpdate=!1;else{a.currentData=I(r);const l=Q(a.currentData,t);a.value=l==null?void 0:l.value}if(typeof e!="object")return u();if("safeParseAsync"in e){a.shouldUpdate||(a.currentData=_e(a.currentData??I(r)),be(a.currentData,[t],a.value));const l=await e.safeParseAsync(a.currentData);if(l.success)return $(),{validated:!0,errors:void 0};{const g=m(l.error,e);if(i.update===!0||i.update=="errors"){const p=I(s);c(d=>(fe(d,h=>{if(h.key=="_errors")return h.set(void 0)}),fe(g,h=>{if(h.key=="_errors")return be(d,[h.path],h.value);if(Array.isArray(h.value))return f(h.path,p)&&be(d,[h.path],h.value),"skip"}),d))}const v=Q(g,t);return{validated:!0,errors:i.errors??(v==null?void 0:v.value)}}}else{const l=Q(e,a.validationPath);if(l){if(l.value===void 0)return u();{const g=await l.value(a.value);return{validated:!0,errors:g&&(i.errors??g)}}}else throw new x("No Superforms validator found: "+t)}}function Ae(t){return Ot.apply_action(t)}function rr(t){const e=JSON.parse(t);return e.data&&(e.data=pt(e.data)),e}function tt(t){return HTMLElement.prototype.cloneNode.call(t)}function nr(t,e=()=>{}){const r=async({action:s,result:i,reset:a})=>{i.type==="success"&&(a!==!1&&HTMLFormElement.prototype.reset.call(t),await bt()),(location.origin+location.pathname===s.origin+s.pathname||i.type==="redirect"||i.type==="error")&&Ae(i)};async function n(s){var v,p,d,h;if(((v=s.submitter)!=null&&v.hasAttribute("formmethod")?s.submitter.formMethod:tt(t).method)!=="post")return;s.preventDefault();const a=new URL((p=s.submitter)!=null&&p.hasAttribute("formaction")?s.submitter.formAction:tt(t).action),u=new FormData(t),f=(d=s.submitter)==null?void 0:d.getAttribute("name");f&&u.append(f,((h=s.submitter)==null?void 0:h.getAttribute("value"))??"");const c=new AbortController;let $=!1;const l=await e({action:a,cancel:()=>$=!0,controller:c,get data(){return u},formData:u,get form(){return t},formElement:t,submitter:s.submitter})??r;if($)return;let g;try{const y=await fetch(a,{method:"POST",headers:{accept:"application/json","x-sveltekit-action":"true"},cache:"no-store",body:u,signal:c.signal});g=rr(await y.text()),g.type==="error"&&(g.status=y.status)}catch(y){if((y==null?void 0:y.name)==="AbortError")return;g={type:"error",error:y}}l({action:a,get data(){return u},formData:u,get form(){return t},formElement:t,update:y=>r({action:a,result:g,reset:y==null?void 0:y.reset}),result:g})}return HTMLFormElement.prototype.addEventListener.call(t,"submit",n),{destroy(){HTMLFormElement.prototype.removeEventListener.call(t,"submit",n)}}}const ar=(t,e=0)=>{const r=t.getBoundingClientRect();return r.top>=e&&r.left>=0&&r.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&r.right<=(window.innerWidth||document.documentElement.clientWidth)},sr=(t,e=1.125,r="smooth")=>{const i=t.getBoundingClientRect().top+window.pageYOffset-window.innerHeight/(2*e);window.scrollTo({left:0,top:i,behavior:r})};var B;(function(t){t[t.Idle=0]="Idle",t[t.Submitting=1]="Submitting",t[t.Delayed=2]="Delayed",t[t.Timeout=3]="Timeout"})(B||(B={}));function rt(t){!t.flashMessage||!_t||Ye(t)&&(document.cookie=`flash=; Max-Age=0; Path=${t.flashMessage.cookiePath??"/"};`)}function Ye(t){return!t.flashMessage||!_t?!1:t.syncFlashMessage}function ir(t,e,r,n,s,i,a,u,f,c,$,m,l,g,v,p,d){c();const h=s;async function y(w){await Ze(w,a,u,h,g)}function E(w){return w&&(w instanceof HTMLSelectElement||w instanceof HTMLInputElement&&w.type=="radio")}async function P(w){if(!(a.validationMethod=="oninput"||a.validationMethod=="submit-only")){E(w.target)&&await new Promise(L=>setTimeout(L,0));for(const L of I(v))y(L);v.set([])}}t.addEventListener("focusout",P);const V=new Set;function z(w){const L=w.target;a.selectErrorText&&L.select()}function te(w){w.querySelectorAll("input").forEach(L=>{L.addEventListener("invalid",z)})}function re(w){w.querySelectorAll("input").forEach(L=>L.removeEventListener("invalid",z))}qt(w=>{w.type=="goto"&&A.completed(!0)}),st(()=>{V.forEach(w=>re(w)),V.clear(),t.removeEventListener("focusout",P),A.completed(!0)});function b(w){function L(){if(a.selectErrorText){const j=ne();j&&w!==j&&(re(j),V.delete(j)),V.has(w)||(te(w),V.add(w))}W=w}let W;function ne(){return W}function de(j){return typeof a.autoFocusOnError=="boolean"?a.autoFocusOnError:!/iPhone|iPad|iPod|Android/i.test(j)}const ge=async()=>{if(a.scrollToError=="off")return;const j=a.errorSelector;if(!j)return;await it();let M;if(M=W.querySelector(j),!M)return;M=M.querySelector(j)??M;const S=a.stickyNavbar?document.querySelector(a.stickyNavbar):null;if(typeof a.scrollToError!="string"?M.scrollIntoView(a.scrollToError):ar(M,(S==null?void 0:S.offsetHeight)??0)||sr(M,void 0,a.scrollToError),!de(navigator.userAgent))return;let N;if(N=M,["INPUT","SELECT","BUTTON","TEXTAREA"].includes(N.tagName)||(N=N.querySelector('input:not([type="hidden"]):not(.flatpickr-input), select, textarea')),N)try{N.focus({preventScroll:!0}),a.selectErrorText&&N.tagName=="INPUT"&&N.select()}catch{}};L();{let j=B.Idle,M,S;const N=R=>{j=R,e.set(j>=B.Submitting),r.set(j>=B.Delayed),n.set(j>=B.Timeout)};return{submitting:()=>{L(),N(j!=B.Delayed?B.Submitting:B.Delayed),M&&clearTimeout(M),S&&clearTimeout(S),M=window.setTimeout(()=>{j==B.Submitting&&N(B.Delayed)},a.delayMs),S=window.setTimeout(()=>{j==B.Delayed&&N(B.Timeout)},a.timeoutMs)},completed:R=>{M&&clearTimeout(M),S&&clearTimeout(S),M=S=0,N(B.Idle),R||setTimeout(ge)},scrollToFirstError:()=>setTimeout(ge),isSubmitting:()=>j===B.Submitting||j===B.Delayed}}}const A=b(t);let C;return nr(t,async w=>{var j;const L=w.cancel;let W=!1;function ne(){return W=!0,L()}if(w.cancel=ne,A.isSubmitting()&&a.multipleSubmits=="prevent")ne();else{A.isSubmitting()&&a.multipleSubmits=="abort"&&C&&C.abort(),C=w.controller;for(const M of $.onSubmit)await M(w)}if(W)a.flashMessage&&rt(a);else{const M=await $t(a,I(u),I(m),I(l),I(d));if(!M.valid){ne();const S={type:"failure",status:(typeof a.SPA=="boolean"||(j=a.SPA)==null?void 0:j.failStatus)??400,data:{form:M}};setTimeout(()=>ge({result:S}),0)}if(!W){switch(a.clearOnSubmit){case"errors-and-message":h.clear(),f.set(void 0);break;case"errors":h.clear();break;case"message":f.set(void 0);break}a.flashMessage&&(a.clearOnSubmit=="errors-and-message"||a.clearOnSubmit=="message")&&Ye(a)&&a.flashMessage.module.getFlash(Ee).set(void 0),A.submitting();const S="formData"in w?w.formData:w.data;if(a.SPA){ne();const R={type:"success",status:200,data:{form:{valid:!0,posted:!0,errors:{},data:I(u),constraints:I(l),message:void 0,id:I(m)}}};setTimeout(()=>ge({result:R}),0)}else if(a.dataType==="json"){const N=I(u),R=de(gt(N),a.jsonChunkSize??5e5);for(const O of R)S.append("__superform_json",O);Object.keys(N).forEach(O=>{typeof S.get(O)=="string"&&S.delete(O)})}if(!a.SPA&&!S.has("__superform_id")){const N=I(m);N!==void 0&&S.set("__superform_id",N)}}}function de(M,S){const N=Math.ceil(M.length/S),R=new Array(N);for(let O=0,ae=0;O<N;++O,ae+=S)R[O]=M.substring(ae,ae+S);return R}async function ge(M){const S=M.result;C=null;let N=!1;const R={result:S,formEl:t,cancel:()=>N=!0};for(const O of $.onResult)await O(R);if(!N){if((S.type==="success"||S.type=="failure")&&S.data){const O=p(S.data);if(!O.length)throw new x("No form data returned from ActionResult. Make sure you return { form } in the form actions.");for(const ae of O){if(ae.id!==I(m))continue;const Le={form:ae,formEl:t,cancel:()=>N=!0};for(const Se of $.onUpdate)await Se(Le)}}if(!N){if(S.type!=="error")S.type==="success"&&a.invalidateAll&&await bt(),a.applyAction?await Ae(S):await i(S);else{if(a.applyAction)if(a.onError=="apply")await Ae(S);else{const O={type:"failure",status:Math.floor(S.status||500),data:S};await Ae(O)}if(a.onError!=="apply"){const O={result:S,message:f};for(const ae of $.onError)ae!=="apply"&&await ae(O)}}a.flashMessage&&S.type=="error"&&a.flashMessage.onError&&await a.flashMessage.onError({result:S,message:a.flashMessage.module.getFlash(Ee)})}}N&&a.flashMessage&&rt(a),(N||S.type!="redirect")&&A.completed(N)}return ge})}new TextEncoder;const or={applyAction:!0,invalidateAll:!0,resetForm:!1,autoFocusOnError:"detect",scrollToError:"smooth",errorSelector:'[aria-invalid="true"],[data-invalid]',selectErrorText:!1,stickyNavbar:void 0,taintedMessage:"Do you want to leave this page? Changes you made may not be saved.",onSubmit:void 0,onResult:void 0,onUpdate:void 0,onUpdated:void 0,onError:t=>{console.warn("Unhandled Superform error, use onError event to handle it:",t.result.error)},dataType:"form",validators:void 0,defaultValidator:"keep",clearOnSubmit:"errors-and-message",delayMs:500,timeoutMs:8e3,multipleSubmits:"prevent",validation:void 0,SPA:void 0,validateMethod:"auto"};function ur(t,e={}){var Se;e={...or,...e},e.SPA&&e.validators===void 0&&console.warn("No validators set for Superform in SPA mode. Add them to the validators option, or set it to false to disable this warning.");let r=e.id;!t||l(t)===!1?(((Se=e.warnings)==null?void 0:Se.noValidationAndConstraints)!==!1&&console.warn((t?"Form data sent directly to superForm instead of through superValidate. No initial data validation is made. ":"No form data sent to superForm, schema type safety cannot be guaranteed. ")+"Also, no constraints will exist for the form. Set the warnings.noValidationAndConstraints option to false to disable this warning."),t={valid:!1,posted:!1,errors:{},data:t??{},constraints:{}}):r===void 0&&(r=t.id);const n=I(Ee).form;if(n&&typeof n=="object"){for(const o of m(n).reverse())if(o.id===r){const _=t;t=o,t.valid&&e.resetForm&&(e.resetForm===!0||e.resetForm())&&(t=_e(_),t.message=o.message);break}}const s=t,i=_e(s);if(typeof i.valid!="boolean")throw new x("A non-validation object was passed to superForm. Check what's passed to its first parameter.");const a=se(s.errors),u=se(r),f={taintedMessage:e.taintedMessage,taintedFormState:_e(i.data)};function c(o=8){return Math.random().toString(36).substring(2,o+2)}function $(o){f.taintedFormState=_e(o)}function m(o){var k;const _=Object.values(o).filter(T=>l(T)!==!1);if(_.length>1&&((k=e.warnings)==null?void 0:k.duplicateId)!==!1){const T=new Set;for(const U of _)T.has(U.id)?console.warn(`Duplicate form id found: "${U.id}". Multiple forms will receive the same data. Use the id option to differentiate between them, or if this is intended, set warnings.duplicateId option to false to disable this message.`):T.add(U.id)}return _}function l(o){return!o||typeof o!="object"||!("valid"in o&&"errors"in o&&typeof o.valid=="boolean")?!1:"id"in o&&typeof o.id=="string"?o.id:void 0}function g(){e.taintedMessage=f.taintedMessage,r===void 0&&u.set(c())}function v(o){const _=se(o);return{subscribe:_.subscribe,set:(k,T={})=>(de(k,f.taintedFormState,T.taint??!0),f.taintedFormState=_e(k),_.set(k)),update:(k,T={})=>_.update(U=>{const ce=k(U);return de(ce,f.taintedFormState,T.taint??!0),f.taintedFormState=_e(U),ce})}}const p=[u.subscribe(o=>r=o)];function d(o){p.push(o)}function h(){p.forEach(o=>o())}const y=v(s.data);function E(o,_){if(!(!_||typeof _!="object")){if(Array.isArray(_))_.length>0&&E(o,_[0]);else if(!(_ instanceof Date))throw new x(`Object found in form field "${o}". Set options.dataType = 'json' and use:enhance to use nested data structures.`)}}async function P(o,_){o.valid&&_&&e.resetForm&&(e.resetForm===!0||e.resetForm())?V(o.message):R(o,_),O.onUpdated.length&&await it();for(const k of O.onUpdated)k({form:o})}function V(o,_,k){const T=_e(i);T.data={...T.data,..._},k!==void 0&&(T.id=k),R(T,!0,o)}const z=async(o,_)=>{if(o.type=="error")throw new x(`ActionResult of type "${o.type}" cannot be passed to update function.`);if(o.type=="redirect"){e.resetForm&&(e.resetForm===!0||e.resetForm())&&V();return}if(typeof o.data!="object")throw new x("Non-object validation data returned from ActionResult.");const k=m(o.data);if(!k.length)throw new x("No form data returned from ActionResult. Make sure you return { form } in the form actions.");for(const T of k)T.id===r&&await P(T,_??(o.status>=200&&o.status<300))},te=se([]),re=se(s.message),b=se(s.constraints),A=se(!1),C={subscribe:a.subscribe,set:a.set,update:a.update,clear:()=>wt(a,{undefinePath:null,clearFormLevelErrors:!0})},w=se();function L(){return I(w)}function W(o){if(o===null)throw new x("$tainted store contained null");if(typeof o=="object"){for(const _ of Object.values(o))if(W(_))return!0}return o===!0}async function ne(o,_){if(e.validationMethod=="onblur"||e.validationMethod=="submit-only")return!1;let k=e.validationMethod==="oninput";if(!k){const T=I(C),U=T?Jt(T,o,{modifier:Re=>{if(Je(o,Re))throw new x("Errors can only be added to form fields, not to arrays or objects in the schema. Path: "+Re.path.slice(0,-1));return Re.value}}):void 0;k=!!(U&&U.key in U.parent)}return k?(await Ze(o,e,y,C,w,{taint:_}),!0):!1}async function de(o,_,k){if(k===!1)return;if(k==="untaint-all"){w.set(void 0);return}let T=Kt(o,_);if(typeof k=="object"&&(typeof k.fields=="string"&&(k.fields=[k.fields]),T=k.fields.map(U=>Ie(U)),k=!0),k===!0&&te.set(T),T.length){w.update(ce=>(ce||(ce={}),be(ce,T,k===!0?!0:void 0),ce));let U=!1;for(const ce of T)U=U||await ne(ce,k);U||await er(e,I(y),C)}}function ge(o,_){w.set(o),$(_)}const j=se(!1),M=se(!1),S=se(!1),N=we(C,o=>o?Qt(o):[]);if(e.taintedMessage=void 0,st(()=>{h();for(const o of Object.values(O))o.length=0}),e.dataType!=="json")for(const[o,_]of Object.entries(s.data))E(o,_);function R(o,_,k){if(_&&ge(typeof _=="boolean"?void 0:_,o.data),k=k??o.message,y.set(o.data,{taint:!1}),re.set(k),C.set(o.errors),u.set(o.id),A.set(o.posted),e.flashMessage&&Ye(e)){const T=e.flashMessage.module.getFlash(Ee);k&&I(T)===void 0&&T.set(k)}}const O={onSubmit:e.onSubmit?[e.onSubmit]:[],onResult:e.onResult?[e.onResult]:[],onUpdate:e.onUpdate?[e.onUpdate]:[],onUpdated:e.onUpdated?[e.onUpdated]:[],onError:e.onError?[e.onError]:[]};Zt(o=>{if(e.taintedMessage&&!I(j)){const _=L();_&&W(_)&&!window.confirm(e.taintedMessage)&&o.cancel()}}),d(Ee.subscribe(async o=>{if(!e.applyAction)return;function _(T){throw new x(`No form data found in ${T}. Make sure you return { form } in form actions and load functions.`)}const k=o.status>=200&&o.status<300;if(o.form&&typeof o.form=="object"){if(o.form.type=="error")return;const T=m(o.form);T.length||_("$page.form (ActionData)");for(const U of T)U.id===r&&await P(U,k)}else if(o.data&&typeof o.data=="object"){const T=m(o.data);for(const U of T)U.id===r&&R(U,k)}}));const ae=Object.fromEntries(Object.keys(i.data).map(o=>[o,{name:o,value:ye(y,o),errors:ye(C,o),constraints:ye(b,o)}]));function Le(o,_){return o===void 0?$t(e,I(y),r,I(b),!1):Ze(Ie(o),e,y,C,w,_)}return{form:y,formId:u,errors:C,message:re,constraints:b,fields:ae,tainted:w,submitting:we(j,o=>o),delayed:we(M,o=>o),timeout:we(S,o=>o),options:e,capture:function(){return{valid:i.valid,posted:I(A),errors:I(C),data:I(y),constraints:I(b),message:I(re),id:r,tainted:I(w)}},restore:function(o){return R(o,o.tainted??!0)},validate:Le,enhance:(o,_)=>{if(_){if(_.onError){if(e.onError==="apply")throw new x('options.onError is set to "apply", cannot add any onError events.');if(_.onError==="apply")throw new x('Cannot add "apply" as onError event in use:enhance.');O.onError.push(_.onError)}_.onResult&&O.onResult.push(_.onResult),_.onSubmit&&O.onSubmit.push(_.onSubmit),_.onUpdate&&O.onUpdate.push(_.onUpdate),_.onUpdated&&O.onUpdated.push(_.onUpdated)}return ir(o,j,M,S,C,z,e,y,re,g,O,u,b,w,te,m,A)},allErrors:N,posted:A,reset:o=>V(o!=null&&o.keepMessage?I(re):void 0,o==null?void 0:o.data,o==null?void 0:o.id)}}function lr(t){let e,r,n='<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 6L9 17l-5-5"/>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},t[0]],i={};for(let a=0;a<s.length;a+=1)i=me(i,s[a]);return{c(){e=Et("svg"),r=new St(!0),this.h()},l(a){e=kt(a,"svg",{viewBox:!0,width:!0,height:!0});var u=ee(e);r=At(u,!0),u.forEach(F),this.h()},h(){r.a=null,Ke(e,i)},m(a,u){D(a,e,u),r.m(n,e)},p(a,[u]){Ke(e,i=qe(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},u&1&&a[0]]))},i:He,o:He,d(a){a&&F(e)}}}function fr(t,e,r){return t.$$set=n=>{r(0,e=me(me({},e),Te(n)))},e=Te(e),[e]}class cr extends Ce{constructor(e){super(),De(this,e,fr,lr,Oe,{})}}function nt(t){let e,r;return{c(){e=Z("span"),r=he(t[3]),this.h()},l(n){e=q(n,"SPAN",{class:!0});var s=ee(e);r=pe(s,t[3]),s.forEach(F),this.h()},h(){X(e,"class","invalid svelte-erm79x")},m(n,s){D(n,e,s),H(e,r)},p(n,s){s&8&&dt(r,n[3])},d(n){n&&F(e)}}}function dr(t){let e,r,n,s,i,a,u,f,c,$,m,l,g,v=[{type:"checkbox"},{name:t[0]},{__value:"true"},t[5]],p={};for(let E=0;E<v.length;E+=1)p=me(p,v[E]);a=new cr({});const d=t[8].default,h=ot(d,t,t[7],null);let y=t[3]&&nt(t);return{c(){e=Z("label"),r=Z("div"),n=Z("input"),s=J(),i=Z("div"),ie(a.$$.fragment),u=J(),f=Z("span"),h&&h.c(),c=J(),y&&y.c(),$=Fe(),this.h()},l(E){e=q(E,"LABEL",{class:!0});var P=ee(e);r=q(P,"DIV",{class:!0});var V=ee(r);n=q(V,"INPUT",{type:!0,name:!0}),s=G(V),i=q(V,"DIV",{class:!0});var z=ee(i);oe(a.$$.fragment,z),z.forEach(F),V.forEach(F),u=G(P),f=q(P,"SPAN",{class:!0});var te=ee(f);h&&h.l(te),te.forEach(F),P.forEach(F),c=G(E),y&&y.l(E),$=Fe(),this.h()},h(){Ne(n,p),Pe(n,"svelte-erm79x",!0),X(i,"class","symbol svelte-erm79x"),X(r,"class","checkbox svelte-erm79x"),X(f,"class","display-name"),X(e,"class","svelte-erm79x")},m(E,P){D(E,e,P),H(e,r),H(r,n),n.autofocus&&n.focus(),n.checked=t[2],H(r,s),H(r,i),ue(a,i,null),H(e,u),H(e,f),h&&h.m(f,null),D(E,c,P),y&&y.m(E,P),D(E,$,P),m=!0,l||(g=ut(n,"change",t[9]),l=!0)},p(E,[P]){Ne(n,p=qe(v,[{type:"checkbox"},(!m||P&1)&&{name:E[0]},{__value:"true"},P&32&&E[5]])),P&4&&(n.checked=E[2]),Pe(n,"svelte-erm79x",!0),h&&h.p&&(!m||P&128)&&lt(h,d,E,E[7],m?ct(d,E[7],P,null):ft(E[7]),null),E[3]?y?y.p(E,P):(y=nt(E),y.c(),y.m($.parentNode,$)):y&&(y.d(1),y=null)},i(E){m||(Y(a.$$.fragment,E),Y(h,E),m=!0)},o(E){K(a.$$.fragment,E),K(h,E),m=!1},d(E){E&&(F(e),F(c),F($)),le(a),h&&h.d(E),y&&y.d(E),l=!1,g()}}}function mr(t,e,r){let n;const s=["form","field"];let i=Me(e,s),a,u=He,f=()=>(u(),u=Tt(n,h=>r(2,a=h)),n),c;t.$$.on_destroy.push(()=>u());let{$$slots:$={},$$scope:m}=e,{form:l}=e,{field:g}=e;const{value:v,errors:p}=vt(l,g);ke(t,p,h=>r(3,c=h));function d(){a=this.checked,n.set(a)}return t.$$set=h=>{e=me(me({},e),Te(h)),r(5,i=Me(e,s)),"form"in h&&r(6,l=h.form),"field"in h&&r(0,g=h.field),"$$scope"in h&&r(7,m=h.$$scope)},f(r(1,n=v)),[g,n,a,c,p,i,l,m,$,d]}class hr extends Ce{constructor(e){super(),De(this,e,mr,dr,Oe,{form:6,field:0})}}function at(t){let e,r;return{c(){e=Z("span"),r=he(t[1]),this.h()},l(n){e=q(n,"SPAN",{class:!0});var s=ee(e);r=pe(s,t[1]),s.forEach(F),this.h()},h(){X(e,"class","invalid svelte-hpvgb9")},m(n,s){D(n,e,s),H(e,r)},p(n,s){s&2&&dt(r,n[1])},d(n){n&&F(e)}}}function pr(t){let e,r,n,s,i,a,u,f,c,$;const m=t[10].default,l=ot(m,t,t[9],null);let g=[{name:t[0]},{type:"text"},{"aria-invalid":i=t[1]?"true":void 0},t[2],t[7]],v={};for(let d=0;d<g.length;d+=1)v=me(v,g[d]);let p=t[1]&&at(t);return{c(){e=Z("label"),r=Z("span"),l&&l.c(),n=J(),s=Z("input"),a=J(),p&&p.c(),u=Fe(),this.h()},l(d){e=q(d,"LABEL",{class:!0});var h=ee(e);r=q(h,"SPAN",{class:!0});var y=ee(r);l&&l.l(y),y.forEach(F),n=G(h),s=q(h,"INPUT",{name:!0,type:!0,"aria-invalid":!0}),h.forEach(F),a=G(d),p&&p.l(d),u=Fe(),this.h()},h(){X(r,"class","display-name"),Ne(s,v),Pe(s,"svelte-hpvgb9",!0),X(e,"class","svelte-hpvgb9")},m(d,h){D(d,e,h),H(e,r),l&&l.m(r,null),H(e,n),H(e,s),s.autofocus&&s.focus(),Xe(s,t[3]),D(d,a,h),p&&p.m(d,h),D(d,u,h),f=!0,c||($=ut(s,"input",t[11]),c=!0)},p(d,[h]){l&&l.p&&(!f||h&512)&&lt(l,m,d,d[9],f?ct(m,d[9],h,null):ft(d[9]),null),Ne(s,v=qe(g,[(!f||h&1)&&{name:d[0]},{type:"text"},(!f||h&2&&i!==(i=d[1]?"true":void 0))&&{"aria-invalid":i},h&4&&d[2],h&128&&d[7]])),h&8&&s.value!==d[3]&&Xe(s,d[3]),Pe(s,"svelte-hpvgb9",!0),d[1]?p?p.p(d,h):(p=at(d),p.c(),p.m(u.parentNode,u)):p&&(p.d(1),p=null)},i(d){f||(Y(l,d),f=!0)},o(d){K(l,d),f=!1},d(d){d&&(F(e),F(a),F(u)),l&&l.d(d),p&&p.d(d),c=!1,$()}}}function gr(t,e,r){const n=["form","field"];let s=Me(e,n),i,a,u,{$$slots:f={},$$scope:c}=e,{form:$}=e,{field:m}=e;const{value:l,errors:g,constraints:v}=vt($,m);ke(t,l,d=>r(3,u=d)),ke(t,g,d=>r(1,i=d)),ke(t,v,d=>r(2,a=d));function p(){u=this.value,l.set(u)}return t.$$set=d=>{e=me(me({},e),Te(d)),r(7,s=Me(e,n)),"form"in d&&r(8,$=d.form),"field"in d&&r(0,m=d.field),"$$scope"in d&&r(9,c=d.$$scope)},[m,i,a,u,l,g,v,s,$,c,f,p]}class _r extends Ce{constructor(e){super(),De(this,e,gr,pr,Oe,{form:8,field:0})}}function br(t){let e;return{c(){e=he("Username vergeben")},l(r){e=pe(r,"Username vergeben")},m(r,n){D(r,e,n)},d(r){r&&F(e)}}}function vr(t){let e;return{c(){e=he("Schritt 1 von 3")},l(r){e=pe(r,"Schritt 1 von 3")},m(r,n){D(r,e,n)},d(r){r&&F(e)}}}function yr(t){let e;return{c(){e=he(`Willkommen zum Online-Spiel The Hidden Threat*. Gleich geht es los. Nach der Vergabe des
    Usernamen werden Sie in die Lobby geleitet.`)},l(r){e=pe(r,`Willkommen zum Online-Spiel The Hidden Threat*. Gleich geht es los. Nach der Vergabe des
    Usernamen werden Sie in die Lobby geleitet.`)},m(r,n){D(r,e,n)},d(r){r&&F(e)}}}function wr(t){let e;return{c(){e=he("Dein Username")},l(r){e=pe(r,"Dein Username")},m(r,n){D(r,e,n)},d(r){r&&F(e)}}}function $r(t){let e;return{c(){e=he("Bitte gib Dir einen Username mit maximal 20 Buchstaben.")},l(r){e=pe(r,"Bitte gib Dir einen Username mit maximal 20 Buchstaben.")},m(r,n){D(r,e,n)},d(r){r&&F(e)}}}function Er(t){let e;return{c(){e=he(`Hiermit stimme ich der Speicherung meiner eingegebenen Daten zu und bestätige dass ich
      mindestens 18 Jahre alt bin.*`)},l(r){e=pe(r,`Hiermit stimme ich der Speicherung meiner eingegebenen Daten zu und bestätige dass ich
      mindestens 18 Jahre alt bin.*`)},m(r,n){D(r,e,n)},d(r){r&&F(e)}}}function Sr(t){let e;return{c(){e=he("Bestätigen und weiter")},l(r){e=pe(r,"Bestätigen und weiter")},m(r,n){D(r,e,n)},d(r){r&&F(e)}}}function kr(t){let e,r;return e=new jt({props:{type:"submit",primary:!0,$$slots:{default:[Sr]},$$scope:{ctx:t}}}),{c(){ie(e.$$.fragment)},l(n){oe(e.$$.fragment,n)},m(n,s){ue(e,n,s),r=!0},p(n,s){const i={};s&4&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){r||(Y(e.$$.fragment,n),r=!0)},o(n){K(e.$$.fragment,n),r=!1},d(n){le(e,n)}}}function Ar(t){let e,r,n,s,i,a,u,f,c,$,m,l,g,v,p,d,h,y,E,P,V='* Weitere Informationen zum Spiel sind auf unserer <a href="/">Website</a> zufinden.',z,te,re;return r=new Mt({props:{color:"black"}}),s=new ze({props:{separator:!0,$$slots:{info:[vr],default:[br]},$$scope:{ctx:t}}}),a=new Qe({props:{$$slots:{default:[yr]},$$scope:{ctx:t}}}),$=new ze({props:{centered:!0,$$slots:{default:[wr]},$$scope:{ctx:t}}}),l=new Qe({props:{$$slots:{default:[$r]},$$scope:{ctx:t}}}),v=new _r({props:{form:t[0],field:"userName",placeholder:"z.B. Vor-und Nachname, Spitzname, Initalen, etc."}}),d=new hr({props:{form:t[0],field:"acceptedTos",$$slots:{default:[Er]},$$scope:{ctx:t}}}),y=new It({props:{$$slots:{default:[kr]},$$scope:{ctx:t}}}),{c(){e=Z("div"),ie(r.$$.fragment),n=J(),ie(s.$$.fragment),i=J(),ie(a.$$.fragment),u=J(),f=Z("form"),c=Z("div"),ie($.$$.fragment),m=J(),ie(l.$$.fragment),g=J(),ie(v.$$.fragment),p=J(),ie(d.$$.fragment),h=J(),ie(y.$$.fragment),E=J(),P=Z("p"),P.innerHTML=V,this.h()},l(b){e=q(b,"DIV",{class:!0});var A=ee(e);oe(r.$$.fragment,A),A.forEach(F),n=G(b),oe(s.$$.fragment,b),i=G(b),oe(a.$$.fragment,b),u=G(b),f=q(b,"FORM",{method:!0,class:!0});var C=ee(f);c=q(C,"DIV",{class:!0});var w=ee(c);oe($.$$.fragment,w),m=G(w),oe(l.$$.fragment,w),g=G(w),oe(v.$$.fragment,w),w.forEach(F),p=G(C),oe(d.$$.fragment,C),h=G(C),oe(y.$$.fragment,C),C.forEach(F),E=G(b),P=q(b,"P",{class:!0,"data-svelte-h":!0}),Ft(P)!=="svelte-1iim19c"&&(P.innerHTML=V),this.h()},h(){X(e,"class","backdrop svelte-4xraue"),X(c,"class","field svelte-4xraue"),X(f,"method","post"),X(f,"class","svelte-4xraue"),X(P,"class","more-info text-sm svelte-4xraue")},m(b,A){D(b,e,A),ue(r,e,null),D(b,n,A),ue(s,b,A),D(b,i,A),ue(a,b,A),D(b,u,A),D(b,f,A),H(f,c),ue($,c,null),H(c,m),ue(l,c,null),H(c,g),ue(v,c,null),H(f,p),ue(d,f,null),H(f,h),ue(y,f,null),D(b,E,A),D(b,P,A),z=!0,te||(re=Nt(t[0].enhance(f)),te=!0)},p(b,A){const C={};A&4&&(C.$$scope={dirty:A,ctx:b}),s.$set(C);const w={};A&4&&(w.$$scope={dirty:A,ctx:b}),a.$set(w);const L={};A&4&&(L.$$scope={dirty:A,ctx:b}),$.$set(L);const W={};A&4&&(W.$$scope={dirty:A,ctx:b}),l.$set(W);const ne={};A&4&&(ne.$$scope={dirty:A,ctx:b}),d.$set(ne);const de={};A&4&&(de.$$scope={dirty:A,ctx:b}),y.$set(de)},i(b){z||(Y(r.$$.fragment,b),Y(s.$$.fragment,b),Y(a.$$.fragment,b),Y($.$$.fragment,b),Y(l.$$.fragment,b),Y(v.$$.fragment,b),Y(d.$$.fragment,b),Y(y.$$.fragment,b),z=!0)},o(b){K(r.$$.fragment,b),K(s.$$.fragment,b),K(a.$$.fragment,b),K($.$$.fragment,b),K(l.$$.fragment,b),K(v.$$.fragment,b),K(d.$$.fragment,b),K(y.$$.fragment,b),z=!1},d(b){b&&(F(e),F(n),F(i),F(u),F(f),F(E),F(P)),le(r),le(s,b),le(a,b),le($),le(l),le(v),le(d),le(y),te=!1,re()}}}function Tr(t){let e,r;return e=new Pt({props:{paddedContent:!0,showFooter:!0,$$slots:{default:[Ar]},$$scope:{ctx:t}}}),{c(){ie(e.$$.fragment)},l(n){oe(e.$$.fragment,n)},m(n,s){ue(e,n,s),r=!0},p(n,[s]){const i={};s&4&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){r||(Y(e.$$.fragment,n),r=!0)},o(n){K(e.$$.fragment,n),r=!1},d(n){le(e,n)}}}function Fr(t,e,r){let{data:n}=e;const s=ur(n);return t.$$set=i=>{"data"in i&&r(1,n=i.data)},[s,n]}class Lr extends Ce{constructor(e){super(),De(this,e,Fr,Tr,Oe,{data:1})}}export{Lr as U};
