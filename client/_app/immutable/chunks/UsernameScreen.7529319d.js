import{ad as I,a9 as tt,ac as rt,s as Ve,D as ve,o as nt,e as W,a as Y,H as Te,c as G,b as le,g as K,f as F,ae as Ne,B as Fe,p as X,i as U,h as x,a2 as at,u as st,q as it,v as ot,af as Pe,k as ke,a7 as ut,t as me,d as pe,j as lt,n as ft,l as $t,ag as Ge,w as Et,ah as St}from"./scheduler.e5e3f8cd.js";import{S as Be,i as He,c as ee,a as te,m as re,t as Z,b as q,d as ne}from"./index.bdbe56d4.js";import{C as kt,B as At,P as Tt}from"./check.70d04bfb.js";import{P as Nt,a as Je,A as Ft,B as Pt}from"./Paragraph.d1340062.js";import{g as ct,H as Ye}from"./Heading.b5cbd977.js";import{j as xe,k as Mt}from"./singletons.a1c6f256.js";import{d as we,w as ue}from"./index.91a33cbd.js";import{U as dt,N as It,P as jt,a as Ot,b as mt,H as Ct,p as pt}from"./parse.7d180a0f.js";import{p as Ee}from"./stores.d5e977f4.js";const Dt=!0;class De extends Error{constructor(e,r){super(e),this.name="DevalueError",this.path=r.join("")}}function Ke(t){return Object(t)!==t}const Ut=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Lt(t){const e=Object.getPrototypeOf(t);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===Ut}function Rt(t){return Object.prototype.toString.call(t).slice(8,-1)}function Vt(t){switch(t){case'"':return'\\"';case"<":return"\\u003C";case"\\":return"\\\\";case`
`:return"\\n";case"\r":return"\\r";case"	":return"\\t";case"\b":return"\\b";case"\f":return"\\f";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return t<" "?`\\u${t.charCodeAt(0).toString(16).padStart(4,"0")}`:""}}function _e(t){let e="",r=0;const n=t.length;for(let a=0;a<n;a+=1){const i=t[a],s=Vt(i);s&&(e+=t.slice(r,a)+s,r=a+1)}return`"${r===0?t:e+t.slice(r)}"`}function ht(t,e){const r=[],n=new Map,a=[];for(const c in e)a.push({key:c,fn:e[c]});const i=[];let s=0;function u(c){if(typeof c=="function")throw new De("Cannot stringify a function",i);if(n.has(c))return n.get(c);if(c===void 0)return dt;if(Number.isNaN(c))return It;if(c===1/0)return jt;if(c===-1/0)return Ot;if(c===0&&1/c<0)return mt;const $=s++;n.set(c,$);for(const{key:l,fn:g}of a){const y=g(c);if(y)return r[$]=`["${l}",${u(y)}]`,$}let m="";if(Ke(c))m=Ue(c);else switch(Rt(c)){case"Number":case"String":case"Boolean":m=`["Object",${Ue(c)}]`;break;case"BigInt":m=`["BigInt",${c}]`;break;case"Date":m=`["Date","${c.toISOString()}"]`;break;case"RegExp":const{source:g,flags:y}=c;m=y?`["RegExp",${_e(g)},"${y}"]`:`["RegExp",${_e(g)}]`;break;case"Array":m="[";for(let h=0;h<c.length;h+=1)h>0&&(m+=","),h in c?(i.push(`[${h}]`),m+=u(c[h]),i.pop()):m+=Ct;m+="]";break;case"Set":m='["Set"';for(const h of c)m+=`,${u(h)}`;m+="]";break;case"Map":m='["Map"';for(const[h,d]of c)i.push(`.get(${Ke(h)?Ue(h):"..."})`),m+=`,${u(h)},${u(d)}`;m+="]";break;default:if(!Lt(c))throw new De("Cannot stringify arbitrary non-POJOs",i);if(Object.getOwnPropertySymbols(c).length>0)throw new De("Cannot stringify POJOs with symbolic keys",i);if(Object.getPrototypeOf(c)===null){m='["null"';for(const h in c)i.push(`.${h}`),m+=`,${_e(h)},${u(c[h])}`,i.pop();m+="]"}else{m="{";let h=!1;for(const d in c)h&&(m+=","),h=!0,i.push(`.${d}`),m+=`${_e(d)}:${u(c[d])}`,i.pop();m+="}"}}return r[$]=m,$}const f=u(t);return f<0?`${f}`:`[${r.join(",")}]`}function Ue(t){const e=typeof t;return e==="string"?_e(t):t instanceof String?_e(t.toString()):t===void 0?dt.toString():t===0&&1/t<0?mt.toString():e==="bigint"?`["BigInt","${t}"]`:String(t)}const gt=Dt,bt=xe("invalidate_all"),Bt=xe("before_navigate"),Ht=xe("after_navigate");function Me(t){return t.toString().split(/[[\].]+/).filter(e=>e)}function xt(t){return t.reduce((e,r)=>(typeof r=="number"||!isNaN(parseInt(String(r),10))?e+=`[${String(r)}]`:e?e+=`.${String(r)}`:e+=String(r),e),"")}class H extends Error{constructor(e){super(e),Object.setPrototypeOf(this,H.prototype)}}function Ie(t,e,r){return t[e]=r,"skip"}function Ze(t,e){return e.value!==void 0&&typeof e.value!="object"&&e.path.length<t.length}function Zt(t,e,r={}){r.modifier||(r.modifier=a=>Ze(e,a)?void 0:a.value);const n=Q(t,e,r.modifier);if(n)return r.value===void 0||r.value(n.value)?n:void 0}function Q(t,e,r){if(!e.length)return;const n=[e[0]];let a=t;for(;n.length<e.length;){const s=n[n.length-1],u=r?r({parent:a,key:String(s),value:a[s],path:n.map(f=>String(f)),isLeaf:!1,set:f=>Ie(a,s,f)}):a[s];if(u===void 0)return;a=u,n.push(e[n.length])}const i=e[e.length-1];return{parent:a,key:String(i),value:a[i],path:e.map(s=>String(s)),isLeaf:!0,set:s=>Ie(a,i,s)}}function fe(t,e,r=[]){for(const n in t){const a=t[n],i=a===null||typeof a!="object",s={parent:t,key:n,value:a,path:r.map(String).concat([n]),isLeaf:i,set:f=>Ie(t,n,f)},u=e(s);if(u==="abort")return u;if(u==="skip")continue;if(!i){const f=fe(a,e,s.path);if(f==="abort")return f}}}async function qt(t,e,r=[]){for(const n in t){const a=t[n],i=a===null||typeof a!="object",s={parent:t,key:n,value:a,path:r.map(String).concat([n]),isLeaf:i,set:f=>Ie(t,n,f)},u=await e(s);if(u==="abort")return u;if(u==="skip")break;if(!i){const f=fe(a,e,s.path);if(f==="abort")return f}}}function Wt(t,e){return t===e||t.size===e.size&&[...t].every(r=>e.has(r))}function Gt(t,e){const r=new Map;function n(a,i){const s=Q(i,a.path);function u(){r.set(a.path.join(" "),a.path)}a.isLeaf?s?(a.value instanceof Date&&s.value instanceof Date&&a.value.getTime()!=s.value.getTime()||a.value!==s.value)&&u():u():s&&a.value instanceof Set&&s.value instanceof Set&&!Wt(a.value,s.value)&&u()}return fe(t,a=>n(a,e)),fe(e,a=>n(a,t)),Array.from(r.values())}function be(t,e,r){for(const n of e){const a=Q(t,n,({parent:i,key:s,value:u})=>((u===void 0||typeof u!="object")&&(i[s]={}),i[s]));a&&(a.parent[a.key]=r)}}function _t(t,e){const n=Me(e).filter(a=>isNaN(parseInt(String(a)))).join(".");return{path:e,value:ye(t.form,e),errors:ye(t.errors,e),constraints:ye(t.constraints,n)}}function ye(t,e){const r=Me(e),n=we(t,a=>{const i=Q(a,r);return i==null?void 0:i.value});return{subscribe(...a){const i=n.subscribe(...a);return()=>{i()}},update(a){t.update(i=>{const s=Q(i,r);return s&&(s.parent[s.key]=a(s.value)),i})},set(a){t.update(i=>{const s=Q(i,r);return s&&(s.parent[s.key]=a),i})}}}function ge(t){return"structuredClone"in globalThis?structuredClone(t):pt(ht(t))}function Jt(t){const e=t;let r=!0,n=!1,a=!1,i=!1,s,u;for(;r;)t._def.typeName=="ZodNullable"?(n=!0,t=t.unwrap()):t._def.typeName=="ZodDefault"?(i=!0,u=t._def.defaultValue(),t=t._def.innerType):t._def.typeName=="ZodOptional"?(a=!0,t=t.unwrap()):t._def.typeName=="ZodEffects"?(s||(s=t),t=t._def.schema):t._def.typeName=="ZodPipeline"?t=t._def.out:r=!1;return{zodType:t,originalType:e,isNullable:n,isOptional:a,hasDefault:i,defaultValue:u,effects:s}}const Le=new WeakMap;function qe(t){return Le.has(t)||Le.set(t,$e(t)),Le.get(t)}function $e(t){const e=Jt(t).zodType;if(e._def.typeName=="ZodObject")return Object.fromEntries(Object.entries(e.shape).map(([r,n])=>[r,$e(n)]).filter(r=>r[1]!==void 0));if(e._def.typeName=="ZodArray")return $e(e._def.type)??{};if(e._def.typeName=="ZodRecord")return $e(e._def.valueType)??{};if(e._def.typeName=="ZodUnion")return e._def.options.reduce((n,a)=>{const i=$e(a);return i&&(n={...n??{},...i}),n},void 0)}function je(t,e,r=!0){const n={},a=Object.entries(t);if("_errors"in t&&t._errors.length){if(!e||!r)return t._errors;n._errors=t._errors}for(const[i,s]of a.filter(([u])=>u!=="_errors")){const u=!isNaN(parseInt(i,10));n[i]=je(s,e?u?e:e[i]:void 0,!!(e!=null&&e[i]))}return n}function Yt(t){return yt(t,[])}function yt(t,e){return Object.entries(t).filter(([,n])=>n!==void 0).flatMap(([n,a])=>{if(Array.isArray(a)&&a.length>0){const i=e.concat([n]);return{path:xt(i),messages:a}}else return yt(t[n],e.concat([n]))})}function vt(t,e){t.update(r=>(fe(r,n=>{if(!(n.path.length==1&&n.path[0]=="_errors"&&!e.clearFormLevelErrors)&&Array.isArray(n.value))return n.set(void 0)}),e.undefinePath&&be(r,[e.undefinePath],void 0),r))}async function wt(t,e,r,n,a){return Kt(t.validators,e,r,n,a)}async function Kt(t,e,r,n,a){if(t){let i,s={};if("safeParseAsync"in t){const u=t,f=await u.safeParseAsync(e);i=f.success,f.success||(s=je(f.error.format(),qe(u)))}else{i=!0;const u=t,f=[];await qt(e,async({value:c,path:$})=>{const m=$.filter(g=>isNaN(parseInt(g))),l=Q(u,m);if(typeof(l==null?void 0:l.value)=="function"){const g=l.value;if(Array.isArray(c))for(const y in c){const h=await g(c[y]);h&&(i=!1,f.push({path:$.concat([y]),errors:typeof h=="string"?[h]:h??void 0}))}else{const y=await g(c);y&&(i=!1,f.push({path:$,errors:typeof y=="string"?[y]:y??void 0}))}}});for(const{path:c,errors:$}of f){const m=Q(s,c,({parent:l,key:g,value:y})=>(y===void 0&&(l[g]={}),l[g]));if(m){const{parent:l,key:g}=m;l[g]=$}}}if(!i)return{valid:!1,posted:a,errors:s,data:e,constraints:n,message:void 0,id:r}}return{valid:!0,posted:a,errors:{},data:e,constraints:n,message:void 0,id:r}}async function Xt(t,e,r){if(typeof t.validators!="object"||!("safeParseAsync"in t.validators))return;const n=t.validators,a=await n.safeParseAsync(e);if(a.success)r.update(i=>(fe(i,s=>{if(s.key=="_errors")return s.set(void 0)}),i));else{const i=je(a.error.format(),qe(n));r.update(s=>(fe(s,u=>{if(u.key=="_errors")return u.set(void 0)}),fe(i,u=>{if(u.key=="_errors")return be(s,[u.path],u.value)}),s))}}async function Re(t,e,r,n,a,i={}){function s(){vt(n,{undefinePath:t,clearFormLevelErrors:!0})}function u(c){return typeof c=="string"&&(c=[c]),(i.update===!0||i.update=="errors")&&n.update($=>{const m=Q($,t,l=>{if(Ze(t,l))throw new H("Errors can only be added to form fields, not to arrays or objects in the schema. Path: "+l.path.slice(0,-1));return l.value===void 0?(l.parent[l.key]={},l.parent[l.key]):l.value});if(!m)throw new H("Error path could not be created: "+t);return m.parent[m.key]=c??void 0,$}),c??void 0}const f=await Qt(t,e.validators,r,n,a,i);if(f.validated)if(f.validated==="all"&&!f.errors)s();else return u(f.errors);else if(f.validated===!1&&e.defaultValidator=="clear")return u(void 0);return f.errors}async function Qt(t,e,r,n,a,i={}){i.update===void 0&&(i.update=!0),i.taint===void 0&&(i.taint=!1),typeof i.errors=="string"&&(i.errors=[i.errors]);const s={value:i.value,shouldUpdate:!0,currentData:void 0,validationPath:t.filter(l=>isNaN(parseInt(l)))};async function u(){return{validated:!1,errors:void 0}}function f(l,g){if(g===void 0)return!1;const y=Q(g,l);return y?y.value===!0:!1}function c(l){n.update(l)}function $(){n.update(l=>(fe(l,g=>{if(g.key=="_errors")return g.set(void 0)}),l))}function m(l,g){return je(l.format(),qe(g))}if("value"in i)i.update===!0||i.update==="value"?r.update(l=>(be(l,[t],s.value),s.currentData=l),{taint:i.taint}):s.shouldUpdate=!1;else{s.currentData=I(r);const l=Q(s.currentData,t);s.value=l==null?void 0:l.value}if(typeof e!="object")return u();if("safeParseAsync"in e){s.shouldUpdate||(s.currentData=ge(s.currentData??I(r)),be(s.currentData,[t],s.value));const l=await e.safeParseAsync(s.currentData);if(l.success)return $(),{validated:!0,errors:void 0};{const g=m(l.error,e);if(i.update===!0||i.update=="errors"){const h=I(a);c(d=>(fe(d,p=>{if(p.key=="_errors")return p.set(void 0)}),fe(g,p=>{if(p.key=="_errors")return be(d,[p.path],p.value);if(Array.isArray(p.value))return f(p.path,h)&&be(d,[p.path],p.value),"skip"}),d))}const y=Q(g,t);return{validated:!0,errors:i.errors??(y==null?void 0:y.value)}}}else{const l=Q(e,s.validationPath);if(l){if(l.value===void 0)return u();{const g=await l.value(s.value);return{validated:!0,errors:g&&(i.errors??g)}}}else throw new H("No Superforms validator found: "+t)}}function Ae(t){return Mt.apply_action(t)}function zt(t){const e=JSON.parse(t);return e.data&&(e.data=pt(e.data)),e}function Xe(t){return HTMLElement.prototype.cloneNode.call(t)}function er(t,e=()=>{}){const r=async({action:a,result:i,reset:s})=>{i.type==="success"&&(s!==!1&&HTMLFormElement.prototype.reset.call(t),await bt()),(location.origin+location.pathname===a.origin+a.pathname||i.type==="redirect"||i.type==="error")&&Ae(i)};async function n(a){var y,h,d,p;if(((y=a.submitter)!=null&&y.hasAttribute("formmethod")?a.submitter.formMethod:Xe(t).method)!=="post")return;a.preventDefault();const s=new URL((h=a.submitter)!=null&&h.hasAttribute("formaction")?a.submitter.formAction:Xe(t).action),u=new FormData(t),f=(d=a.submitter)==null?void 0:d.getAttribute("name");f&&u.append(f,((p=a.submitter)==null?void 0:p.getAttribute("value"))??"");const c=new AbortController;let $=!1;const l=await e({action:s,cancel:()=>$=!0,controller:c,get data(){return u},formData:u,get form(){return t},formElement:t,submitter:a.submitter})??r;if($)return;let g;try{const v=await fetch(s,{method:"POST",headers:{accept:"application/json","x-sveltekit-action":"true"},cache:"no-store",body:u,signal:c.signal});g=zt(await v.text()),g.type==="error"&&(g.status=v.status)}catch(v){if((v==null?void 0:v.name)==="AbortError")return;g={type:"error",error:v}}l({action:s,get data(){return u},formData:u,get form(){return t},formElement:t,update:v=>r({action:s,result:g,reset:v==null?void 0:v.reset}),result:g})}return HTMLFormElement.prototype.addEventListener.call(t,"submit",n),{destroy(){HTMLFormElement.prototype.removeEventListener.call(t,"submit",n)}}}const tr=(t,e=0)=>{const r=t.getBoundingClientRect();return r.top>=e&&r.left>=0&&r.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&r.right<=(window.innerWidth||document.documentElement.clientWidth)},rr=(t,e=1.125,r="smooth")=>{const i=t.getBoundingClientRect().top+window.pageYOffset-window.innerHeight/(2*e);window.scrollTo({left:0,top:i,behavior:r})};var B;(function(t){t[t.Idle=0]="Idle",t[t.Submitting=1]="Submitting",t[t.Delayed=2]="Delayed",t[t.Timeout=3]="Timeout"})(B||(B={}));function Qe(t){!t.flashMessage||!gt||We(t)&&(document.cookie=`flash=; Max-Age=0; Path=${t.flashMessage.cookiePath??"/"};`)}function We(t){return!t.flashMessage||!gt?!1:t.syncFlashMessage}function nr(t,e,r,n,a,i,s,u,f,c,$,m,l,g,y,h,d){c();const p=a;async function v(w){await Re(w,s,u,p,g)}function E(w){return w&&(w instanceof HTMLSelectElement||w instanceof HTMLInputElement&&w.type=="radio")}async function P(w){if(!(s.validationMethod=="oninput"||s.validationMethod=="submit-only")){E(w.target)&&await new Promise(L=>setTimeout(L,0));for(const L of I(y))v(L);y.set([])}}t.addEventListener("focusout",P);const V=new Set;function z(w){const L=w.target;s.selectErrorText&&L.select()}function ae(w){w.querySelectorAll("input").forEach(L=>{L.addEventListener("invalid",z)})}function se(w){w.querySelectorAll("input").forEach(L=>L.removeEventListener("invalid",z))}Ht(w=>{w.type=="goto"&&A.completed(!0)}),tt(()=>{V.forEach(w=>se(w)),V.clear(),t.removeEventListener("focusout",P),A.completed(!0)});function _(w){function L(){if(s.selectErrorText){const j=ie();j&&w!==j&&(se(j),V.delete(j)),V.has(w)||(ae(w),V.add(w))}J=w}let J;function ie(){return J}function de(j){return typeof s.autoFocusOnError=="boolean"?s.autoFocusOnError:!/iPhone|iPad|iPod|Android/i.test(j)}const he=async()=>{if(s.scrollToError=="off")return;const j=s.errorSelector;if(!j)return;await rt();let M;if(M=J.querySelector(j),!M)return;M=M.querySelector(j)??M;const S=s.stickyNavbar?document.querySelector(s.stickyNavbar):null;if(typeof s.scrollToError!="string"?M.scrollIntoView(s.scrollToError):tr(M,(S==null?void 0:S.offsetHeight)??0)||rr(M,void 0,s.scrollToError),!de(navigator.userAgent))return;let N;if(N=M,["INPUT","SELECT","BUTTON","TEXTAREA"].includes(N.tagName)||(N=N.querySelector('input:not([type="hidden"]):not(.flatpickr-input), select, textarea')),N)try{N.focus({preventScroll:!0}),s.selectErrorText&&N.tagName=="INPUT"&&N.select()}catch{}};L();{let j=B.Idle,M,S;const N=R=>{j=R,e.set(j>=B.Submitting),r.set(j>=B.Delayed),n.set(j>=B.Timeout)};return{submitting:()=>{L(),N(j!=B.Delayed?B.Submitting:B.Delayed),M&&clearTimeout(M),S&&clearTimeout(S),M=window.setTimeout(()=>{j==B.Submitting&&N(B.Delayed)},s.delayMs),S=window.setTimeout(()=>{j==B.Delayed&&N(B.Timeout)},s.timeoutMs)},completed:R=>{M&&clearTimeout(M),S&&clearTimeout(S),M=S=0,N(B.Idle),R||setTimeout(he)},scrollToFirstError:()=>setTimeout(he),isSubmitting:()=>j===B.Submitting||j===B.Delayed}}}const A=_(t);let C;return er(t,async w=>{var j;const L=w.cancel;let J=!1;function ie(){return J=!0,L()}if(w.cancel=ie,A.isSubmitting()&&s.multipleSubmits=="prevent")ie();else{A.isSubmitting()&&s.multipleSubmits=="abort"&&C&&C.abort(),C=w.controller;for(const M of $.onSubmit)await M(w)}if(J)s.flashMessage&&Qe(s);else{const M=await wt(s,I(u),I(m),I(l),I(d));if(!M.valid){ie();const S={type:"failure",status:(typeof s.SPA=="boolean"||(j=s.SPA)==null?void 0:j.failStatus)??400,data:{form:M}};setTimeout(()=>he({result:S}),0)}if(!J){switch(s.clearOnSubmit){case"errors-and-message":p.clear(),f.set(void 0);break;case"errors":p.clear();break;case"message":f.set(void 0);break}s.flashMessage&&(s.clearOnSubmit=="errors-and-message"||s.clearOnSubmit=="message")&&We(s)&&s.flashMessage.module.getFlash(Ee).set(void 0),A.submitting();const S="formData"in w?w.formData:w.data;if(s.SPA){ie();const R={type:"success",status:200,data:{form:{valid:!0,posted:!0,errors:{},data:I(u),constraints:I(l),message:void 0,id:I(m)}}};setTimeout(()=>he({result:R}),0)}else if(s.dataType==="json"){const N=I(u),R=de(ht(N),s.jsonChunkSize??5e5);for(const O of R)S.append("__superform_json",O);Object.keys(N).forEach(O=>{typeof S.get(O)=="string"&&S.delete(O)})}if(!s.SPA&&!S.has("__superform_id")){const N=I(m);N!==void 0&&S.set("__superform_id",N)}}}function de(M,S){const N=Math.ceil(M.length/S),R=new Array(N);for(let O=0,oe=0;O<N;++O,oe+=S)R[O]=M.substring(oe,oe+S);return R}async function he(M){const S=M.result;C=null;let N=!1;const R={result:S,formEl:t,cancel:()=>N=!0};for(const O of $.onResult)await O(R);if(!N){if((S.type==="success"||S.type=="failure")&&S.data){const O=h(S.data);if(!O.length)throw new H("No form data returned from ActionResult. Make sure you return { form } in the form actions.");for(const oe of O){if(oe.id!==I(m))continue;const Oe={form:oe,formEl:t,cancel:()=>N=!0};for(const Se of $.onUpdate)await Se(Oe)}}if(!N){if(S.type!=="error")S.type==="success"&&s.invalidateAll&&await bt(),s.applyAction?await Ae(S):await i(S);else{if(s.applyAction)if(s.onError=="apply")await Ae(S);else{const O={type:"failure",status:Math.floor(S.status||500),data:S};await Ae(O)}if(s.onError!=="apply"){const O={result:S,message:f};for(const oe of $.onError)oe!=="apply"&&await oe(O)}}s.flashMessage&&S.type=="error"&&s.flashMessage.onError&&await s.flashMessage.onError({result:S,message:s.flashMessage.module.getFlash(Ee)})}}N&&s.flashMessage&&Qe(s),(N||S.type!="redirect")&&A.completed(N)}return he})}new TextEncoder;const ar={applyAction:!0,invalidateAll:!0,resetForm:!1,autoFocusOnError:"detect",scrollToError:"smooth",errorSelector:'[aria-invalid="true"],[data-invalid]',selectErrorText:!1,stickyNavbar:void 0,taintedMessage:"Do you want to leave this page? Changes you made may not be saved.",onSubmit:void 0,onResult:void 0,onUpdate:void 0,onUpdated:void 0,onError:t=>{console.warn("Unhandled Superform error, use onError event to handle it:",t.result.error)},dataType:"form",validators:void 0,defaultValidator:"keep",clearOnSubmit:"errors-and-message",delayMs:500,timeoutMs:8e3,multipleSubmits:"prevent",validation:void 0,SPA:void 0,validateMethod:"auto"};function sr(t,e={}){var Se;e={...ar,...e},e.SPA&&e.validators===void 0&&console.warn("No validators set for Superform in SPA mode. Add them to the validators option, or set it to false to disable this warning.");let r=e.id;!t||l(t)===!1?(((Se=e.warnings)==null?void 0:Se.noValidationAndConstraints)!==!1&&console.warn((t?"Form data sent directly to superForm instead of through superValidate. No initial data validation is made. ":"No form data sent to superForm, schema type safety cannot be guaranteed. ")+"Also, no constraints will exist for the form. Set the warnings.noValidationAndConstraints option to false to disable this warning."),t={valid:!1,posted:!1,errors:{},data:t??{},constraints:{}}):r===void 0&&(r=t.id);const n=I(Ee).form;if(n&&typeof n=="object"){for(const o of m(n).reverse())if(o.id===r){const b=t;t=o,t.valid&&e.resetForm&&(e.resetForm===!0||e.resetForm())&&(t=ge(b),t.message=o.message);break}}const a=t,i=ge(a);if(typeof i.valid!="boolean")throw new H("A non-validation object was passed to superForm. Check what's passed to its first parameter.");const s=ue(a.errors),u=ue(r),f={taintedMessage:e.taintedMessage,taintedFormState:ge(i.data)};function c(o=8){return Math.random().toString(36).substring(2,o+2)}function $(o){f.taintedFormState=ge(o)}function m(o){var k;const b=Object.values(o).filter(T=>l(T)!==!1);if(b.length>1&&((k=e.warnings)==null?void 0:k.duplicateId)!==!1){const T=new Set;for(const D of b)T.has(D.id)?console.warn(`Duplicate form id found: "${D.id}". Multiple forms will receive the same data. Use the id option to differentiate between them, or if this is intended, set warnings.duplicateId option to false to disable this message.`):T.add(D.id)}return b}function l(o){return!o||typeof o!="object"||!("valid"in o&&"errors"in o&&typeof o.valid=="boolean")?!1:"id"in o&&typeof o.id=="string"?o.id:void 0}function g(){e.taintedMessage=f.taintedMessage,r===void 0&&u.set(c())}function y(o){const b=ue(o);return{subscribe:b.subscribe,set:(k,T={})=>(de(k,f.taintedFormState,T.taint??!0),f.taintedFormState=ge(k),b.set(k)),update:(k,T={})=>b.update(D=>{const ce=k(D);return de(ce,f.taintedFormState,T.taint??!0),f.taintedFormState=ge(D),ce})}}const h=[u.subscribe(o=>r=o)];function d(o){h.push(o)}function p(){h.forEach(o=>o())}const v=y(a.data);function E(o,b){if(!(!b||typeof b!="object")){if(Array.isArray(b))b.length>0&&E(o,b[0]);else if(!(b instanceof Date))throw new H(`Object found in form field "${o}". Set options.dataType = 'json' and use:enhance to use nested data structures.`)}}async function P(o,b){o.valid&&b&&e.resetForm&&(e.resetForm===!0||e.resetForm())?V(o.message):R(o,b),O.onUpdated.length&&await rt();for(const k of O.onUpdated)k({form:o})}function V(o,b,k){const T=ge(i);T.data={...T.data,...b},k!==void 0&&(T.id=k),R(T,!0,o)}const z=async(o,b)=>{if(o.type=="error")throw new H(`ActionResult of type "${o.type}" cannot be passed to update function.`);if(o.type=="redirect"){e.resetForm&&(e.resetForm===!0||e.resetForm())&&V();return}if(typeof o.data!="object")throw new H("Non-object validation data returned from ActionResult.");const k=m(o.data);if(!k.length)throw new H("No form data returned from ActionResult. Make sure you return { form } in the form actions.");for(const T of k)T.id===r&&await P(T,b??(o.status>=200&&o.status<300))},ae=ue([]),se=ue(a.message),_=ue(a.constraints),A=ue(!1),C={subscribe:s.subscribe,set:s.set,update:s.update,clear:()=>vt(s,{undefinePath:null,clearFormLevelErrors:!0})},w=ue();function L(){return I(w)}function J(o){if(o===null)throw new H("$tainted store contained null");if(typeof o=="object"){for(const b of Object.values(o))if(J(b))return!0}return o===!0}async function ie(o,b){if(e.validationMethod=="onblur"||e.validationMethod=="submit-only")return!1;let k=e.validationMethod==="oninput";if(!k){const T=I(C),D=T?Zt(T,o,{modifier:Ce=>{if(Ze(o,Ce))throw new H("Errors can only be added to form fields, not to arrays or objects in the schema. Path: "+Ce.path.slice(0,-1));return Ce.value}}):void 0;k=!!(D&&D.key in D.parent)}return k?(await Re(o,e,v,C,w,{taint:b}),!0):!1}async function de(o,b,k){if(k===!1)return;if(k==="untaint-all"){w.set(void 0);return}let T=Gt(o,b);if(typeof k=="object"&&(typeof k.fields=="string"&&(k.fields=[k.fields]),T=k.fields.map(D=>Me(D)),k=!0),k===!0&&ae.set(T),T.length){w.update(ce=>(ce||(ce={}),be(ce,T,k===!0?!0:void 0),ce));let D=!1;for(const ce of T)D=D||await ie(ce,k);D||await Xt(e,I(v),C)}}function he(o,b){w.set(o),$(b)}const j=ue(!1),M=ue(!1),S=ue(!1),N=we(C,o=>o?Yt(o):[]);if(e.taintedMessage=void 0,tt(()=>{p();for(const o of Object.values(O))o.length=0}),e.dataType!=="json")for(const[o,b]of Object.entries(a.data))E(o,b);function R(o,b,k){if(b&&he(typeof b=="boolean"?void 0:b,o.data),k=k??o.message,v.set(o.data,{taint:!1}),se.set(k),C.set(o.errors),u.set(o.id),A.set(o.posted),e.flashMessage&&We(e)){const T=e.flashMessage.module.getFlash(Ee);k&&I(T)===void 0&&T.set(k)}}const O={onSubmit:e.onSubmit?[e.onSubmit]:[],onResult:e.onResult?[e.onResult]:[],onUpdate:e.onUpdate?[e.onUpdate]:[],onUpdated:e.onUpdated?[e.onUpdated]:[],onError:e.onError?[e.onError]:[]};Bt(o=>{if(e.taintedMessage&&!I(j)){const b=L();b&&J(b)&&!window.confirm(e.taintedMessage)&&o.cancel()}}),d(Ee.subscribe(async o=>{if(!e.applyAction)return;function b(T){throw new H(`No form data found in ${T}. Make sure you return { form } in form actions and load functions.`)}const k=o.status>=200&&o.status<300;if(o.form&&typeof o.form=="object"){if(o.form.type=="error")return;const T=m(o.form);T.length||b("$page.form (ActionData)");for(const D of T)D.id===r&&await P(D,k)}else if(o.data&&typeof o.data=="object"){const T=m(o.data);for(const D of T)D.id===r&&R(D,k)}}));const oe=Object.fromEntries(Object.keys(i.data).map(o=>[o,{name:o,value:ye(v,o),errors:ye(C,o),constraints:ye(_,o)}]));function Oe(o,b){return o===void 0?wt(e,I(v),r,I(_),!1):Re(Me(o),e,v,C,w,b)}return{form:v,formId:u,errors:C,message:se,constraints:_,fields:oe,tainted:w,submitting:we(j,o=>o),delayed:we(M,o=>o),timeout:we(S,o=>o),options:e,capture:function(){return{valid:i.valid,posted:I(A),errors:I(C),data:I(v),constraints:I(_),message:I(se),id:r,tainted:I(w)}},restore:function(o){return R(o,o.tainted??!0)},validate:Oe,enhance:(o,b)=>{if(b){if(b.onError){if(e.onError==="apply")throw new H('options.onError is set to "apply", cannot add any onError events.');if(b.onError==="apply")throw new H('Cannot add "apply" as onError event in use:enhance.');O.onError.push(b.onError)}b.onResult&&O.onResult.push(b.onResult),b.onSubmit&&O.onSubmit.push(b.onSubmit),b.onUpdate&&O.onUpdate.push(b.onUpdate),b.onUpdated&&O.onUpdated.push(b.onUpdated)}return nr(o,j,M,S,C,z,e,v,se,g,O,u,_,w,ae,m,A)},allErrors:N,posted:A,reset:o=>V(o!=null&&o.keepMessage?I(se):void 0,o==null?void 0:o.data,o==null?void 0:o.id)}}function ze(t){let e,r;return{c(){e=W("span"),r=me(t[3]),this.h()},l(n){e=G(n,"SPAN",{class:!0});var a=le(e);r=pe(a,t[3]),a.forEach(F),this.h()},h(){X(e,"class","invalid svelte-erm79x")},m(n,a){U(n,e,a),x(e,r)},p(n,a){a&8&&lt(r,n[3])},d(n){n&&F(e)}}}function ir(t){let e,r,n,a,i,s,u,f,c,$,m,l,g,y=[{type:"checkbox"},{name:t[0]},{__value:"true"},t[5]],h={};for(let E=0;E<y.length;E+=1)h=ve(h,y[E]);s=new kt({});const d=t[8].default,p=nt(d,t,t[7],null);let v=t[3]&&ze(t);return{c(){e=W("label"),r=W("div"),n=W("input"),a=Y(),i=W("div"),ee(s.$$.fragment),u=Y(),f=W("span"),p&&p.c(),c=Y(),v&&v.c(),$=Te(),this.h()},l(E){e=G(E,"LABEL",{class:!0});var P=le(e);r=G(P,"DIV",{class:!0});var V=le(r);n=G(V,"INPUT",{type:!0,name:!0}),a=K(V),i=G(V,"DIV",{class:!0});var z=le(i);te(s.$$.fragment,z),z.forEach(F),V.forEach(F),u=K(P),f=G(P,"SPAN",{class:!0});var ae=le(f);p&&p.l(ae),ae.forEach(F),P.forEach(F),c=K(E),v&&v.l(E),$=Te(),this.h()},h(){Ne(n,h),Fe(n,"svelte-erm79x",!0),X(i,"class","symbol svelte-erm79x"),X(r,"class","checkbox svelte-erm79x"),X(f,"class","display-name"),X(e,"class","svelte-erm79x")},m(E,P){U(E,e,P),x(e,r),x(r,n),n.autofocus&&n.focus(),n.checked=t[2],x(r,a),x(r,i),re(s,i,null),x(e,u),x(e,f),p&&p.m(f,null),U(E,c,P),v&&v.m(E,P),U(E,$,P),m=!0,l||(g=at(n,"change",t[9]),l=!0)},p(E,[P]){Ne(n,h=ct(y,[{type:"checkbox"},(!m||P&1)&&{name:E[0]},{__value:"true"},P&32&&E[5]])),P&4&&(n.checked=E[2]),Fe(n,"svelte-erm79x",!0),p&&p.p&&(!m||P&128)&&st(p,d,E,E[7],m?ot(d,E[7],P,null):it(E[7]),null),E[3]?v?v.p(E,P):(v=ze(E),v.c(),v.m($.parentNode,$)):v&&(v.d(1),v=null)},i(E){m||(Z(s.$$.fragment,E),Z(p,E),m=!0)},o(E){q(s.$$.fragment,E),q(p,E),m=!1},d(E){E&&(F(e),F(c),F($)),ne(s),p&&p.d(E),v&&v.d(E),l=!1,g()}}}function or(t,e,r){let n;const a=["form","field"];let i=Pe(e,a),s,u=ft,f=()=>(u(),u=$t(n,p=>r(2,s=p)),n),c;t.$$.on_destroy.push(()=>u());let{$$slots:$={},$$scope:m}=e,{form:l}=e,{field:g}=e;const{value:y,errors:h}=_t(l,g);ke(t,h,p=>r(3,c=p));function d(){s=this.checked,n.set(s)}return t.$$set=p=>{e=ve(ve({},e),ut(p)),r(5,i=Pe(e,a)),"form"in p&&r(6,l=p.form),"field"in p&&r(0,g=p.field),"$$scope"in p&&r(7,m=p.$$scope)},f(r(1,n=y)),[g,n,s,c,h,i,l,m,$,d]}class ur extends Be{constructor(e){super(),He(this,e,or,ir,Ve,{form:6,field:0})}}function et(t){let e,r;return{c(){e=W("span"),r=me(t[1]),this.h()},l(n){e=G(n,"SPAN",{class:!0});var a=le(e);r=pe(a,t[1]),a.forEach(F),this.h()},h(){X(e,"class","invalid svelte-hpvgb9")},m(n,a){U(n,e,a),x(e,r)},p(n,a){a&2&&lt(r,n[1])},d(n){n&&F(e)}}}function lr(t){let e,r,n,a,i,s,u,f,c,$;const m=t[10].default,l=nt(m,t,t[9],null);let g=[{name:t[0]},{type:"text"},{"aria-invalid":i=t[1]?"true":void 0},t[2],t[7]],y={};for(let d=0;d<g.length;d+=1)y=ve(y,g[d]);let h=t[1]&&et(t);return{c(){e=W("label"),r=W("span"),l&&l.c(),n=Y(),a=W("input"),s=Y(),h&&h.c(),u=Te(),this.h()},l(d){e=G(d,"LABEL",{class:!0});var p=le(e);r=G(p,"SPAN",{class:!0});var v=le(r);l&&l.l(v),v.forEach(F),n=K(p),a=G(p,"INPUT",{name:!0,type:!0,"aria-invalid":!0}),p.forEach(F),s=K(d),h&&h.l(d),u=Te(),this.h()},h(){X(r,"class","display-name"),Ne(a,y),Fe(a,"svelte-hpvgb9",!0),X(e,"class","svelte-hpvgb9")},m(d,p){U(d,e,p),x(e,r),l&&l.m(r,null),x(e,n),x(e,a),a.autofocus&&a.focus(),Ge(a,t[3]),U(d,s,p),h&&h.m(d,p),U(d,u,p),f=!0,c||($=at(a,"input",t[11]),c=!0)},p(d,[p]){l&&l.p&&(!f||p&512)&&st(l,m,d,d[9],f?ot(m,d[9],p,null):it(d[9]),null),Ne(a,y=ct(g,[(!f||p&1)&&{name:d[0]},{type:"text"},(!f||p&2&&i!==(i=d[1]?"true":void 0))&&{"aria-invalid":i},p&4&&d[2],p&128&&d[7]])),p&8&&a.value!==d[3]&&Ge(a,d[3]),Fe(a,"svelte-hpvgb9",!0),d[1]?h?h.p(d,p):(h=et(d),h.c(),h.m(u.parentNode,u)):h&&(h.d(1),h=null)},i(d){f||(Z(l,d),f=!0)},o(d){q(l,d),f=!1},d(d){d&&(F(e),F(s),F(u)),l&&l.d(d),h&&h.d(d),c=!1,$()}}}function fr(t,e,r){const n=["form","field"];let a=Pe(e,n),i,s,u,{$$slots:f={},$$scope:c}=e,{form:$}=e,{field:m}=e;const{value:l,errors:g,constraints:y}=_t($,m);ke(t,l,d=>r(3,u=d)),ke(t,g,d=>r(1,i=d)),ke(t,y,d=>r(2,s=d));function h(){u=this.value,l.set(u)}return t.$$set=d=>{e=ve(ve({},e),ut(d)),r(7,a=Pe(e,n)),"form"in d&&r(8,$=d.form),"field"in d&&r(0,m=d.field),"$$scope"in d&&r(9,c=d.$$scope)},[m,i,s,u,l,g,y,a,$,c,f,h]}class cr extends Be{constructor(e){super(),He(this,e,fr,lr,Ve,{form:8,field:0})}}function dr(t){let e;return{c(){e=me("Username vergeben")},l(r){e=pe(r,"Username vergeben")},m(r,n){U(r,e,n)},d(r){r&&F(e)}}}function mr(t){let e;return{c(){e=me("Schritt 1 von 3")},l(r){e=pe(r,"Schritt 1 von 3")},m(r,n){U(r,e,n)},d(r){r&&F(e)}}}function pr(t){let e;return{c(){e=me(`Willkommen zum Online-Spiel The Hidden Threat*. Gleich geht es los. Nach der Vergabe des
    Usernamen werden Sie in die Lobby geleitet.`)},l(r){e=pe(r,`Willkommen zum Online-Spiel The Hidden Threat*. Gleich geht es los. Nach der Vergabe des
    Usernamen werden Sie in die Lobby geleitet.`)},m(r,n){U(r,e,n)},d(r){r&&F(e)}}}function hr(t){let e;return{c(){e=me("Dein Username")},l(r){e=pe(r,"Dein Username")},m(r,n){U(r,e,n)},d(r){r&&F(e)}}}function gr(t){let e;return{c(){e=me("Bitte gib Dir einen Username mit maximal 20 Buchstaben.")},l(r){e=pe(r,"Bitte gib Dir einen Username mit maximal 20 Buchstaben.")},m(r,n){U(r,e,n)},d(r){r&&F(e)}}}function br(t){let e;return{c(){e=me(`Hiermit stimme ich der Speicherung meiner eingegebenen Daten zu und bestätige dass ich
      mindestens 18 Jahre alt bin.*`)},l(r){e=pe(r,`Hiermit stimme ich der Speicherung meiner eingegebenen Daten zu und bestätige dass ich
      mindestens 18 Jahre alt bin.*`)},m(r,n){U(r,e,n)},d(r){r&&F(e)}}}function _r(t){let e;return{c(){e=me("Bestätigen und weiter")},l(r){e=pe(r,"Bestätigen und weiter")},m(r,n){U(r,e,n)},d(r){r&&F(e)}}}function yr(t){let e,r;return e=new Pt({props:{type:"submit",primary:!0,$$slots:{default:[_r]},$$scope:{ctx:t}}}),{c(){ee(e.$$.fragment)},l(n){te(e.$$.fragment,n)},m(n,a){re(e,n,a),r=!0},p(n,a){const i={};a&4&&(i.$$scope={dirty:a,ctx:n}),e.$set(i)},i(n){r||(Z(e.$$.fragment,n),r=!0)},o(n){q(e.$$.fragment,n),r=!1},d(n){ne(e,n)}}}function vr(t){let e,r,n,a,i,s,u,f,c,$,m,l,g,y,h,d,p,v,E,P,V='* Weitere Informationen zum Spiel sind auf unserer <a href="/">Website</a> zufinden.',z,ae,se;return r=new Nt({props:{color:"black"}}),a=new Ye({props:{separator:!0,$$slots:{info:[mr],default:[dr]},$$scope:{ctx:t}}}),s=new Je({props:{$$slots:{default:[pr]},$$scope:{ctx:t}}}),$=new Ye({props:{centered:!0,$$slots:{default:[hr]},$$scope:{ctx:t}}}),l=new Je({props:{$$slots:{default:[gr]},$$scope:{ctx:t}}}),y=new cr({props:{form:t[0],field:"userName",placeholder:"z.B. Vor-und Nachname, Spitzname, Initalen, etc."}}),d=new ur({props:{form:t[0],field:"acceptedTos",$$slots:{default:[br]},$$scope:{ctx:t}}}),v=new Ft({props:{$$slots:{default:[yr]},$$scope:{ctx:t}}}),{c(){e=W("div"),ee(r.$$.fragment),n=Y(),ee(a.$$.fragment),i=Y(),ee(s.$$.fragment),u=Y(),f=W("form"),c=W("div"),ee($.$$.fragment),m=Y(),ee(l.$$.fragment),g=Y(),ee(y.$$.fragment),h=Y(),ee(d.$$.fragment),p=Y(),ee(v.$$.fragment),E=Y(),P=W("p"),P.innerHTML=V,this.h()},l(_){e=G(_,"DIV",{class:!0});var A=le(e);te(r.$$.fragment,A),A.forEach(F),n=K(_),te(a.$$.fragment,_),i=K(_),te(s.$$.fragment,_),u=K(_),f=G(_,"FORM",{method:!0,class:!0});var C=le(f);c=G(C,"DIV",{class:!0});var w=le(c);te($.$$.fragment,w),m=K(w),te(l.$$.fragment,w),g=K(w),te(y.$$.fragment,w),w.forEach(F),h=K(C),te(d.$$.fragment,C),p=K(C),te(v.$$.fragment,C),C.forEach(F),E=K(_),P=G(_,"P",{class:!0,"data-svelte-h":!0}),Et(P)!=="svelte-1iim19c"&&(P.innerHTML=V),this.h()},h(){X(e,"class","backdrop svelte-dblyeg"),X(c,"class","field svelte-dblyeg"),X(f,"method","post"),X(f,"class","svelte-dblyeg"),X(P,"class","more-info text-sm svelte-dblyeg")},m(_,A){U(_,e,A),re(r,e,null),U(_,n,A),re(a,_,A),U(_,i,A),re(s,_,A),U(_,u,A),U(_,f,A),x(f,c),re($,c,null),x(c,m),re(l,c,null),x(c,g),re(y,c,null),x(f,h),re(d,f,null),x(f,p),re(v,f,null),U(_,E,A),U(_,P,A),z=!0,ae||(se=St(t[0].enhance(f)),ae=!0)},p(_,A){const C={};A&4&&(C.$$scope={dirty:A,ctx:_}),a.$set(C);const w={};A&4&&(w.$$scope={dirty:A,ctx:_}),s.$set(w);const L={};A&4&&(L.$$scope={dirty:A,ctx:_}),$.$set(L);const J={};A&4&&(J.$$scope={dirty:A,ctx:_}),l.$set(J);const ie={};A&4&&(ie.$$scope={dirty:A,ctx:_}),d.$set(ie);const de={};A&4&&(de.$$scope={dirty:A,ctx:_}),v.$set(de)},i(_){z||(Z(r.$$.fragment,_),Z(a.$$.fragment,_),Z(s.$$.fragment,_),Z($.$$.fragment,_),Z(l.$$.fragment,_),Z(y.$$.fragment,_),Z(d.$$.fragment,_),Z(v.$$.fragment,_),z=!0)},o(_){q(r.$$.fragment,_),q(a.$$.fragment,_),q(s.$$.fragment,_),q($.$$.fragment,_),q(l.$$.fragment,_),q(y.$$.fragment,_),q(d.$$.fragment,_),q(v.$$.fragment,_),z=!1},d(_){_&&(F(e),F(n),F(i),F(u),F(f),F(E),F(P)),ne(r),ne(a,_),ne(s,_),ne($),ne(l),ne(y),ne(d),ne(v),ae=!1,se()}}}function wr(t){let e,r;return e=new Tt({props:{slot:"header"}}),{c(){ee(e.$$.fragment)},l(n){te(e.$$.fragment,n)},m(n,a){re(e,n,a),r=!0},p:ft,i(n){r||(Z(e.$$.fragment,n),r=!0)},o(n){q(e.$$.fragment,n),r=!1},d(n){ne(e,n)}}}function $r(t){let e,r;return e=new At({props:{paddedContent:!0,showFooter:!0,$$slots:{header:[wr],default:[vr]},$$scope:{ctx:t}}}),{c(){ee(e.$$.fragment)},l(n){te(e.$$.fragment,n)},m(n,a){re(e,n,a),r=!0},p(n,[a]){const i={};a&4&&(i.$$scope={dirty:a,ctx:n}),e.$set(i)},i(n){r||(Z(e.$$.fragment,n),r=!0)},o(n){q(e.$$.fragment,n),r=!1},d(n){ne(e,n)}}}function Er(t,e,r){let{data:n}=e;const a=sr(n);return t.$$set=i=>{"data"in i&&r(1,n=i.data)},[a,n]}class jr extends Be{constructor(e){super(),He(this,e,Er,$r,Ve,{data:1})}}export{jr as U};
