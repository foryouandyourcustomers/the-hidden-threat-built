import{ac as M,a3 as st,ab as it,s as Oe,F as ce,o as Et,a6 as St,p as kt,b as re,a7 as At,f as N,a8 as Ke,i as U,n as He,a9 as Te,x as ot,e as W,a as Y,I as Fe,c as J,g as K,ad as Ne,D as Pe,m as z,h as Z,H as ut,y as lt,z as ft,A as ct,ae as Me,k as ke,t as de,d as me,j as dt,q as Tt,af as Xe,l as Ft,ag as Nt}from"./scheduler.9575fd4f.js";import{S as Ce,i as Ue,c as oe,a as ue,m as le,t as X,b as Q,d as fe}from"./index.ae3d3fc3.js";import{B as Pt}from"./Board.1f0dfd3a.js";import{P as Qe,A as Mt,B as jt}from"./Paragraph.f42cea57.js";import{g as qe,H as ze}from"./Heading.db207678.js";import{j as We,k as It}from"./singletons.9fd4d608.js";import{d as we,w as te}from"./index.a8ce1c85.js";import{U as mt,N as Ot,P as Ct,a as Ut,b as ht,H as Dt,p as pt}from"./parse.7d180a0f.js";import{p as Ee}from"./stores.b1703ed0.js";const Lt=!0;class Ve extends Error{constructor(e,r){super(e),this.name="DevalueError",this.path=r.join("")}}function et(t){return Object(t)!==t}const Rt=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Vt(t){const e=Object.getPrototypeOf(t);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===Rt}function Bt(t){return Object.prototype.toString.call(t).slice(8,-1)}function xt(t){switch(t){case'"':return'\\"';case"<":return"\\u003C";case"\\":return"\\\\";case`
`:return"\\n";case"\r":return"\\r";case"	":return"\\t";case"\b":return"\\b";case"\f":return"\\f";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return t<" "?`\\u${t.charCodeAt(0).toString(16).padStart(4,"0")}`:""}}function ve(t){let e="",r=0;const n=t.length;for(let s=0;s<n;s+=1){const i=t[s],a=xt(i);a&&(e+=t.slice(r,s)+a,r=s+1)}return`"${r===0?t:e+t.slice(r)}"`}function gt(t,e){const r=[],n=new Map,s=[];for(const f in e)s.push({key:f,fn:e[f]});const i=[];let a=0;function u(f){if(typeof f=="function")throw new Ve("Cannot stringify a function",i);if(n.has(f))return n.get(f);if(f===void 0)return mt;if(Number.isNaN(f))return Ot;if(f===1/0)return Ct;if(f===-1/0)return Ut;if(f===0&&1/f<0)return ht;const y=a++;n.set(f,y);for(const{key:l,fn:g}of s){const v=g(f);if(v)return r[y]=`["${l}",${u(v)}]`,y}let d="";if(et(f))d=Be(f);else switch(Bt(f)){case"Number":case"String":case"Boolean":d=`["Object",${Be(f)}]`;break;case"BigInt":d=`["BigInt",${f}]`;break;case"Date":d=`["Date","${f.toISOString()}"]`;break;case"RegExp":const{source:g,flags:v}=f;d=v?`["RegExp",${ve(g)},"${v}"]`:`["RegExp",${ve(g)}]`;break;case"Array":d="[";for(let p=0;p<f.length;p+=1)p>0&&(d+=","),p in f?(i.push(`[${p}]`),d+=u(f[p]),i.pop()):d+=Dt;d+="]";break;case"Set":d='["Set"';for(const p of f)d+=`,${u(p)}`;d+="]";break;case"Map":d='["Map"';for(const[p,c]of f)i.push(`.get(${et(p)?Be(p):"..."})`),d+=`,${u(p)},${u(c)}`;d+="]";break;default:if(!Vt(f))throw new Ve("Cannot stringify arbitrary non-POJOs",i);if(Object.getOwnPropertySymbols(f).length>0)throw new Ve("Cannot stringify POJOs with symbolic keys",i);if(Object.getPrototypeOf(f)===null){d='["null"';for(const p in f)i.push(`.${p}`),d+=`,${ve(p)},${u(f[p])}`,i.pop();d+="]"}else{d="{";let p=!1;for(const c in f)p&&(d+=","),p=!0,i.push(`.${c}`),d+=`${ve(c)}:${u(f[c])}`,i.pop();d+="}"}}return r[y]=d,y}const h=u(t);return h<0?`${h}`:`[${r.join(",")}]`}function Be(t){const e=typeof t;return e==="string"?ve(t):t instanceof String?ve(t.toString()):t===void 0?mt.toString():t===0&&1/t<0?ht.toString():e==="bigint"?`["BigInt","${t}"]`:String(t)}const bt=Lt,_t=We("invalidate_all"),Ht=We("before_navigate"),Zt=We("after_navigate");function je(t){return t.toString().split(/[[\].]+/).filter(e=>e)}function qt(t){return t.reduce((e,r)=>(typeof r=="number"||!isNaN(parseInt(String(r),10))?e+=`[${String(r)}]`:e?e+=`.${String(r)}`:e+=String(r),e),"")}class H extends Error{constructor(e){super(e),Object.setPrototypeOf(this,H.prototype)}}function Ie(t,e,r){return t[e]=r,"skip"}function Je(t,e){return e.value!==void 0&&typeof e.value!="object"&&e.path.length<t.length}function Wt(t,e,r={}){r.modifier||(r.modifier=s=>Je(e,s)?void 0:s.value);const n=G(t,e,r.modifier);if(n)return r.value===void 0||r.value(n.value)?n:void 0}function G(t,e,r){if(!e.length)return;const n=[e[0]];let s=t;for(;n.length<e.length;){const a=n[n.length-1],u=r?r({parent:s,key:String(a),value:s[a],path:n.map(h=>String(h)),isLeaf:!1,set:h=>Ie(s,a,h)}):s[a];if(u===void 0)return;s=u,n.push(e[n.length])}const i=e[e.length-1];return{parent:s,key:String(i),value:s[i],path:e.map(a=>String(a)),isLeaf:!0,set:a=>Ie(s,i,a)}}function ne(t,e,r=[]){for(const n in t){const s=t[n],i=s===null||typeof s!="object",a={parent:t,key:n,value:s,path:r.map(String).concat([n]),isLeaf:i,set:h=>Ie(t,n,h)},u=e(a);if(u==="abort")return u;if(u==="skip")continue;if(!i){const h=ne(s,e,a.path);if(h==="abort")return h}}}async function Jt(t,e,r=[]){for(const n in t){const s=t[n],i=s===null||typeof s!="object",a={parent:t,key:n,value:s,path:r.map(String).concat([n]),isLeaf:i,set:h=>Ie(t,n,h)},u=await e(a);if(u==="abort")return u;if(u==="skip")break;if(!i){const h=ne(s,e,a.path);if(h==="abort")return h}}}function Gt(t,e){return t===e||t.size===e.size&&[...t].every(r=>e.has(r))}function Yt(t,e){const r=new Map;function n(s,i){const a=G(i,s.path);function u(){r.set(s.path.join(" "),s.path)}s.isLeaf?a?(s.value instanceof Date&&a.value instanceof Date&&s.value.getTime()!=a.value.getTime()||s.value!==a.value)&&u():u():a&&s.value instanceof Set&&a.value instanceof Set&&!Gt(s.value,a.value)&&u()}return ne(t,s=>n(s,e)),ne(e,s=>n(s,t)),Array.from(r.values())}function be(t,e,r){for(const n of e){const s=G(t,n,({parent:i,key:a,value:u})=>((u===void 0||typeof u!="object")&&(i[a]={}),i[a]));s&&(s.parent[s.key]=r)}}function vt(t,e){const n=je(e).filter(s=>isNaN(parseInt(String(s)))).join(".");return{path:e,value:ye(t.form,e),errors:ye(t.errors,e),constraints:ye(t.constraints,n)}}function ye(t,e){const r=je(e),n=we(t,s=>{const i=G(s,r);return i==null?void 0:i.value});return{subscribe(...s){const i=n.subscribe(...s);return()=>{i()}},update(s){t.update(i=>{const a=G(i,r);return a&&(a.parent[a.key]=s(a.value)),i})},set(s){t.update(i=>{const a=G(i,r);return a&&(a.parent[a.key]=s),i})}}}function ge(t){return"structuredClone"in globalThis?structuredClone(t):pt(gt(t))}function Kt(t){const e=t;let r=!0,n=!1,s=!1,i=!1,a,u;for(;r;)t._def.typeName=="ZodNullable"?(n=!0,t=t.unwrap()):t._def.typeName=="ZodDefault"?(i=!0,u=t._def.defaultValue(),t=t._def.innerType):t._def.typeName=="ZodOptional"?(s=!0,t=t.unwrap()):t._def.typeName=="ZodEffects"?(a||(a=t),t=t._def.schema):t._def.typeName=="ZodPipeline"?t=t._def.out:r=!1;return{zodType:t,originalType:e,isNullable:n,isOptional:s,hasDefault:i,defaultValue:u,effects:a}}const xe=new WeakMap;function Ge(t){return xe.has(t)||xe.set(t,$e(t)),xe.get(t)}function $e(t){const e=Kt(t).zodType;if(e._def.typeName=="ZodObject")return Object.fromEntries(Object.entries(e.shape).map(([r,n])=>[r,$e(n)]).filter(r=>r[1]!==void 0));if(e._def.typeName=="ZodArray")return $e(e._def.type)??{};if(e._def.typeName=="ZodRecord")return $e(e._def.valueType)??{};if(e._def.typeName=="ZodUnion")return e._def.options.reduce((n,s)=>{const i=$e(s);return i&&(n={...n??{},...i}),n},void 0)}function De(t,e,r=!0){const n={},s=Object.entries(t);if("_errors"in t&&t._errors.length){if(!e||!r)return t._errors;n._errors=t._errors}for(const[i,a]of s.filter(([u])=>u!=="_errors")){const u=!isNaN(parseInt(i,10));n[i]=De(a,e?u?e:e[i]:void 0,!!(e!=null&&e[i]))}return n}function Xt(t){return yt(t,[])}function yt(t,e){return Object.entries(t).filter(([,n])=>n!==void 0).flatMap(([n,s])=>{if(Array.isArray(s)&&s.length>0){const i=e.concat([n]);return{path:qt(i),messages:s}}else return yt(t[n],e.concat([n]))})}function wt(t,e){t.update(r=>(ne(r,n=>{if(!(n.path.length==1&&n.path[0]=="_errors"&&!e.clearFormLevelErrors)&&Array.isArray(n.value))return n.set(void 0)}),e.undefinePath&&be(r,[e.undefinePath],void 0),r))}async function $t(t,e,r,n,s){return Qt(t.validators,e,r,n,s)}async function Qt(t,e,r,n,s){if(t){let i,a={};if("safeParseAsync"in t){const u=t,h=await u.safeParseAsync(e);i=h.success,h.success||(a=De(h.error.format(),Ge(u)))}else{i=!0;const u=t,h=[];await Jt(e,async({value:f,path:y})=>{const d=y.filter(g=>isNaN(parseInt(g))),l=G(u,d);if(typeof(l==null?void 0:l.value)=="function"){const g=l.value;if(Array.isArray(f))for(const v in f){const p=await g(f[v]);p&&(i=!1,h.push({path:y.concat([v]),errors:typeof p=="string"?[p]:p??void 0}))}else{const v=await g(f);v&&(i=!1,h.push({path:y,errors:typeof v=="string"?[v]:v??void 0}))}}});for(const{path:f,errors:y}of h){const d=G(a,f,({parent:l,key:g,value:v})=>(v===void 0&&(l[g]={}),l[g]));if(d){const{parent:l,key:g}=d;l[g]=y}}}if(!i)return{valid:!1,posted:s,errors:a,data:e,constraints:n,message:void 0,id:r}}return{valid:!0,posted:s,errors:{},data:e,constraints:n,message:void 0,id:r}}async function zt(t,e,r){if(typeof t.validators!="object"||!("safeParseAsync"in t.validators))return;const n=t.validators,s=await n.safeParseAsync(e);if(s.success)r.update(i=>(ne(i,a=>{if(a.key=="_errors")return a.set(void 0)}),i));else{const i=De(s.error.format(),Ge(n));r.update(a=>(ne(a,u=>{if(u.key=="_errors")return u.set(void 0)}),ne(i,u=>{if(u.key=="_errors")return be(a,[u.path],u.value)}),a))}}async function Ze(t,e,r,n,s,i={}){function a(){wt(n,{undefinePath:t,clearFormLevelErrors:!0})}function u(f){return typeof f=="string"&&(f=[f]),(i.update===!0||i.update=="errors")&&n.update(y=>{const d=G(y,t,l=>{if(Je(t,l))throw new H("Errors can only be added to form fields, not to arrays or objects in the schema. Path: "+l.path.slice(0,-1));return l.value===void 0?(l.parent[l.key]={},l.parent[l.key]):l.value});if(!d)throw new H("Error path could not be created: "+t);return d.parent[d.key]=f??void 0,y}),f??void 0}const h=await er(t,e.validators,r,n,s,i);if(h.validated)if(h.validated==="all"&&!h.errors)a();else return u(h.errors);else if(h.validated===!1&&e.defaultValidator=="clear")return u(void 0);return h.errors}async function er(t,e,r,n,s,i={}){i.update===void 0&&(i.update=!0),i.taint===void 0&&(i.taint=!1),typeof i.errors=="string"&&(i.errors=[i.errors]);const a={value:i.value,shouldUpdate:!0,currentData:void 0,validationPath:t.filter(l=>isNaN(parseInt(l)))};async function u(){return{validated:!1,errors:void 0}}function h(l,g){if(g===void 0)return!1;const v=G(g,l);return v?v.value===!0:!1}function f(l){n.update(l)}function y(){n.update(l=>(ne(l,g=>{if(g.key=="_errors")return g.set(void 0)}),l))}function d(l,g){return De(l.format(),Ge(g))}if("value"in i)i.update===!0||i.update==="value"?r.update(l=>(be(l,[t],a.value),a.currentData=l),{taint:i.taint}):a.shouldUpdate=!1;else{a.currentData=M(r);const l=G(a.currentData,t);a.value=l==null?void 0:l.value}if(typeof e!="object")return u();if("safeParseAsync"in e){a.shouldUpdate||(a.currentData=ge(a.currentData??M(r)),be(a.currentData,[t],a.value));const l=await e.safeParseAsync(a.currentData);if(l.success)return y(),{validated:!0,errors:void 0};{const g=d(l.error,e);if(i.update===!0||i.update=="errors"){const p=M(s);f(c=>(ne(c,m=>{if(m.key=="_errors")return m.set(void 0)}),ne(g,m=>{if(m.key=="_errors")return be(c,[m.path],m.value);if(Array.isArray(m.value))return h(m.path,p)&&be(c,[m.path],m.value),"skip"}),c))}const v=G(g,t);return{validated:!0,errors:i.errors??(v==null?void 0:v.value)}}}else{const l=G(e,a.validationPath);if(l){if(l.value===void 0)return u();{const g=await l.value(a.value);return{validated:!0,errors:g&&(i.errors??g)}}}else throw new H("No Superforms validator found: "+t)}}function Ae(t){return It.apply_action(t)}function tr(t){const e=JSON.parse(t);return e.data&&(e.data=pt(e.data)),e}function tt(t){return HTMLElement.prototype.cloneNode.call(t)}function rr(t,e=()=>{}){const r=async({action:s,result:i,reset:a})=>{i.type==="success"&&(a!==!1&&HTMLFormElement.prototype.reset.call(t),await _t()),(location.origin+location.pathname===s.origin+s.pathname||i.type==="redirect"||i.type==="error")&&Ae(i)};async function n(s){var v,p,c,m;if(((v=s.submitter)!=null&&v.hasAttribute("formmethod")?s.submitter.formMethod:tt(t).method)!=="post")return;s.preventDefault();const a=new URL((p=s.submitter)!=null&&p.hasAttribute("formaction")?s.submitter.formAction:tt(t).action),u=new FormData(t),h=(c=s.submitter)==null?void 0:c.getAttribute("name");h&&u.append(h,((m=s.submitter)==null?void 0:m.getAttribute("value"))??"");const f=new AbortController;let y=!1;const l=await e({action:a,cancel:()=>y=!0,controller:f,get data(){return u},formData:u,get form(){return t},formElement:t,submitter:s.submitter})??r;if(y)return;let g;try{const w=await fetch(a,{method:"POST",headers:{accept:"application/json","x-sveltekit-action":"true"},cache:"no-store",body:u,signal:f.signal});g=tr(await w.text()),g.type==="error"&&(g.status=w.status)}catch(w){if((w==null?void 0:w.name)==="AbortError")return;g={type:"error",error:w}}l({action:a,get data(){return u},formData:u,get form(){return t},formElement:t,update:w=>r({action:a,result:g,reset:w==null?void 0:w.reset}),result:g})}return HTMLFormElement.prototype.addEventListener.call(t,"submit",n),{destroy(){HTMLFormElement.prototype.removeEventListener.call(t,"submit",n)}}}const nr=(t,e=0)=>{const r=t.getBoundingClientRect();return r.top>=e&&r.left>=0&&r.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&r.right<=(window.innerWidth||document.documentElement.clientWidth)},ar=(t,e=1.125,r="smooth")=>{const i=t.getBoundingClientRect().top+window.pageYOffset-window.innerHeight/(2*e);window.scrollTo({left:0,top:i,behavior:r})};var x;(function(t){t[t.Idle=0]="Idle",t[t.Submitting=1]="Submitting",t[t.Delayed=2]="Delayed",t[t.Timeout=3]="Timeout"})(x||(x={}));function rt(t){!t.flashMessage||!bt||Ye(t)&&(document.cookie=`flash=; Max-Age=0; Path=${t.flashMessage.cookiePath??"/"};`)}function Ye(t){return!t.flashMessage||!bt?!1:t.syncFlashMessage}function sr(t,e,r,n,s,i,a,u,h,f,y,d,l,g,v,p,c){f();const m=s;async function w($){await Ze($,a,u,m,g)}function E($){return $&&($ instanceof HTMLSelectElement||$ instanceof HTMLInputElement&&$.type=="radio")}async function O($){if(!(a.validationMethod=="oninput"||a.validationMethod=="submit-only")){E($.target)&&await new Promise(D=>setTimeout(D,0));for(const D of M(v))w(D);v.set([])}}t.addEventListener("focusout",O);const B=new Set;function _($){const D=$.target;a.selectErrorText&&D.select()}function A($){$.querySelectorAll("input").forEach(D=>{D.addEventListener("invalid",_)})}function L($){$.querySelectorAll("input").forEach(D=>D.removeEventListener("invalid",_))}Zt($=>{$.type=="goto"&&q.completed(!0)}),st(()=>{B.forEach($=>L($)),B.clear(),t.removeEventListener("focusout",O),q.completed(!0)});function ae($){function D(){if(a.selectErrorText){const j=he();j&&$!==j&&(L(j),B.delete(j)),B.has($)||(A($),B.add($))}se=$}let se;function he(){return se}function _e(j){return typeof a.autoFocusOnError=="boolean"?a.autoFocusOnError:!/iPhone|iPad|iPod|Android/i.test(j)}const pe=async()=>{if(a.scrollToError=="off")return;const j=a.errorSelector;if(!j)return;await it();let P;if(P=se.querySelector(j),!P)return;P=P.querySelector(j)??P;const S=a.stickyNavbar?document.querySelector(a.stickyNavbar):null;if(typeof a.scrollToError!="string"?P.scrollIntoView(a.scrollToError):nr(P,(S==null?void 0:S.offsetHeight)??0)||ar(P,void 0,a.scrollToError),!_e(navigator.userAgent))return;let F;if(F=P,["INPUT","SELECT","BUTTON","TEXTAREA"].includes(F.tagName)||(F=F.querySelector('input:not([type="hidden"]):not(.flatpickr-input), select, textarea')),F)try{F.focus({preventScroll:!0}),a.selectErrorText&&F.tagName=="INPUT"&&F.select()}catch{}};D();{let j=x.Idle,P,S;const F=V=>{j=V,e.set(j>=x.Submitting),r.set(j>=x.Delayed),n.set(j>=x.Timeout)};return{submitting:()=>{D(),F(j!=x.Delayed?x.Submitting:x.Delayed),P&&clearTimeout(P),S&&clearTimeout(S),P=window.setTimeout(()=>{j==x.Submitting&&F(x.Delayed)},a.delayMs),S=window.setTimeout(()=>{j==x.Delayed&&F(x.Timeout)},a.timeoutMs)},completed:V=>{P&&clearTimeout(P),S&&clearTimeout(S),P=S=0,F(x.Idle),V||setTimeout(pe)},scrollToFirstError:()=>setTimeout(pe),isSubmitting:()=>j===x.Submitting||j===x.Delayed}}}const q=ae(t);let R;return rr(t,async $=>{var j;const D=$.cancel;let se=!1;function he(){return se=!0,D()}if($.cancel=he,q.isSubmitting()&&a.multipleSubmits=="prevent")he();else{q.isSubmitting()&&a.multipleSubmits=="abort"&&R&&R.abort(),R=$.controller;for(const P of y.onSubmit)await P($)}if(se)a.flashMessage&&rt(a);else{const P=await $t(a,M(u),M(d),M(l),M(c));if(!P.valid){he();const S={type:"failure",status:(typeof a.SPA=="boolean"||(j=a.SPA)==null?void 0:j.failStatus)??400,data:{form:P}};setTimeout(()=>pe({result:S}),0)}if(!se){switch(a.clearOnSubmit){case"errors-and-message":m.clear(),h.set(void 0);break;case"errors":m.clear();break;case"message":h.set(void 0);break}a.flashMessage&&(a.clearOnSubmit=="errors-and-message"||a.clearOnSubmit=="message")&&Ye(a)&&a.flashMessage.module.getFlash(Ee).set(void 0),q.submitting();const S="formData"in $?$.formData:$.data;if(a.SPA){he();const V={type:"success",status:200,data:{form:{valid:!0,posted:!0,errors:{},data:M(u),constraints:M(l),message:void 0,id:M(d)}}};setTimeout(()=>pe({result:V}),0)}else if(a.dataType==="json"){const F=M(u),V=_e(gt(F),a.jsonChunkSize??5e5);for(const I of V)S.append("__superform_json",I);Object.keys(F).forEach(I=>{typeof S.get(I)=="string"&&S.delete(I)})}if(!a.SPA&&!S.has("__superform_id")){const F=M(d);F!==void 0&&S.set("__superform_id",F)}}}function _e(P,S){const F=Math.ceil(P.length/S),V=new Array(F);for(let I=0,ee=0;I<F;++I,ee+=S)V[I]=P.substring(ee,ee+S);return V}async function pe(P){const S=P.result;R=null;let F=!1;const V={result:S,formEl:t,cancel:()=>F=!0};for(const I of y.onResult)await I(V);if(!F){if((S.type==="success"||S.type=="failure")&&S.data){const I=p(S.data);if(!I.length)throw new H("No form data returned from ActionResult. Make sure you return { form } in the form actions.");for(const ee of I){if(ee.id!==M(d))continue;const Le={form:ee,formEl:t,cancel:()=>F=!0};for(const Se of y.onUpdate)await Se(Le)}}if(!F){if(S.type!=="error")S.type==="success"&&a.invalidateAll&&await _t(),a.applyAction?await Ae(S):await i(S);else{if(a.applyAction)if(a.onError=="apply")await Ae(S);else{const I={type:"failure",status:Math.floor(S.status||500),data:S};await Ae(I)}if(a.onError!=="apply"){const I={result:S,message:h};for(const ee of y.onError)ee!=="apply"&&await ee(I)}}a.flashMessage&&S.type=="error"&&a.flashMessage.onError&&await a.flashMessage.onError({result:S,message:a.flashMessage.module.getFlash(Ee)})}}F&&a.flashMessage&&rt(a),(F||S.type!="redirect")&&q.completed(F)}return pe})}new TextEncoder;const ir={applyAction:!0,invalidateAll:!0,resetForm:!1,autoFocusOnError:"detect",scrollToError:"smooth",errorSelector:'[aria-invalid="true"],[data-invalid]',selectErrorText:!1,stickyNavbar:void 0,taintedMessage:"Do you want to leave this page? Changes you made may not be saved.",onSubmit:void 0,onResult:void 0,onUpdate:void 0,onUpdated:void 0,onError:t=>{console.warn("Unhandled Superform error, use onError event to handle it:",t.result.error)},dataType:"form",validators:void 0,defaultValidator:"keep",clearOnSubmit:"errors-and-message",delayMs:500,timeoutMs:8e3,multipleSubmits:"prevent",validation:void 0,SPA:void 0,validateMethod:"auto"};function or(t,e={}){var Se;e={...ir,...e},e.SPA&&e.validators===void 0&&console.warn("No validators set for Superform in SPA mode. Add them to the validators option, or set it to false to disable this warning.");let r=e.id;!t||l(t)===!1?(((Se=e.warnings)==null?void 0:Se.noValidationAndConstraints)!==!1&&console.warn((t?"Form data sent directly to superForm instead of through superValidate. No initial data validation is made. ":"No form data sent to superForm, schema type safety cannot be guaranteed. ")+"Also, no constraints will exist for the form. Set the warnings.noValidationAndConstraints option to false to disable this warning."),t={valid:!1,posted:!1,errors:{},data:t??{},constraints:{}}):r===void 0&&(r=t.id);const n=M(Ee).form;if(n&&typeof n=="object"){for(const o of d(n).reverse())if(o.id===r){const b=t;t=o,t.valid&&e.resetForm&&(e.resetForm===!0||e.resetForm())&&(t=ge(b),t.message=o.message);break}}const s=t,i=ge(s);if(typeof i.valid!="boolean")throw new H("A non-validation object was passed to superForm. Check what's passed to its first parameter.");const a=te(s.errors),u=te(r),h={taintedMessage:e.taintedMessage,taintedFormState:ge(i.data)};function f(o=8){return Math.random().toString(36).substring(2,o+2)}function y(o){h.taintedFormState=ge(o)}function d(o){var k;const b=Object.values(o).filter(T=>l(T)!==!1);if(b.length>1&&((k=e.warnings)==null?void 0:k.duplicateId)!==!1){const T=new Set;for(const C of b)T.has(C.id)?console.warn(`Duplicate form id found: "${C.id}". Multiple forms will receive the same data. Use the id option to differentiate between them, or if this is intended, set warnings.duplicateId option to false to disable this message.`):T.add(C.id)}return b}function l(o){return!o||typeof o!="object"||!("valid"in o&&"errors"in o&&typeof o.valid=="boolean")?!1:"id"in o&&typeof o.id=="string"?o.id:void 0}function g(){e.taintedMessage=h.taintedMessage,r===void 0&&u.set(f())}function v(o){const b=te(o);return{subscribe:b.subscribe,set:(k,T={})=>(_e(k,h.taintedFormState,T.taint??!0),h.taintedFormState=ge(k),b.set(k)),update:(k,T={})=>b.update(C=>{const ie=k(C);return _e(ie,h.taintedFormState,T.taint??!0),h.taintedFormState=ge(C),ie})}}const p=[u.subscribe(o=>r=o)];function c(o){p.push(o)}function m(){p.forEach(o=>o())}const w=v(s.data);function E(o,b){if(!(!b||typeof b!="object")){if(Array.isArray(b))b.length>0&&E(o,b[0]);else if(!(b instanceof Date))throw new H(`Object found in form field "${o}". Set options.dataType = 'json' and use:enhance to use nested data structures.`)}}async function O(o,b){o.valid&&b&&e.resetForm&&(e.resetForm===!0||e.resetForm())?B(o.message):V(o,b),I.onUpdated.length&&await it();for(const k of I.onUpdated)k({form:o})}function B(o,b,k){const T=ge(i);T.data={...T.data,...b},k!==void 0&&(T.id=k),V(T,!0,o)}const _=async(o,b)=>{if(o.type=="error")throw new H(`ActionResult of type "${o.type}" cannot be passed to update function.`);if(o.type=="redirect"){e.resetForm&&(e.resetForm===!0||e.resetForm())&&B();return}if(typeof o.data!="object")throw new H("Non-object validation data returned from ActionResult.");const k=d(o.data);if(!k.length)throw new H("No form data returned from ActionResult. Make sure you return { form } in the form actions.");for(const T of k)T.id===r&&await O(T,b??(o.status>=200&&o.status<300))},A=te([]),L=te(s.message),ae=te(s.constraints),q=te(!1),R={subscribe:a.subscribe,set:a.set,update:a.update,clear:()=>wt(a,{undefinePath:null,clearFormLevelErrors:!0})},$=te();function D(){return M($)}function se(o){if(o===null)throw new H("$tainted store contained null");if(typeof o=="object"){for(const b of Object.values(o))if(se(b))return!0}return o===!0}async function he(o,b){if(e.validationMethod=="onblur"||e.validationMethod=="submit-only")return!1;let k=e.validationMethod==="oninput";if(!k){const T=M(R),C=T?Wt(T,o,{modifier:Re=>{if(Je(o,Re))throw new H("Errors can only be added to form fields, not to arrays or objects in the schema. Path: "+Re.path.slice(0,-1));return Re.value}}):void 0;k=!!(C&&C.key in C.parent)}return k?(await Ze(o,e,w,R,$,{taint:b}),!0):!1}async function _e(o,b,k){if(k===!1)return;if(k==="untaint-all"){$.set(void 0);return}let T=Yt(o,b);if(typeof k=="object"&&(typeof k.fields=="string"&&(k.fields=[k.fields]),T=k.fields.map(C=>je(C)),k=!0),k===!0&&A.set(T),T.length){$.update(ie=>(ie||(ie={}),be(ie,T,k===!0?!0:void 0),ie));let C=!1;for(const ie of T)C=C||await he(ie,k);C||await zt(e,M(w),R)}}function pe(o,b){$.set(o),y(b)}const j=te(!1),P=te(!1),S=te(!1),F=we(R,o=>o?Xt(o):[]);if(e.taintedMessage=void 0,st(()=>{m();for(const o of Object.values(I))o.length=0}),e.dataType!=="json")for(const[o,b]of Object.entries(s.data))E(o,b);function V(o,b,k){if(b&&pe(typeof b=="boolean"?void 0:b,o.data),k=k??o.message,w.set(o.data,{taint:!1}),L.set(k),R.set(o.errors),u.set(o.id),q.set(o.posted),e.flashMessage&&Ye(e)){const T=e.flashMessage.module.getFlash(Ee);k&&M(T)===void 0&&T.set(k)}}const I={onSubmit:e.onSubmit?[e.onSubmit]:[],onResult:e.onResult?[e.onResult]:[],onUpdate:e.onUpdate?[e.onUpdate]:[],onUpdated:e.onUpdated?[e.onUpdated]:[],onError:e.onError?[e.onError]:[]};Ht(o=>{if(e.taintedMessage&&!M(j)){const b=D();b&&se(b)&&!window.confirm(e.taintedMessage)&&o.cancel()}}),c(Ee.subscribe(async o=>{if(!e.applyAction)return;function b(T){throw new H(`No form data found in ${T}. Make sure you return { form } in form actions and load functions.`)}const k=o.status>=200&&o.status<300;if(o.form&&typeof o.form=="object"){if(o.form.type=="error")return;const T=d(o.form);T.length||b("$page.form (ActionData)");for(const C of T)C.id===r&&await O(C,k)}else if(o.data&&typeof o.data=="object"){const T=d(o.data);for(const C of T)C.id===r&&V(C,k)}}));const ee=Object.fromEntries(Object.keys(i.data).map(o=>[o,{name:o,value:ye(w,o),errors:ye(R,o),constraints:ye(ae,o)}]));function Le(o,b){return o===void 0?$t(e,M(w),r,M(ae),!1):Ze(je(o),e,w,R,$,b)}return{form:w,formId:u,errors:R,message:L,constraints:ae,fields:ee,tainted:$,submitting:we(j,o=>o),delayed:we(P,o=>o),timeout:we(S,o=>o),options:e,capture:function(){return{valid:i.valid,posted:M(q),errors:M(R),data:M(w),constraints:M(ae),message:M(L),id:r,tainted:M($)}},restore:function(o){return V(o,o.tainted??!0)},validate:Le,enhance:(o,b)=>{if(b){if(b.onError){if(e.onError==="apply")throw new H('options.onError is set to "apply", cannot add any onError events.');if(b.onError==="apply")throw new H('Cannot add "apply" as onError event in use:enhance.');I.onError.push(b.onError)}b.onResult&&I.onResult.push(b.onResult),b.onSubmit&&I.onSubmit.push(b.onSubmit),b.onUpdate&&I.onUpdate.push(b.onUpdate),b.onUpdated&&I.onUpdated.push(b.onUpdated)}return sr(o,j,P,S,R,_,e,w,L,g,I,u,ae,$,A,d,q)},allErrors:F,posted:q,reset:o=>B(o!=null&&o.keepMessage?M(L):void 0,o==null?void 0:o.data,o==null?void 0:o.id)}}function ur(t){let e,r,n='<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 6L9 17l-5-5"/>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},t[0]],i={};for(let a=0;a<s.length;a+=1)i=ce(i,s[a]);return{c(){e=Et("svg"),r=new St(!0),this.h()},l(a){e=kt(a,"svg",{viewBox:!0,width:!0,height:!0});var u=re(e);r=At(u,!0),u.forEach(N),this.h()},h(){r.a=null,Ke(e,i)},m(a,u){U(a,e,u),r.m(n,e)},p(a,[u]){Ke(e,i=qe(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},u&1&&a[0]]))},i:He,o:He,d(a){a&&N(e)}}}function lr(t,e,r){return t.$$set=n=>{r(0,e=ce(ce({},e),Te(n)))},e=Te(e),[e]}class fr extends Ce{constructor(e){super(),Ue(this,e,lr,ur,Oe,{})}}function nt(t){let e,r;return{c(){e=W("span"),r=de(t[3]),this.h()},l(n){e=J(n,"SPAN",{class:!0});var s=re(e);r=me(s,t[3]),s.forEach(N),this.h()},h(){z(e,"class","invalid svelte-erm79x")},m(n,s){U(n,e,s),Z(e,r)},p(n,s){s&8&&dt(r,n[3])},d(n){n&&N(e)}}}function cr(t){let e,r,n,s,i,a,u,h,f,y,d,l,g,v=[{type:"checkbox"},{name:t[0]},{__value:"true"},t[5]],p={};for(let E=0;E<v.length;E+=1)p=ce(p,v[E]);a=new fr({});const c=t[8].default,m=ot(c,t,t[7],null);let w=t[3]&&nt(t);return{c(){e=W("label"),r=W("div"),n=W("input"),s=Y(),i=W("div"),oe(a.$$.fragment),u=Y(),h=W("span"),m&&m.c(),f=Y(),w&&w.c(),y=Fe(),this.h()},l(E){e=J(E,"LABEL",{class:!0});var O=re(e);r=J(O,"DIV",{class:!0});var B=re(r);n=J(B,"INPUT",{type:!0,name:!0}),s=K(B),i=J(B,"DIV",{class:!0});var _=re(i);ue(a.$$.fragment,_),_.forEach(N),B.forEach(N),u=K(O),h=J(O,"SPAN",{class:!0});var A=re(h);m&&m.l(A),A.forEach(N),O.forEach(N),f=K(E),w&&w.l(E),y=Fe(),this.h()},h(){Ne(n,p),Pe(n,"svelte-erm79x",!0),z(i,"class","symbol svelte-erm79x"),z(r,"class","checkbox svelte-erm79x"),z(h,"class","display-name"),z(e,"class","svelte-erm79x")},m(E,O){U(E,e,O),Z(e,r),Z(r,n),n.autofocus&&n.focus(),n.checked=t[2],Z(r,s),Z(r,i),le(a,i,null),Z(e,u),Z(e,h),m&&m.m(h,null),U(E,f,O),w&&w.m(E,O),U(E,y,O),d=!0,l||(g=ut(n,"change",t[9]),l=!0)},p(E,[O]){Ne(n,p=qe(v,[{type:"checkbox"},(!d||O&1)&&{name:E[0]},{__value:"true"},O&32&&E[5]])),O&4&&(n.checked=E[2]),Pe(n,"svelte-erm79x",!0),m&&m.p&&(!d||O&128)&&lt(m,c,E,E[7],d?ct(c,E[7],O,null):ft(E[7]),null),E[3]?w?w.p(E,O):(w=nt(E),w.c(),w.m(y.parentNode,y)):w&&(w.d(1),w=null)},i(E){d||(X(a.$$.fragment,E),X(m,E),d=!0)},o(E){Q(a.$$.fragment,E),Q(m,E),d=!1},d(E){E&&(N(e),N(f),N(y)),fe(a),m&&m.d(E),w&&w.d(E),l=!1,g()}}}function dr(t,e,r){let n;const s=["form","field"];let i=Me(e,s),a,u=He,h=()=>(u(),u=Tt(n,m=>r(2,a=m)),n),f;t.$$.on_destroy.push(()=>u());let{$$slots:y={},$$scope:d}=e,{form:l}=e,{field:g}=e;const{value:v,errors:p}=vt(l,g);ke(t,p,m=>r(3,f=m));function c(){a=this.checked,n.set(a)}return t.$$set=m=>{e=ce(ce({},e),Te(m)),r(5,i=Me(e,s)),"form"in m&&r(6,l=m.form),"field"in m&&r(0,g=m.field),"$$scope"in m&&r(7,d=m.$$scope)},h(r(1,n=v)),[g,n,a,f,p,i,l,d,y,c]}class mr extends Ce{constructor(e){super(),Ue(this,e,dr,cr,Oe,{form:6,field:0})}}function at(t){let e,r;return{c(){e=W("span"),r=de(t[1]),this.h()},l(n){e=J(n,"SPAN",{class:!0});var s=re(e);r=me(s,t[1]),s.forEach(N),this.h()},h(){z(e,"class","invalid svelte-hpvgb9")},m(n,s){U(n,e,s),Z(e,r)},p(n,s){s&2&&dt(r,n[1])},d(n){n&&N(e)}}}function hr(t){let e,r,n,s,i,a,u,h,f,y;const d=t[10].default,l=ot(d,t,t[9],null);let g=[{name:t[0]},{type:"text"},{"aria-invalid":i=t[1]?"true":void 0},t[2],t[7]],v={};for(let c=0;c<g.length;c+=1)v=ce(v,g[c]);let p=t[1]&&at(t);return{c(){e=W("label"),r=W("span"),l&&l.c(),n=Y(),s=W("input"),a=Y(),p&&p.c(),u=Fe(),this.h()},l(c){e=J(c,"LABEL",{class:!0});var m=re(e);r=J(m,"SPAN",{class:!0});var w=re(r);l&&l.l(w),w.forEach(N),n=K(m),s=J(m,"INPUT",{name:!0,type:!0,"aria-invalid":!0}),m.forEach(N),a=K(c),p&&p.l(c),u=Fe(),this.h()},h(){z(r,"class","display-name"),Ne(s,v),Pe(s,"svelte-hpvgb9",!0),z(e,"class","svelte-hpvgb9")},m(c,m){U(c,e,m),Z(e,r),l&&l.m(r,null),Z(e,n),Z(e,s),s.autofocus&&s.focus(),Xe(s,t[3]),U(c,a,m),p&&p.m(c,m),U(c,u,m),h=!0,f||(y=ut(s,"input",t[11]),f=!0)},p(c,[m]){l&&l.p&&(!h||m&512)&&lt(l,d,c,c[9],h?ct(d,c[9],m,null):ft(c[9]),null),Ne(s,v=qe(g,[(!h||m&1)&&{name:c[0]},{type:"text"},(!h||m&2&&i!==(i=c[1]?"true":void 0))&&{"aria-invalid":i},m&4&&c[2],m&128&&c[7]])),m&8&&s.value!==c[3]&&Xe(s,c[3]),Pe(s,"svelte-hpvgb9",!0),c[1]?p?p.p(c,m):(p=at(c),p.c(),p.m(u.parentNode,u)):p&&(p.d(1),p=null)},i(c){h||(X(l,c),h=!0)},o(c){Q(l,c),h=!1},d(c){c&&(N(e),N(a),N(u)),l&&l.d(c),p&&p.d(c),f=!1,y()}}}function pr(t,e,r){const n=["form","field"];let s=Me(e,n),i,a,u,{$$slots:h={},$$scope:f}=e,{form:y}=e,{field:d}=e;const{value:l,errors:g,constraints:v}=vt(y,d);ke(t,l,c=>r(3,u=c)),ke(t,g,c=>r(1,i=c)),ke(t,v,c=>r(2,a=c));function p(){u=this.value,l.set(u)}return t.$$set=c=>{e=ce(ce({},e),Te(c)),r(7,s=Me(e,n)),"form"in c&&r(8,y=c.form),"field"in c&&r(0,d=c.field),"$$scope"in c&&r(9,f=c.$$scope)},[d,i,a,u,l,g,v,s,y,f,h,p]}class gr extends Ce{constructor(e){super(),Ue(this,e,pr,hr,Oe,{form:8,field:0})}}function br(t){let e;return{c(){e=de("Username vergeben")},l(r){e=me(r,"Username vergeben")},m(r,n){U(r,e,n)},d(r){r&&N(e)}}}function _r(t){let e;return{c(){e=de("Schritt 1 von 3")},l(r){e=me(r,"Schritt 1 von 3")},m(r,n){U(r,e,n)},d(r){r&&N(e)}}}function vr(t){let e;return{c(){e=de(`Willkommen zum Online-Spiel The Hidden Threat*. Gleich geht es los. Nach der Vergabe des
    Usernamen werden Sie in die Lobby geleitet.`)},l(r){e=me(r,`Willkommen zum Online-Spiel The Hidden Threat*. Gleich geht es los. Nach der Vergabe des
    Usernamen werden Sie in die Lobby geleitet.`)},m(r,n){U(r,e,n)},d(r){r&&N(e)}}}function yr(t){let e;return{c(){e=de("Dein Username")},l(r){e=me(r,"Dein Username")},m(r,n){U(r,e,n)},d(r){r&&N(e)}}}function wr(t){let e;return{c(){e=de("Bitte gib Dir einen Username mit maximal 20 Buchstaben.")},l(r){e=me(r,"Bitte gib Dir einen Username mit maximal 20 Buchstaben.")},m(r,n){U(r,e,n)},d(r){r&&N(e)}}}function $r(t){let e;return{c(){e=de(`Hiermit stimme ich der Speicherung meiner eingegebenen Daten zu und bestätige dass ich
      mindestens 18 Jahre alt bin.*`)},l(r){e=me(r,`Hiermit stimme ich der Speicherung meiner eingegebenen Daten zu und bestätige dass ich
      mindestens 18 Jahre alt bin.*`)},m(r,n){U(r,e,n)},d(r){r&&N(e)}}}function Er(t){let e;return{c(){e=de("Bestätigen und weiter")},l(r){e=me(r,"Bestätigen und weiter")},m(r,n){U(r,e,n)},d(r){r&&N(e)}}}function Sr(t){let e,r;return e=new jt({props:{type:"submit",primary:!0,$$slots:{default:[Er]},$$scope:{ctx:t}}}),{c(){oe(e.$$.fragment)},l(n){ue(e.$$.fragment,n)},m(n,s){le(e,n,s),r=!0},p(n,s){const i={};s&4&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){r||(X(e.$$.fragment,n),r=!0)},o(n){Q(e.$$.fragment,n),r=!1},d(n){fe(e,n)}}}function kr(t){let e,r,n,s,i,a,u,h,f,y,d,l,g,v,p,c,m,w='* Weitere Informationen zum Spiel sind auf unserer <a href="/">Website</a> zufinden.',E,O,B;return e=new ze({props:{separator:!0,$$slots:{info:[_r],default:[br]},$$scope:{ctx:t}}}),n=new Qe({props:{$$slots:{default:[vr]},$$scope:{ctx:t}}}),u=new ze({props:{centered:!0,$$slots:{default:[yr]},$$scope:{ctx:t}}}),f=new Qe({props:{$$slots:{default:[wr]},$$scope:{ctx:t}}}),d=new gr({props:{form:t[0],field:"userName",placeholder:"z.B. Vor-und Nachname, Spitzname, Initalen, etc."}}),g=new mr({props:{form:t[0],field:"acceptedTos",$$slots:{default:[$r]},$$scope:{ctx:t}}}),p=new Mt({props:{$$slots:{default:[Sr]},$$scope:{ctx:t}}}),{c(){oe(e.$$.fragment),r=Y(),oe(n.$$.fragment),s=Y(),i=W("form"),a=W("div"),oe(u.$$.fragment),h=Y(),oe(f.$$.fragment),y=Y(),oe(d.$$.fragment),l=Y(),oe(g.$$.fragment),v=Y(),oe(p.$$.fragment),c=Y(),m=W("p"),m.innerHTML=w,this.h()},l(_){ue(e.$$.fragment,_),r=K(_),ue(n.$$.fragment,_),s=K(_),i=J(_,"FORM",{method:!0,class:!0});var A=re(i);a=J(A,"DIV",{class:!0});var L=re(a);ue(u.$$.fragment,L),h=K(L),ue(f.$$.fragment,L),y=K(L),ue(d.$$.fragment,L),L.forEach(N),l=K(A),ue(g.$$.fragment,A),v=K(A),ue(p.$$.fragment,A),A.forEach(N),c=K(_),m=J(_,"P",{class:!0,"data-svelte-h":!0}),Ft(m)!=="svelte-1iim19c"&&(m.innerHTML=w),this.h()},h(){z(a,"class","field svelte-vvzfxb"),z(i,"method","post"),z(i,"class","svelte-vvzfxb"),z(m,"class","more-info text-sm svelte-vvzfxb")},m(_,A){le(e,_,A),U(_,r,A),le(n,_,A),U(_,s,A),U(_,i,A),Z(i,a),le(u,a,null),Z(a,h),le(f,a,null),Z(a,y),le(d,a,null),Z(i,l),le(g,i,null),Z(i,v),le(p,i,null),U(_,c,A),U(_,m,A),E=!0,O||(B=Nt(t[0].enhance(i)),O=!0)},p(_,A){const L={};A&4&&(L.$$scope={dirty:A,ctx:_}),e.$set(L);const ae={};A&4&&(ae.$$scope={dirty:A,ctx:_}),n.$set(ae);const q={};A&4&&(q.$$scope={dirty:A,ctx:_}),u.$set(q);const R={};A&4&&(R.$$scope={dirty:A,ctx:_}),f.$set(R);const $={};A&4&&($.$$scope={dirty:A,ctx:_}),g.$set($);const D={};A&4&&(D.$$scope={dirty:A,ctx:_}),p.$set(D)},i(_){E||(X(e.$$.fragment,_),X(n.$$.fragment,_),X(u.$$.fragment,_),X(f.$$.fragment,_),X(d.$$.fragment,_),X(g.$$.fragment,_),X(p.$$.fragment,_),E=!0)},o(_){Q(e.$$.fragment,_),Q(n.$$.fragment,_),Q(u.$$.fragment,_),Q(f.$$.fragment,_),Q(d.$$.fragment,_),Q(g.$$.fragment,_),Q(p.$$.fragment,_),E=!1},d(_){_&&(N(r),N(s),N(i),N(c),N(m)),fe(e,_),fe(n,_),fe(u),fe(f),fe(d),fe(g),fe(p),O=!1,B()}}}function Ar(t){let e,r;return e=new Pt({props:{paddedContent:!0,showFooter:!0,$$slots:{default:[kr]},$$scope:{ctx:t}}}),{c(){oe(e.$$.fragment)},l(n){ue(e.$$.fragment,n)},m(n,s){le(e,n,s),r=!0},p(n,[s]){const i={};s&4&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){r||(X(e.$$.fragment,n),r=!0)},o(n){Q(e.$$.fragment,n),r=!1},d(n){fe(e,n)}}}function Tr(t,e,r){let{data:n}=e;const s=or(n);return t.$$set=i=>{"data"in i&&r(1,n=i.data)},[s,n]}class Dr extends Ce{constructor(e){super(),Ue(this,e,Tr,Ar,Oe,{data:1})}}export{Dr as U};
