import{s as Ie,l as Oe,e as W,c as G,b as te,f as L,m as re,i as J,u as Ce,o as Le,p as Re,a9 as F,aa as Qe,a8 as $e,C as ie,a as he,G as _e,g as ve,ab as ge,A as we,h as $,O as ze,ac as Ee,k as pe,a6 as et,t as tt,d as rt,j as nt,n as pt,r as bt,ad as We}from"./scheduler.60fb5a58.js";import{S as De,i as Ue,t as Ve,b as He}from"./index.02ea6f2d.js";import{p as fe}from"./stores.1b92069f.js";import{d as ue,w as H}from"./index.c3580b25.js";import{g as at}from"./spread.84d39b6c.js";import{j as Ze,k as ht}from"./singletons.d429c5e3.js";import{U as st,N as _t,P as vt,a as gt,b as it,H as wt,p as ot}from"./parse.7d180a0f.js";const Et=!0;class Te extends Error{constructor(t,a){super(t),this.name="DevalueError",this.path=a.join("")}}function Ge(e){return Object(e)!==e}const St=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function kt(e){const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null||Object.getOwnPropertyNames(t).sort().join("\0")===St}function At(e){return Object.prototype.toString.call(e).slice(8,-1)}function Ft(e){switch(e){case'"':return'\\"';case"<":return"\\u003C";case"\\":return"\\\\";case`
`:return"\\n";case"\r":return"\\r";case"	":return"\\t";case"\b":return"\\b";case"\f":return"\\f";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return e<" "?`\\u${e.charCodeAt(0).toString(16).padStart(4,"0")}`:""}}function ae(e){let t="",a=0;const i=e.length;for(let r=0;r<i;r+=1){const s=e[r],n=Ft(s);n&&(t+=e.slice(a,r)+n,a=r+1)}return`"${a===0?e:t+e.slice(a)}"`}function ut(e,t){const a=[],i=new Map,r=[];for(const d in t)r.push({key:d,fn:t[d]});const s=[];let n=0;function u(d){if(typeof d=="function")throw new Te("Cannot stringify a function",s);if(i.has(d))return i.get(d);if(d===void 0)return st;if(Number.isNaN(d))return _t;if(d===1/0)return vt;if(d===-1/0)return gt;if(d===0&&1/d<0)return it;const E=n++;i.set(d,E);for(const{key:c,fn:m}of r){const b=m(d);if(b)return a[E]=`["${c}",${u(b)}]`,E}let p="";if(Ge(d))p=Pe(d);else switch(At(d)){case"Number":case"String":case"Boolean":p=`["Object",${Pe(d)}]`;break;case"BigInt":p=`["BigInt",${d}]`;break;case"Date":p=`["Date","${d.toISOString()}"]`;break;case"RegExp":const{source:m,flags:b}=d;p=b?`["RegExp",${ae(m)},"${b}"]`:`["RegExp",${ae(m)}]`;break;case"Array":p="[";for(let l=0;l<d.length;l+=1)l>0&&(p+=","),l in d?(s.push(`[${l}]`),p+=u(d[l]),s.pop()):p+=wt;p+="]";break;case"Set":p='["Set"';for(const l of d)p+=`,${u(l)}`;p+="]";break;case"Map":p='["Map"';for(const[l,f]of d)s.push(`.get(${Ge(l)?Pe(l):"..."})`),p+=`,${u(l)},${u(f)}`;p+="]";break;default:if(!kt(d))throw new Te("Cannot stringify arbitrary non-POJOs",s);if(Object.getOwnPropertySymbols(d).length>0)throw new Te("Cannot stringify POJOs with symbolic keys",s);if(Object.getPrototypeOf(d)===null){p='["null"';for(const l in d)s.push(`.${l}`),p+=`,${ae(l)},${u(d[l])}`,s.pop();p+="]"}else{p="{";let l=!1;for(const f in d)l&&(p+=","),l=!0,s.push(`.${f}`),p+=`${ae(f)}:${u(d[f])}`,s.pop();p+="}"}}return a[E]=p,E}const y=u(e);return y<0?`${y}`:`[${a.join(",")}]`}function Pe(e){const t=typeof e;return t==="string"?ae(e):e instanceof String?ae(e.toString()):e===void 0?st.toString():e===0&&1/e<0?it.toString():t==="bigint"?`["BigInt","${e}"]`:String(e)}const lt=Et;function Nt(e){let t,a;const i=e[1].default,r=Oe(i,e,e[0],null);return{c(){t=W("div"),r&&r.c(),this.h()},l(s){t=G(s,"DIV",{class:!0});var n=te(t);r&&r.l(n),n.forEach(L),this.h()},h(){re(t,"class","centered svelte-1m2gxp2")},m(s,n){J(s,t,n),r&&r.m(t,null),a=!0},p(s,[n]){r&&r.p&&(!a||n&1)&&Ce(r,i,s,s[0],a?Re(i,s[0],n,null):Le(s[0]),null)},i(s){a||(Ve(r,s),a=!0)},o(s){He(r,s),a=!1},d(s){s&&L(t),r&&r.d(s)}}}function Tt(e,t,a){let{$$slots:i={},$$scope:r}=t;return e.$$set=s=>{"$$scope"in s&&a(0,r=s.$$scope)},[r,i]}class ar extends De{constructor(t){super(),Ue(this,t,Tt,Nt,Ie,{})}}const ft=Ze("invalidate_all"),Pt=Ze("before_navigate"),Mt=Ze("after_navigate");function Se(e){return e.toString().split(/[[\].]+/).filter(t=>t)}function jt(e){return e.reduce((t,a)=>(typeof a=="number"||!isNaN(parseInt(String(a),10))?t+=`[${String(a)}]`:t?t+=`.${String(a)}`:t+=String(a),t),"")}class C extends Error{constructor(t){super(t),Object.setPrototypeOf(this,C.prototype)}}function ke(e,t,a){return e[t]=a,"skip"}function Be(e,t){return t.value!==void 0&&typeof t.value!="object"&&t.path.length<e.length}function It(e,t,a={}){a.modifier||(a.modifier=r=>Be(t,r)?void 0:r.value);const i=D(e,t,a.modifier);if(i)return a.value===void 0||a.value(i.value)?i:void 0}function D(e,t,a){if(!t.length)return;const i=[t[0]];let r=e;for(;i.length<t.length;){const n=i[i.length-1],u=a?a({parent:r,key:String(n),value:r[n],path:i.map(y=>String(y)),isLeaf:!1,set:y=>ke(r,n,y)}):r[n];if(u===void 0)return;r=u,i.push(t[i.length])}const s=t[t.length-1];return{parent:r,key:String(s),value:r[s],path:t.map(n=>String(n)),isLeaf:!0,set:n=>ke(r,s,n)}}function Z(e,t,a=[]){for(const i in e){const r=e[i],s=r===null||typeof r!="object",n={parent:e,key:i,value:r,path:a.map(String).concat([i]),isLeaf:s,set:y=>ke(e,i,y)},u=t(n);if(u==="abort")return u;if(u==="skip")continue;if(!s){const y=Z(r,t,n.path);if(y==="abort")return y}}}async function Ot(e,t,a=[]){for(const i in e){const r=e[i],s=r===null||typeof r!="object",n={parent:e,key:i,value:r,path:a.map(String).concat([i]),isLeaf:s,set:y=>ke(e,i,y)},u=await t(n);if(u==="abort")return u;if(u==="skip")break;if(!s){const y=Z(r,t,n.path);if(y==="abort")return y}}}function Ct(e,t){return e===t||e.size===t.size&&[...e].every(a=>t.has(a))}function Lt(e,t){const a=new Map;function i(r,s){const n=D(s,r.path);function u(){a.set(r.path.join(" "),r.path)}r.isLeaf?n?(r.value instanceof Date&&n.value instanceof Date&&r.value.getTime()!=n.value.getTime()||r.value!==n.value)&&u():u():n&&r.value instanceof Set&&n.value instanceof Set&&!Ct(r.value,n.value)&&u()}return Z(e,r=>i(r,t)),Z(t,r=>i(r,e)),Array.from(a.values())}function ee(e,t,a){for(const i of t){const r=D(e,i,({parent:s,key:n,value:u})=>((u===void 0||typeof u!="object")&&(s[n]={}),s[n]));r&&(r.parent[r.key]=a)}}function ct(e,t){const i=Se(t).filter(r=>isNaN(parseInt(String(r)))).join(".");return{path:t,value:se(e.form,t),errors:se(e.errors,t),constraints:se(e.constraints,i)}}function se(e,t){const a=Se(t),i=ue(e,r=>{const s=D(r,a);return s==null?void 0:s.value});return{subscribe(...r){const s=i.subscribe(...r);return()=>{s()}},update(r){e.update(s=>{const n=D(s,a);return n&&(n.parent[n.key]=r(n.value)),s})},set(r){e.update(s=>{const n=D(s,a);return n&&(n.parent[n.key]=r),s})}}}function Q(e){return"structuredClone"in globalThis?structuredClone(e):ot(ut(e))}function Rt(e){const t=e;let a=!0,i=!1,r=!1,s=!1,n,u;for(;a;)e._def.typeName=="ZodNullable"?(i=!0,e=e.unwrap()):e._def.typeName=="ZodDefault"?(s=!0,u=e._def.defaultValue(),e=e._def.innerType):e._def.typeName=="ZodOptional"?(r=!0,e=e.unwrap()):e._def.typeName=="ZodEffects"?(n||(n=e),e=e._def.schema):e._def.typeName=="ZodPipeline"?e=e._def.out:a=!1;return{zodType:e,originalType:t,isNullable:i,isOptional:r,hasDefault:s,defaultValue:u,effects:n}}const Me=new WeakMap;function qe(e){return Me.has(e)||Me.set(e,le(e)),Me.get(e)}function le(e){const t=Rt(e).zodType;if(t._def.typeName=="ZodObject")return Object.fromEntries(Object.entries(t.shape).map(([a,i])=>[a,le(i)]).filter(a=>a[1]!==void 0));if(t._def.typeName=="ZodArray")return le(t._def.type)??{};if(t._def.typeName=="ZodRecord")return le(t._def.valueType)??{};if(t._def.typeName=="ZodUnion")return t._def.options.reduce((i,r)=>{const s=le(r);return s&&(i={...i??{},...s}),i},void 0)}function Ae(e,t,a=!0){const i={},r=Object.entries(e);if("_errors"in e&&e._errors.length){if(!t||!a)return e._errors;i._errors=e._errors}for(const[s,n]of r.filter(([u])=>u!=="_errors")){const u=!isNaN(parseInt(s,10));i[s]=Ae(n,t?u?t:t[s]:void 0,!!(t!=null&&t[s]))}return i}function Dt(e){return dt(e,[])}function dt(e,t){return Object.entries(e).filter(([,i])=>i!==void 0).flatMap(([i,r])=>{if(Array.isArray(r)&&r.length>0){const s=t.concat([i]);return{path:jt(s),messages:r}}else return dt(e[i],t.concat([i]))})}function mt(e,t){e.update(a=>(Z(a,i=>{if(!(i.path.length==1&&i.path[0]=="_errors"&&!t.clearFormLevelErrors)&&Array.isArray(i.value))return i.set(void 0)}),t.undefinePath&&ee(a,[t.undefinePath],void 0),a))}async function yt(e,t,a,i,r){return Ut(e.validators,t,a,i,r)}async function Ut(e,t,a,i,r){if(e){let s,n={};if("safeParseAsync"in e){const u=e,y=await u.safeParseAsync(t);s=y.success,y.success||(n=Ae(y.error.format(),qe(u)))}else{s=!0;const u=e,y=[];await Ot(t,async({value:d,path:E})=>{const p=E.filter(m=>isNaN(parseInt(m))),c=D(u,p);if(typeof(c==null?void 0:c.value)=="function"){const m=c.value;if(Array.isArray(d))for(const b in d){const l=await m(d[b]);l&&(s=!1,y.push({path:E.concat([b]),errors:typeof l=="string"?[l]:l??void 0}))}else{const b=await m(d);b&&(s=!1,y.push({path:E,errors:typeof b=="string"?[b]:b??void 0}))}}});for(const{path:d,errors:E}of y){const p=D(n,d,({parent:c,key:m,value:b})=>(b===void 0&&(c[m]={}),c[m]));if(p){const{parent:c,key:m}=p;c[m]=E}}}if(!s)return{valid:!1,posted:r,errors:n,data:t,constraints:i,message:void 0,id:a}}return{valid:!0,posted:r,errors:{},data:t,constraints:i,message:void 0,id:a}}async function Vt(e,t,a){if(typeof e.validators!="object"||!("safeParseAsync"in e.validators))return;const i=e.validators,r=await i.safeParseAsync(t);if(r.success)a.update(s=>(Z(s,n=>{if(n.key=="_errors")return n.set(void 0)}),s));else{const s=Ae(r.error.format(),qe(i));a.update(n=>(Z(n,u=>{if(u.key=="_errors")return u.set(void 0)}),Z(s,u=>{if(u.key=="_errors")return ee(n,[u.path],u.value)}),n))}}async function je(e,t,a,i,r,s={}){function n(){mt(i,{undefinePath:e,clearFormLevelErrors:!0})}function u(d){return typeof d=="string"&&(d=[d]),(s.update===!0||s.update=="errors")&&i.update(E=>{const p=D(E,e,c=>{if(Be(e,c))throw new C("Errors can only be added to form fields, not to arrays or objects in the schema. Path: "+c.path.slice(0,-1));return c.value===void 0?(c.parent[c.key]={},c.parent[c.key]):c.value});if(!p)throw new C("Error path could not be created: "+e);return p.parent[p.key]=d??void 0,E}),d??void 0}const y=await Ht(e,t.validators,a,i,r,s);if(y.validated)if(y.validated==="all"&&!y.errors)n();else return u(y.errors);else if(y.validated===!1&&t.defaultValidator=="clear")return u(void 0);return y.errors}async function Ht(e,t,a,i,r,s={}){s.update===void 0&&(s.update=!0),s.taint===void 0&&(s.taint=!1),typeof s.errors=="string"&&(s.errors=[s.errors]);const n={value:s.value,shouldUpdate:!0,currentData:void 0,validationPath:e.filter(c=>isNaN(parseInt(c)))};async function u(){return{validated:!1,errors:void 0}}function y(c,m){if(m===void 0)return!1;const b=D(m,c);return b?b.value===!0:!1}function d(c){i.update(c)}function E(){i.update(c=>(Z(c,m=>{if(m.key=="_errors")return m.set(void 0)}),c))}function p(c,m){return Ae(c.format(),qe(m))}if("value"in s)s.update===!0||s.update==="value"?a.update(c=>(ee(c,[e],n.value),n.currentData=c),{taint:s.taint}):n.shouldUpdate=!1;else{n.currentData=F(a);const c=D(n.currentData,e);n.value=c==null?void 0:c.value}if(typeof t!="object")return u();if("safeParseAsync"in t){n.shouldUpdate||(n.currentData=Q(n.currentData??F(a)),ee(n.currentData,[e],n.value));const c=await t.safeParseAsync(n.currentData);if(c.success)return E(),{validated:!0,errors:void 0};{const m=p(c.error,t);if(s.update===!0||s.update=="errors"){const l=F(r);d(f=>(Z(f,_=>{if(_.key=="_errors")return _.set(void 0)}),Z(m,_=>{if(_.key=="_errors")return ee(f,[_.path],_.value);if(Array.isArray(_.value))return y(_.path,l)&&ee(f,[_.path],_.value),"skip"}),f))}const b=D(m,e);return{validated:!0,errors:s.errors??(b==null?void 0:b.value)}}}else{const c=D(t,n.validationPath);if(c){if(c.value===void 0)return u();{const m=await c.value(n.value);return{validated:!0,errors:m&&(s.errors??m)}}}else throw new C("No Superforms validator found: "+e)}}function be(e){return ht.apply_action(e)}function Zt(e){const t=JSON.parse(e);return t.data&&(t.data=ot(t.data)),t}function Je(e){return HTMLElement.prototype.cloneNode.call(e)}function Bt(e,t=()=>{}){const a=async({action:r,result:s,reset:n})=>{s.type==="success"&&(n!==!1&&HTMLFormElement.prototype.reset.call(e),await ft()),(location.origin+location.pathname===r.origin+r.pathname||s.type==="redirect"||s.type==="error")&&be(s)};async function i(r){var b,l,f,_;if(((b=r.submitter)!=null&&b.hasAttribute("formmethod")?r.submitter.formMethod:Je(e).method)!=="post")return;r.preventDefault();const n=new URL((l=r.submitter)!=null&&l.hasAttribute("formaction")?r.submitter.formAction:Je(e).action),u=new FormData(e),y=(f=r.submitter)==null?void 0:f.getAttribute("name");y&&u.append(y,((_=r.submitter)==null?void 0:_.getAttribute("value"))??"");const d=new AbortController;let E=!1;const c=await t({action:n,cancel:()=>E=!0,controller:d,get data(){return u},formData:u,get form(){return e},formElement:e,submitter:r.submitter})??a;if(E)return;let m;try{const P=await fetch(n,{method:"POST",headers:{accept:"application/json","x-sveltekit-action":"true"},cache:"no-store",body:u,signal:d.signal});m=Zt(await P.text()),m.type==="error"&&(m.status=P.status)}catch(P){if((P==null?void 0:P.name)==="AbortError")return;m={type:"error",error:P}}c({action:n,get data(){return u},formData:u,get form(){return e},formElement:e,update:P=>a({action:n,result:m,reset:P==null?void 0:P.reset}),result:m})}return HTMLFormElement.prototype.addEventListener.call(e,"submit",i),{destroy(){HTMLFormElement.prototype.removeEventListener.call(e,"submit",i)}}}const qt=(e,t=0)=>{const a=e.getBoundingClientRect();return a.top>=t&&a.left>=0&&a.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&a.right<=(window.innerWidth||document.documentElement.clientWidth)},xt=(e,t=1.125,a="smooth")=>{const s=e.getBoundingClientRect().top+window.pageYOffset-window.innerHeight/(2*t);window.scrollTo({left:0,top:s,behavior:a})};var O;(function(e){e[e.Idle=0]="Idle",e[e.Submitting=1]="Submitting",e[e.Delayed=2]="Delayed",e[e.Timeout=3]="Timeout"})(O||(O={}));function Ye(e){!e.flashMessage||!lt||xe(e)&&(document.cookie=`flash=; Max-Age=0; Path=${e.flashMessage.cookiePath??"/"};`)}function xe(e){return!e.flashMessage||!lt?!1:e.syncFlashMessage}function Wt(e,t,a,i,r,s,n,u,y,d,E,p,c,m,b,l,f){d();const _=r;async function P(v){await je(v,n,u,_,m)}function ce(v){return v&&(v instanceof HTMLSelectElement||v instanceof HTMLInputElement&&v.type=="radio")}async function oe(v){if(!(n.validationMethod=="oninput"||n.validationMethod=="submit-only")){ce(v.target)&&await new Promise(I=>setTimeout(I,0));for(const I of F(b))P(I);b.set([])}}e.addEventListener("focusout",oe);const x=new Set;function de(v){const I=v.target;n.selectErrorText&&I.select()}function me(v){v.querySelectorAll("input").forEach(I=>{I.addEventListener("invalid",de)})}function Y(v){v.querySelectorAll("input").forEach(I=>I.removeEventListener("invalid",de))}Mt(v=>{v.type=="goto"&&U.completed(!0)}),Qe(()=>{x.forEach(v=>Y(v)),x.clear(),e.removeEventListener("focusout",oe),U.completed(!0)});function z(v){function I(){if(n.selectErrorText){const N=K();N&&v!==N&&(Y(N),x.delete(N)),x.has(v)||(me(v),x.add(v))}B=v}let B;function K(){return B}function ne(N){return typeof n.autoFocusOnError=="boolean"?n.autoFocusOnError:!/iPhone|iPad|iPod|Android/i.test(N)}const X=async()=>{if(n.scrollToError=="off")return;const N=n.errorSelector;if(!N)return;await $e();let A;if(A=B.querySelector(N),!A)return;A=A.querySelector(N)??A;const g=n.stickyNavbar?document.querySelector(n.stickyNavbar):null;if(typeof n.scrollToError!="string"?A.scrollIntoView(n.scrollToError):qt(A,(g==null?void 0:g.offsetHeight)??0)||xt(A,void 0,n.scrollToError),!ne(navigator.userAgent))return;let k;if(k=A,["INPUT","SELECT","BUTTON","TEXTAREA"].includes(k.tagName)||(k=k.querySelector('input:not([type="hidden"]):not(.flatpickr-input), select, textarea')),k)try{k.focus({preventScroll:!0}),n.selectErrorText&&k.tagName=="INPUT"&&k.select()}catch{}};I();{let N=O.Idle,A,g;const k=j=>{N=j,t.set(N>=O.Submitting),a.set(N>=O.Delayed),i.set(N>=O.Timeout)};return{submitting:()=>{I(),k(N!=O.Delayed?O.Submitting:O.Delayed),A&&clearTimeout(A),g&&clearTimeout(g),A=window.setTimeout(()=>{N==O.Submitting&&k(O.Delayed)},n.delayMs),g=window.setTimeout(()=>{N==O.Delayed&&k(O.Timeout)},n.timeoutMs)},completed:j=>{A&&clearTimeout(A),g&&clearTimeout(g),A=g=0,k(O.Idle),j||setTimeout(X)},scrollToFirstError:()=>setTimeout(X),isSubmitting:()=>N===O.Submitting||N===O.Delayed}}}const U=z(e);let R;return Bt(e,async v=>{var N;const I=v.cancel;let B=!1;function K(){return B=!0,I()}if(v.cancel=K,U.isSubmitting()&&n.multipleSubmits=="prevent")K();else{U.isSubmitting()&&n.multipleSubmits=="abort"&&R&&R.abort(),R=v.controller;for(const A of E.onSubmit)await A(v)}if(B)n.flashMessage&&Ye(n);else{const A=await yt(n,F(u),F(p),F(c),F(f));if(!A.valid){K();const g={type:"failure",status:(typeof n.SPA=="boolean"||(N=n.SPA)==null?void 0:N.failStatus)??400,data:{form:A}};setTimeout(()=>X({result:g}),0)}if(!B){switch(n.clearOnSubmit){case"errors-and-message":_.clear(),y.set(void 0);break;case"errors":_.clear();break;case"message":y.set(void 0);break}n.flashMessage&&(n.clearOnSubmit=="errors-and-message"||n.clearOnSubmit=="message")&&xe(n)&&n.flashMessage.module.getFlash(fe).set(void 0),U.submitting();const g="formData"in v?v.formData:v.data;if(n.SPA){K();const j={type:"success",status:200,data:{form:{valid:!0,posted:!0,errors:{},data:F(u),constraints:F(c),message:void 0,id:F(p)}}};setTimeout(()=>X({result:j}),0)}else if(n.dataType==="json"){const k=F(u),j=ne(ut(k),n.jsonChunkSize??5e5);for(const T of j)g.append("__superform_json",T);Object.keys(k).forEach(T=>{typeof g.get(T)=="string"&&g.delete(T)})}if(!n.SPA&&!g.has("__superform_id")){const k=F(p);k!==void 0&&g.set("__superform_id",k)}}}function ne(A,g){const k=Math.ceil(A.length/g),j=new Array(k);for(let T=0,V=0;T<k;++T,V+=g)j[T]=A.substring(V,V+g);return j}async function X(A){const g=A.result;R=null;let k=!1;const j={result:g,formEl:e,cancel:()=>k=!0};for(const T of E.onResult)await T(j);if(!k){if((g.type==="success"||g.type=="failure")&&g.data){const T=l(g.data);if(!T.length)throw new C("No form data returned from ActionResult. Make sure you return { form } in the form actions.");for(const V of T){if(V.id!==F(p))continue;const Fe={form:V,formEl:e,cancel:()=>k=!0};for(const ye of E.onUpdate)await ye(Fe)}}if(!k){if(g.type!=="error")g.type==="success"&&n.invalidateAll&&await ft(),n.applyAction?await be(g):await s(g);else{if(n.applyAction)if(n.onError=="apply")await be(g);else{const T={type:"failure",status:Math.floor(g.status||500),data:g};await be(T)}if(n.onError!=="apply"){const T={result:g,message:y};for(const V of E.onError)V!=="apply"&&await V(T)}}n.flashMessage&&g.type=="error"&&n.flashMessage.onError&&await n.flashMessage.onError({result:g,message:n.flashMessage.module.getFlash(fe)})}}k&&n.flashMessage&&Ye(n),(k||g.type!="redirect")&&U.completed(k)}return X})}new TextEncoder;const Gt={applyAction:!0,invalidateAll:!0,resetForm:!1,autoFocusOnError:"detect",scrollToError:"smooth",errorSelector:'[aria-invalid="true"],[data-invalid]',selectErrorText:!1,stickyNavbar:void 0,taintedMessage:"Do you want to leave this page? Changes you made may not be saved.",onSubmit:void 0,onResult:void 0,onUpdate:void 0,onUpdated:void 0,onError:e=>{console.warn("Unhandled Superform error, use onError event to handle it:",e.result.error)},dataType:"form",validators:void 0,defaultValidator:"keep",clearOnSubmit:"errors-and-message",delayMs:500,timeoutMs:8e3,multipleSubmits:"prevent",validation:void 0,SPA:void 0,validateMethod:"auto"};function sr(e,t={}){var ye;t={...Gt,...t},t.SPA&&t.validators===void 0&&console.warn("No validators set for Superform in SPA mode. Add them to the validators option, or set it to false to disable this warning.");let a=t.id;!e||c(e)===!1?(((ye=t.warnings)==null?void 0:ye.noValidationAndConstraints)!==!1&&console.warn((e?"Form data sent directly to superForm instead of through superValidate. No initial data validation is made. ":"No form data sent to superForm, schema type safety cannot be guaranteed. ")+"Also, no constraints will exist for the form. Set the warnings.noValidationAndConstraints option to false to disable this warning."),e={valid:!1,posted:!1,errors:{},data:e??{},constraints:{}}):a===void 0&&(a=e.id);const i=F(fe).form;if(i&&typeof i=="object"){for(const o of p(i).reverse())if(o.id===a){const h=e;e=o,e.valid&&t.resetForm&&(t.resetForm===!0||t.resetForm())&&(e=Q(h),e.message=o.message);break}}const r=e,s=Q(r);if(typeof s.valid!="boolean")throw new C("A non-validation object was passed to superForm. Check what's passed to its first parameter.");const n=H(r.errors),u=H(a),y={taintedMessage:t.taintedMessage,taintedFormState:Q(s.data)};function d(o=8){return Math.random().toString(36).substring(2,o+2)}function E(o){y.taintedFormState=Q(o)}function p(o){var w;const h=Object.values(o).filter(S=>c(S)!==!1);if(h.length>1&&((w=t.warnings)==null?void 0:w.duplicateId)!==!1){const S=new Set;for(const M of h)S.has(M.id)?console.warn(`Duplicate form id found: "${M.id}". Multiple forms will receive the same data. Use the id option to differentiate between them, or if this is intended, set warnings.duplicateId option to false to disable this message.`):S.add(M.id)}return h}function c(o){return!o||typeof o!="object"||!("valid"in o&&"errors"in o&&typeof o.valid=="boolean")?!1:"id"in o&&typeof o.id=="string"?o.id:void 0}function m(){t.taintedMessage=y.taintedMessage,a===void 0&&u.set(d())}function b(o){const h=H(o);return{subscribe:h.subscribe,set:(w,S={})=>(ne(w,y.taintedFormState,S.taint??!0),y.taintedFormState=Q(w),h.set(w)),update:(w,S={})=>h.update(M=>{const q=w(M);return ne(q,y.taintedFormState,S.taint??!0),y.taintedFormState=Q(M),q})}}const l=[u.subscribe(o=>a=o)];function f(o){l.push(o)}function _(){l.forEach(o=>o())}const P=b(r.data);function ce(o,h){if(!(!h||typeof h!="object")){if(Array.isArray(h))h.length>0&&ce(o,h[0]);else if(!(h instanceof Date))throw new C(`Object found in form field "${o}". Set options.dataType = 'json' and use:enhance to use nested data structures.`)}}async function oe(o,h){o.valid&&h&&t.resetForm&&(t.resetForm===!0||t.resetForm())?x(o.message):j(o,h),T.onUpdated.length&&await $e();for(const w of T.onUpdated)w({form:o})}function x(o,h,w){const S=Q(s);S.data={...S.data,...h},w!==void 0&&(S.id=w),j(S,!0,o)}const de=async(o,h)=>{if(o.type=="error")throw new C(`ActionResult of type "${o.type}" cannot be passed to update function.`);if(o.type=="redirect"){t.resetForm&&(t.resetForm===!0||t.resetForm())&&x();return}if(typeof o.data!="object")throw new C("Non-object validation data returned from ActionResult.");const w=p(o.data);if(!w.length)throw new C("No form data returned from ActionResult. Make sure you return { form } in the form actions.");for(const S of w)S.id===a&&await oe(S,h??(o.status>=200&&o.status<300))},me=H([]),Y=H(r.message),z=H(r.constraints),U=H(!1),R={subscribe:n.subscribe,set:n.set,update:n.update,clear:()=>mt(n,{undefinePath:null,clearFormLevelErrors:!0})},v=H();function I(){return F(v)}function B(o){if(o===null)throw new C("$tainted store contained null");if(typeof o=="object"){for(const h of Object.values(o))if(B(h))return!0}return o===!0}async function K(o,h){if(t.validationMethod=="onblur"||t.validationMethod=="submit-only")return!1;let w=t.validationMethod==="oninput";if(!w){const S=F(R),M=S?It(S,o,{modifier:Ne=>{if(Be(o,Ne))throw new C("Errors can only be added to form fields, not to arrays or objects in the schema. Path: "+Ne.path.slice(0,-1));return Ne.value}}):void 0;w=!!(M&&M.key in M.parent)}return w?(await je(o,t,P,R,v,{taint:h}),!0):!1}async function ne(o,h,w){if(w===!1)return;if(w==="untaint-all"){v.set(void 0);return}let S=Lt(o,h);if(typeof w=="object"&&(typeof w.fields=="string"&&(w.fields=[w.fields]),S=w.fields.map(M=>Se(M)),w=!0),w===!0&&me.set(S),S.length){v.update(q=>(q||(q={}),ee(q,S,w===!0?!0:void 0),q));let M=!1;for(const q of S)M=M||await K(q,w);M||await Vt(t,F(P),R)}}function X(o,h){v.set(o),E(h)}const N=H(!1),A=H(!1),g=H(!1),k=ue(R,o=>o?Dt(o):[]);if(t.taintedMessage=void 0,Qe(()=>{_();for(const o of Object.values(T))o.length=0}),t.dataType!=="json")for(const[o,h]of Object.entries(r.data))ce(o,h);function j(o,h,w){if(h&&X(typeof h=="boolean"?void 0:h,o.data),w=w??o.message,P.set(o.data,{taint:!1}),Y.set(w),R.set(o.errors),u.set(o.id),U.set(o.posted),t.flashMessage&&xe(t)){const S=t.flashMessage.module.getFlash(fe);w&&F(S)===void 0&&S.set(w)}}const T={onSubmit:t.onSubmit?[t.onSubmit]:[],onResult:t.onResult?[t.onResult]:[],onUpdate:t.onUpdate?[t.onUpdate]:[],onUpdated:t.onUpdated?[t.onUpdated]:[],onError:t.onError?[t.onError]:[]};Pt(o=>{if(t.taintedMessage&&!F(N)){const h=I();h&&B(h)&&!window.confirm(t.taintedMessage)&&o.cancel()}}),f(fe.subscribe(async o=>{if(!t.applyAction)return;function h(S){throw new C(`No form data found in ${S}. Make sure you return { form } in form actions and load functions.`)}const w=o.status>=200&&o.status<300;if(o.form&&typeof o.form=="object"){if(o.form.type=="error")return;const S=p(o.form);S.length||h("$page.form (ActionData)");for(const M of S)M.id===a&&await oe(M,w)}else if(o.data&&typeof o.data=="object"){const S=p(o.data);for(const M of S)M.id===a&&j(M,w)}}));const V=Object.fromEntries(Object.keys(s.data).map(o=>[o,{name:o,value:se(P,o),errors:se(R,o),constraints:se(z,o)}]));function Fe(o,h){return o===void 0?yt(t,F(P),a,F(z),!1):je(Se(o),t,P,R,v,h)}return{form:P,formId:u,errors:R,message:Y,constraints:z,fields:V,tainted:v,submitting:ue(N,o=>o),delayed:ue(A,o=>o),timeout:ue(g,o=>o),options:t,capture:function(){return{valid:s.valid,posted:F(U),errors:F(R),data:F(P),constraints:F(z),message:F(Y),id:a,tainted:F(v)}},restore:function(o){return j(o,o.tainted??!0)},validate:Fe,enhance:(o,h)=>{if(h){if(h.onError){if(t.onError==="apply")throw new C('options.onError is set to "apply", cannot add any onError events.');if(h.onError==="apply")throw new C('Cannot add "apply" as onError event in use:enhance.');T.onError.push(h.onError)}h.onResult&&T.onResult.push(h.onResult),h.onSubmit&&T.onSubmit.push(h.onSubmit),h.onUpdate&&T.onUpdate.push(h.onUpdate),h.onUpdated&&T.onUpdated.push(h.onUpdated)}return Wt(o,N,A,g,R,de,t,P,Y,m,T,u,z,v,me,p,U)},allErrors:k,posted:U,reset:o=>x(o!=null&&o.keepMessage?F(Y):void 0,o==null?void 0:o.data,o==null?void 0:o.id)}}function Ke(e){let t,a;return{c(){t=W("span"),a=tt(e[3]),this.h()},l(i){t=G(i,"SPAN",{class:!0});var r=te(t);a=rt(r,e[3]),r.forEach(L),this.h()},h(){re(t,"class","invalid svelte-1ch2xak")},m(i,r){J(i,t,r),$(t,a)},p(i,r){r&8&&nt(a,i[3])},d(i){i&&L(t)}}}function Jt(e){let t,a,i,r,s,n,u,y,d,E=[{type:"checkbox"},{name:e[0]},{__value:"true"},e[5]],p={};for(let l=0;l<E.length;l+=1)p=ie(p,E[l]);const c=e[8].default,m=Oe(c,e,e[7],null);let b=e[3]&&Ke(e);return{c(){t=W("label"),a=W("input"),i=he(),r=W("span"),m&&m.c(),s=he(),b&&b.c(),n=_e(),this.h()},l(l){t=G(l,"LABEL",{class:!0});var f=te(t);a=G(f,"INPUT",{type:!0,name:!0}),i=ve(f),r=G(f,"SPAN",{class:!0});var _=te(r);m&&m.l(_),_.forEach(L),f.forEach(L),s=ve(l),b&&b.l(l),n=_e(),this.h()},h(){ge(a,p),we(a,"svelte-1ch2xak",!0),re(r,"class","display-name"),re(t,"class","svelte-1ch2xak")},m(l,f){J(l,t,f),$(t,a),a.autofocus&&a.focus(),a.checked=e[2],$(t,i),$(t,r),m&&m.m(r,null),J(l,s,f),b&&b.m(l,f),J(l,n,f),u=!0,y||(d=ze(a,"change",e[9]),y=!0)},p(l,[f]){ge(a,p=at(E,[{type:"checkbox"},(!u||f&1)&&{name:l[0]},{__value:"true"},f&32&&l[5]])),f&4&&(a.checked=l[2]),we(a,"svelte-1ch2xak",!0),m&&m.p&&(!u||f&128)&&Ce(m,c,l,l[7],u?Re(c,l[7],f,null):Le(l[7]),null),l[3]?b?b.p(l,f):(b=Ke(l),b.c(),b.m(n.parentNode,n)):b&&(b.d(1),b=null)},i(l){u||(Ve(m,l),u=!0)},o(l){He(m,l),u=!1},d(l){l&&(L(t),L(s),L(n)),m&&m.d(l),b&&b.d(l),y=!1,d()}}}function Yt(e,t,a){let i;const r=["form","field"];let s=Ee(t,r),n,u=pt,y=()=>(u(),u=bt(i,_=>a(2,n=_)),i),d;e.$$.on_destroy.push(()=>u());let{$$slots:E={},$$scope:p}=t,{form:c}=t,{field:m}=t;const{value:b,errors:l}=ct(c,m);pe(e,l,_=>a(3,d=_));function f(){n=this.checked,i.set(n)}return e.$$set=_=>{t=ie(ie({},t),et(_)),a(5,s=Ee(t,r)),"form"in _&&a(6,c=_.form),"field"in _&&a(0,m=_.field),"$$scope"in _&&a(7,p=_.$$scope)},y(a(1,i=b)),[m,i,n,d,l,s,c,p,E,f]}class ir extends De{constructor(t){super(),Ue(this,t,Yt,Jt,Ie,{form:6,field:0})}}function Xe(e){let t,a;return{c(){t=W("span"),a=tt(e[1]),this.h()},l(i){t=G(i,"SPAN",{class:!0});var r=te(t);a=rt(r,e[1]),r.forEach(L),this.h()},h(){re(t,"class","invalid svelte-1f6b8ri")},m(i,r){J(i,t,r),$(t,a)},p(i,r){r&2&&nt(a,i[1])},d(i){i&&L(t)}}}function Kt(e){let t,a,i,r,s,n,u,y,d,E;const p=e[10].default,c=Oe(p,e,e[9],null);let m=[{name:e[0]},{type:"text"},{"aria-invalid":s=e[1]?"true":void 0},e[2],e[7]],b={};for(let f=0;f<m.length;f+=1)b=ie(b,m[f]);let l=e[1]&&Xe(e);return{c(){t=W("label"),a=W("span"),c&&c.c(),i=he(),r=W("input"),n=he(),l&&l.c(),u=_e(),this.h()},l(f){t=G(f,"LABEL",{class:!0});var _=te(t);a=G(_,"SPAN",{class:!0});var P=te(a);c&&c.l(P),P.forEach(L),i=ve(_),r=G(_,"INPUT",{name:!0,type:!0,"aria-invalid":!0}),_.forEach(L),n=ve(f),l&&l.l(f),u=_e(),this.h()},h(){re(a,"class","display-name"),ge(r,b),we(r,"svelte-1f6b8ri",!0),re(t,"class","svelte-1f6b8ri")},m(f,_){J(f,t,_),$(t,a),c&&c.m(a,null),$(t,i),$(t,r),r.autofocus&&r.focus(),We(r,e[3]),J(f,n,_),l&&l.m(f,_),J(f,u,_),y=!0,d||(E=ze(r,"input",e[11]),d=!0)},p(f,[_]){c&&c.p&&(!y||_&512)&&Ce(c,p,f,f[9],y?Re(p,f[9],_,null):Le(f[9]),null),ge(r,b=at(m,[(!y||_&1)&&{name:f[0]},{type:"text"},(!y||_&2&&s!==(s=f[1]?"true":void 0))&&{"aria-invalid":s},_&4&&f[2],_&128&&f[7]])),_&8&&r.value!==f[3]&&We(r,f[3]),we(r,"svelte-1f6b8ri",!0),f[1]?l?l.p(f,_):(l=Xe(f),l.c(),l.m(u.parentNode,u)):l&&(l.d(1),l=null)},i(f){y||(Ve(c,f),y=!0)},o(f){He(c,f),y=!1},d(f){f&&(L(t),L(n),L(u)),c&&c.d(f),l&&l.d(f),d=!1,E()}}}function Xt(e,t,a){const i=["form","field"];let r=Ee(t,i),s,n,u,{$$slots:y={},$$scope:d}=t,{form:E}=t,{field:p}=t;const{value:c,errors:m,constraints:b}=ct(E,p);pe(e,c,f=>a(3,u=f)),pe(e,m,f=>a(1,s=f)),pe(e,b,f=>a(2,n=f));function l(){u=this.value,c.set(u)}return e.$$set=f=>{t=ie(ie({},t),et(f)),a(7,r=Ee(t,i)),"form"in f&&a(8,E=f.form),"field"in f&&a(0,p=f.field),"$$scope"in f&&a(9,d=f.$$scope)},[p,s,n,u,c,m,b,r,E,d,y,l]}class or extends De{constructor(t){super(),Ue(this,t,Xt,Kt,Ie,{form:8,field:0})}}export{ar as C,or as T,ir as a,sr as s};
