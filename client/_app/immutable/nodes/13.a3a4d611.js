var Oo=Object.defineProperty;var Po=(n,e,t)=>e in n?Oo(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Xe=(n,e,t)=>(Po(n,typeof e!="symbol"?e+"":e,t),t);import{aa as sr,ae as Mo,af as Co,s as he,e as H,y as F,a as Z,t as ee,c as V,b as S,z as R,f as g,g as N,d as te,m,i as P,h as A,j as Ie,n as ne,I as or,K as nn,R as Bn,ag as is,k as se,G as ye,T as Do,C as Le,w as G1,J as De,O as we,x as je,a3 as Hn,a4 as Vn,a5 as at,a6 as ct,l as Oe,A as Y,u as Pe,o as Me,p as Ce,M as pn,q as Vt,ab as Mr,ad as Cr,ah as ln,E as n1,v as _1,B as jo,ai as Lo,aj as Fo,ak as jn,al as Ro}from"../chunks/scheduler.60fb5a58.js";import{S as de,i as ve,g as ae,e as ce,t as $,b as E,c as q,a as U,m as W,d as z,f as ar,h as cr,j as Bo}from"../chunks/index.02ea6f2d.js";import{r as ss,w as Ho}from"../chunks/index.c3580b25.js";import{a as Dr,i as jr,b as Lr,e as fe,u as fr,o as ur,C as Vo,F as Fr,c as Zo,I as hr,R as q1,d as os,T as Rr,N as No,A as Go}from"../chunks/constants.ed9e5d47.js";import{g as kn}from"../chunks/spread.84d39b6c.js";import{A as dr,a as as,P as cs}from"../chunks/Polygon.eaedc647.js";import{B as ft}from"../chunks/Button.192f9f1e.js";import{H as Ht}from"../chunks/Heading.2807337b.js";import{F as vr}from"../chunks/Face.e26096ad.js";const qo=!1,Tm=Object.freeze(Object.defineProperty({__proto__:null,ssr:qo},Symbol.toStringTag,{value:"Module"}));function Uo(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function Wo(){const n=Uo();if(n.__xstate__)return n.__xstate__}const zo=n=>{if(typeof window>"u")return;const e=Wo();e&&e.register(n)};let St=function(n){return n.After="xstate.after",n.DoneState="done.state",n.DoneInvoke="done.invoke",n.ErrorExecution="error.execution",n.ErrorCommunication="error.communication",n.ErrorPlatform="error.platform",n.ErrorCustom="xstate.error",n}({});St.After;St.DoneState;const xo=St.ErrorExecution,Xo=St.ErrorPlatform;St.ErrorCustom;const An=".",Ko="",fs="",Jo="#",Qo="*",us="xstate.init",Br=new WeakMap;function en(n,e,t){let r=Br.get(n);return r?e in r||(r[e]=t()):(r={[e]:t()},Br.set(n,r)),r[e]}function Yo(n,e,t,{sendId:r}){const l=typeof r=="function"?r(t):r;return[e,l]}function ea(n,e){n.self.cancel(e)}function ta(n){function e(t){}return e.type="xstate.cancel",e.sendId=n,e.resolve=Yo,e.execute=ea,e}class Hr{constructor(e){this._process=e,this._active=!1,this._current=null,this._last=null}start(){this._active=!0,this.flush()}clear(){this._current&&(this._current.next=null,this._last=this._current)}prepend(e){if(!this._current){this.enqueue(e);return}this._current={value:e,next:this._current}}enqueue(e){const t={value:e,next:null};if(this._current){this._last.next=t,this._last=t;return}this._current=t,this._last=t,this._active&&this.flush()}flush(){for(;this._current;){const e=this._current;this._process(e.value),e===this._current&&(this._current=this._current.next)}this._last=null}}const na=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")();function hs(n,e){const t=U1(n),r=U1(e);return typeof r=="string"?typeof t=="string"?r===t:!1:typeof t=="string"?t in r:Object.keys(t).every(l=>l in r?hs(t[l],r[l]):!1)}function ds(n){try{return Zn(n)?n:n.toString().split(An)}catch{throw new Error(`'${n}' is not a valid state path.`)}}function ra(n){return typeof n=="object"&&"value"in n&&"context"in n&&"event"in n}function U1(n){if(ra(n))return n.value;if(Zn(n))return Vr(n);if(typeof n!="string")return n;const e=ds(n);return Vr(e)}function Vr(n){if(n.length===1)return n[0];const e={};let t=e;for(let r=0;r<n.length-1;r++)if(r===n.length-2)t[n[r]]=n[r+1];else{const l=t;t={},l[n[r]]=t}return e}function Zr(n,e){const t={},r=Object.keys(n);for(let l=0;l<r.length;l++){const s=r[l];t[s]=e(n[s],s,n,l)}return t}function W1(n){return[].concat(...n)}function vs(n){return Zn(n)?n:[n]}function At(n){return n===void 0?[]:vs(n)}function ps(n,e,t){if(typeof n=="function")return n({context:e,event:t});const r={},l={context:e,event:t};for(const s of Object.keys(n)){const i=n[s];typeof i=="function"?r[s]=i(l):r[s]=i}return r}function Zn(n){return Array.isArray(n)}function la(n){return typeof n.type=="string"&&(n.type===xo||n.type.startsWith(Xo))}function vn(n){return vs(n).map(e=>typeof e>"u"||typeof e=="string"?{target:e}:e)}function _s(n){if(!(n===void 0||n===Ko))return At(n)}function ia(n,e){if(typeof n=="object"){if("src"in n)return n;if("transition"in n)return{id:e,src:n}}return{id:e,src:n}}function sa(n,e,t){const r=()=>{},l=typeof n=="object",s=l?n:null;return{next:((l?n.next:n)||r).bind(s),error:((l?n.error:e)||r).bind(s),complete:((l?n.complete:t)||r).bind(s)}}function oa(n,e){return`${n}:invocation[${e}]`}function r1(n){return n?"transition"in n?{src:n,input:void 0}:n:void 0}const z1="xstate.stop";function aa(){let n=0;const e=new Map,t=new Map,r=new WeakMap;return{_bookId:()=>`x:${n++}`,_register:(s,i)=>(e.set(s,i),s),_unregister:s=>{e.delete(s.sessionId);const i=r.get(s);i!==void 0&&(t.delete(i),r.delete(s))},get:s=>t.get(s),_set:(s,i)=>{const c=t.get(s);if(c&&c!==i)throw new Error(`Actor with system ID '${s}' already exists.`);t.set(s,i),r.set(i,s)}}}let Be=function(n){return n[n.NotStarted=0]="NotStarted",n[n.Running=1]="Running",n[n.Stopped=2]="Stopped",n}({});const ca={deferEvents:!0,clock:{setTimeout:(n,e)=>setTimeout(n,e),clearTimeout:n=>clearTimeout(n)},logger:console.log.bind(console),devTools:!1};class fa{constructor(e,t){this.logic=e,this._state=void 0,this.clock=void 0,this.options=void 0,this.id=void 0,this.mailbox=new Hr(this._process.bind(this)),this.delayedEventsMap={},this.observers=new Set,this.logger=void 0,this.status=Be.NotStarted,this._parent=void 0,this.ref=void 0,this._actorContext=void 0,this._systemId=void 0,this.sessionId=void 0,this.system=void 0,this._doneEvent=void 0,this.src=void 0,this._deferred=[];const r={...ca,...t},{clock:l,logger:s,parent:i,id:c,systemId:a}=r,f=this;this.system=(i==null?void 0:i.system)??aa(),a&&(this._systemId=a,this.system._set(a,this)),this.sessionId=this.system._bookId(),this.id=c??this.sessionId,this.logger=s,this.clock=l,this._parent=i,this.options=r,this.src=r.src,this.ref=this,this._actorContext={self:f,id:this.id,sessionId:this.sessionId,logger:this.logger,defer:v=>{this._deferred.push(v)},system:this.system,stopChild:v=>{if(v._parent!==this)throw new Error(`Cannot stop child actor ${v.id} of ${this.id} because it is not a child`);v._stop()}},this.send=this.send.bind(this),this._initState()}_initState(){var e;this._state=this.options.state?this.logic.restoreState?this.logic.restoreState(this.options.state,this._actorContext):this.options.state:this.logic.getInitialState(this._actorContext,(e=this.options)==null?void 0:e.input)}update(e){var s,i,c,a,f;this._state=e;const t=this.getSnapshot();let r;for(;r=this._deferred.shift();)r();for(const v of this.observers)(s=v.next)==null||s.call(v,t);const l=(c=(i=this.logic).getStatus)==null?void 0:c.call(i,e);switch(l==null?void 0:l.status){case"done":this._stopProcedure(),this._doneEvent=Ha(this.id,l.data),(a=this._parent)==null||a.send(this._doneEvent),this._complete();break;case"error":this._stopProcedure(),(f=this._parent)==null||f.send(b1(this.id,l.data)),this._error(l.data);break}}subscribe(e,t,r){var s;const l=sa(e,t,r);return this.observers.add(l),this.status===Be.Stopped&&((s=l.complete)==null||s.call(l),this.observers.delete(l)),{unsubscribe:()=>{this.observers.delete(l)}}}start(){return this.status===Be.Running?this:(this.system._register(this.sessionId,this),this._systemId&&this.system._set(this._systemId,this),this.status=Be.Running,this.logic.start&&this.logic.start(this._state,this._actorContext),this.update(this._state),this.options.devTools&&this.attachDevTools(),this.mailbox.start(),this)}_process(e){try{const t=this.logic.transition(this._state,e,this._actorContext);this.update(t),e.type===z1&&(this._stopProcedure(),this._complete())}catch(t){if(this.observers.size>0)this.observers.forEach(r=>{var l;(l=r.error)==null||l.call(r,t)}),this.stop();else throw t}}_stop(){return this.status===Be.Stopped?this:(this.mailbox.clear(),this.status===Be.NotStarted?(this.status=Be.Stopped,this):(this.mailbox.enqueue({type:z1}),this))}stop(){if(this._parent)throw new Error("A non-root actor cannot be stopped directly.");return this._stop()}_complete(){var e;for(const t of this.observers)(e=t.complete)==null||e.call(t);this.observers.clear()}_error(e){var t;for(const r of this.observers)(t=r.error)==null||t.call(r,e);this.observers.clear()}_stopProcedure(){if(this.status!==Be.Running)return this;for(const e of Object.keys(this.delayedEventsMap))this.clock.clearTimeout(this.delayedEventsMap[e]);return this.mailbox.clear(),this.mailbox=new Hr(this._process.bind(this)),this.status=Be.Stopped,this.system._unregister(this),this}send(e){if(typeof e=="string")throw new Error(`Only event objects may be sent to actors; use .send({ type: "${e}" }) instead`);if(this.status!==Be.Stopped){if(this.status!==Be.Running&&!this.options.deferEvents)throw new Error(`Event "${e.type}" was sent to uninitialized actor "${this.id}". Make sure .start() is called for this actor, or set { deferEvents: true } in the actor options.
Event: ${JSON.stringify(e)}`);this.mailbox.enqueue(e)}}delaySend({event:e,id:t,delay:r,to:l}){const s=this.clock.setTimeout(()=>{l?l.send(e):this.send(e)},r);t&&(this.delayedEventsMap[t]=s)}cancel(e){this.clock.clearTimeout(this.delayedEventsMap[e]),delete this.delayedEventsMap[e]}attachDevTools(){const{devTools:e}=this.options;e&&(typeof e=="function"?e:zo)(this)}toJSON(){return{id:this.id}}getPersistedState(){var e,t;return(t=(e=this.logic).getPersistedState)==null?void 0:t.call(e,this._state)}[na](){return this}getSnapshot(){return this.logic.getSnapshot?this.logic.getSnapshot(this._state):this._state}}function gn(n,e){return new fa(n,e)}function ua(n,e,t,{id:r,systemId:l,src:s,input:i}){const c=r1(e.machine.implementations.actors[s]);let a;if(c){const f=i||c.input;a=gn(c.src,{id:r,src:s,parent:n==null?void 0:n.self,systemId:l,input:typeof f=="function"?f({context:e.context,event:t.event,self:n==null?void 0:n.self}):f})}return[fn(e,{children:{...e.children,[r]:a}}),{id:r,actorRef:a}]}function ha(n,{id:e,actorRef:t}){t&&n.defer(()=>{var r;if(t.status!==Be.Stopped)try{(r=t.start)==null||r.call(t)}catch(l){n.self.send(b1(e,l));return}})}function da({id:n,systemId:e,src:t,input:r}){function l(s){}return l.type="xstate.invoke",l.id=n,l.systemId=e,l.src=t,l.input=r,l.resolve=ua,l.execute=ha,l}function Nr(n){return{type:"xstate.boolean",params:{op:"not"},children:[Ln(n)],predicate:({evaluate:e,guard:t,context:r,event:l,state:s})=>!e(t.children[0],r,l,s)}}function Kn(n){return{type:"xstate.boolean",params:{op:"and"},children:n.map(e=>Ln(e)),predicate:({evaluate:e,guard:t,context:r,event:l,state:s})=>t.children.every(i=>e(i,r,l,s))}}function pr(n,e,t,r){var i,c;const{machine:l}=r,s=((c=(i=l==null?void 0:l.implementations)==null?void 0:i.guards)==null?void 0:c[n.type])??n.predicate;if(!s)throw new Error(`Guard '${n.type}' is not implemented.'.`);return s({context:e,event:t,state:r,guard:n,evaluate:pr})}function Ln(n,e){var r,l;if(typeof n=="string"){const s=e==null?void 0:e(n);return typeof s=="function"?{type:n,predicate:s,params:{type:n}}:s||{type:n,params:{type:n}}}if(typeof n=="function")return{type:n.name,predicate:n,params:{type:n.name,name:n.name}};const t=e==null?void 0:e(n.type);return typeof t=="function"?{type:n.type,params:n.params||n,children:(r=n.children)==null?void 0:r.map(s=>Ln(s,e)),predicate:(e==null?void 0:e(n.type))||n.predicate}:t||{type:n.type,params:n.params||n,children:(l=n.children)==null?void 0:l.map(s=>Ln(s,e)),predicate:n.predicate}}function va(n,e,t){const r=n[0].machine,l=n.find(s=>s.type==="final"&&s.parent===r.root);return l&&l.output?ps(l.output,e,t):void 0}const m1=n=>n.type==="atomic"||n.type==="final";function sn(n){return Object.values(n.states).filter(e=>e.type!=="history")}function _r(n,e){const t=[];let r=n.parent;for(;r&&r!==e;)t.push(r),r=r.parent;return t}function Fn(n){const e=new Set(n),t=new Set(n),r=gs(t);for(const l of e)if(l.type==="compound"&&(!r.get(l)||!r.get(l).length))Gr(l).forEach(s=>t.add(s));else if(l.type==="parallel"){for(const s of sn(l))if(s.type!=="history"&&!t.has(s))for(const i of Gr(s))t.add(i)}for(const l of t){let s=l.parent;for(;s;)t.add(s),s=s.parent}return t}function ms(n,e){const t=e.get(n);if(!t)return{};if(n.type==="compound"){const l=t[0];if(l){if(m1(l))return l.key}else return{}}const r={};for(const l of t)r[l.key]=ms(l,e);return r}function gs(n){const e=new Map;for(const t of n)e.has(t)||e.set(t,[]),t.parent&&(e.has(t.parent)||e.set(t.parent,[]),e.get(t.parent).push(t));return e}function ys(n,e){const t=Fn(e);return ms(n,gs(t))}function g1(n,e=n[0].machine.root){return e.type==="compound"?sn(e).some(t=>t.type==="final"&&n.includes(t)):e.type==="parallel"?sn(e).every(t=>g1(n,t)):!1}const yn=n=>n[0]===Jo;function pa(n,e){return n.transitions.get(e)||[...n.transitions.keys()].filter(r=>{if(r===Qo)return!0;if(!r.endsWith(".*"))return!1;const l=r.split("."),s=e.split(".");for(let i=0;i<l.length;i++){const c=l[i],a=s[i];if(c==="*")return i===l.length-1;if(c!==a)return!1}return!0}).sort((r,l)=>l.length-r.length).flatMap(r=>n.transitions.get(r))}function _a(n){const e=n.config.after;if(!e)return[];const t=(l,s)=>{const i=typeof l=="function"?`${n.id}:delay[${s}]`:l,c=Ba(i,n.id);return n.entry.push(Ra({type:c},{id:c,delay:l})),n.exit.push(ta(c)),c};return(Zn(e)?e.map((l,s)=>{const i=t(l.delay,s);return{...l,event:i}}):Object.keys(e).flatMap((l,s)=>{const i=e[l],c=typeof i=="string"?{target:i}:i,a=isNaN(+l)?l:+l,f=t(a,s);return At(c).map(v=>({...v,event:f,delay:a}))})).map(l=>{const{delay:s}=l;return{...Rt(n,l.event,l),delay:s}})}function Rt(n,e,t){const r=_s(t.target),l=t.reenter??!1,{guards:s}=n.machine.implementations,i=bs(n,r),c={...t,actions:At(t.actions),guard:t.guard?Ln(t.guard,a=>s[a]):void 0,target:i,source:n,reenter:l,eventType:e,toJSON:()=>({...c,source:`#${n.id}`,target:i?i.map(a=>`#${a.id}`):void 0})};return c}function ma(n){const e=new Map;if(n.config.on)for(const t of Object.keys(n.config.on)){if(t===fs)throw new Error('Null events ("") cannot be specified as a transition key. Use `always: { ... }` instead.');const r=n.config.on[t];e.set(t,vn(r).map(l=>Rt(n,t,l)))}if(n.config.onDone){const t=String(X1(n.id));e.set(t,vn(n.config.onDone).map(r=>Rt(n,t,r)))}for(const t of n.invoke){if(t.onDone){const r=`done.invoke.${t.id}`;e.set(r,vn(t.onDone).map(l=>Rt(n,r,l)))}if(t.onError){const r=`error.platform.${t.id}`;e.set(r,vn(t.onError).map(l=>Rt(n,r,l)))}if(t.onSnapshot){const r=`xstate.snapshot.${t.id}`;e.set(r,vn(t.onSnapshot).map(l=>Rt(n,r,l)))}}for(const t of n.after){let r=e.get(t.eventType);r||(r=[],e.set(t.eventType,r)),r.push(t)}return e}function ga(n,e){if(typeof e=="string"||Zn(e)){const t=At(e).map(s=>{const i=typeof s=="string"?yn(s)?n.machine.getStateNodeById(s):n.states[s]:s;if(!i)throw new Error(`Initial state node "${s}" not found on parent state node #${n.id}`);if(!cn(i,n))throw new Error(`Invalid initial target: state node #${i.id} is not a descendant of #${n.id}`);return i}),r=bs(n,t),l={source:n,actions:[],eventType:null,reenter:!1,target:r,toJSON:()=>({...l,source:`#${n.id}`,target:r?r.map(s=>`#${s.id}`):void 0})};return l}return Rt(n,"__INITIAL__",{target:At(e.target).map(t=>typeof t=="string"?yn(t)?t:`${An}${t}`:t),actions:e.actions})}function bs(n,e){if(e!==void 0)return e.map(t=>{if(typeof t!="string")return t;if(yn(t))return n.machine.getStateNodeById(t);const r=t[0]===An;if(r&&!n.parent)return i1(n,t.slice(1));const l=r?n.key+t:t;if(n.parent)try{return i1(n.parent,l)}catch(s){throw new Error(`Invalid transition definition for state node '${n.id}':
${s.message}`)}else throw new Error(`Invalid target: "${t}" is not a valid target from the root node. Did you mean ".${t}"?`)})}function ws(n){const e=_s(n.target);return e?e.map(t=>typeof t=="string"?i1(n.parent,t):t):n.parent.initial.target}function l1(n){return n.type==="history"}function Gr(n){const e=new Set;function t(r){if(!e.has(r)){if(e.add(r),r.type==="compound")for(const l of r.initial.target){for(const s of _r(l,n))e.add(s);t(l)}else if(r.type==="parallel")for(const l of sn(r))t(l)}}return t(n),[...e]}function bn(n,e){if(yn(e))return n.machine.getStateNodeById(e);if(!n.states)throw new Error(`Unable to retrieve child state '${e}' from '${n.id}'; no child states exist.`);const t=n.states[e];if(!t)throw new Error(`Child state '${e}' does not exist on '${n.id}'`);return t}function i1(n,e){if(typeof e=="string"&&yn(e))try{return n.machine.getStateNodeById(e)}catch{}const t=ds(e).slice();let r=n;for(;t.length;){const l=t.shift();if(!l.length)break;r=bn(r,l)}return r}function Rn(n,e){const t=e instanceof ot?e.value:U1(e);if(typeof t=="string")return[n,n.states[t]];const r=Object.keys(t),l=r.map(s=>bn(n,s)).filter(Boolean);return[n.machine.root,n].concat(l,r.reduce((s,i)=>{const c=bn(n,i);if(!c)return s;const a=Rn(c,t[i]);return s.concat(a)},[]))}function ya(n,e,t,r){const s=bn(n,e).next(t,r);return!s||!s.length?n.next(t,r):s}function ba(n,e,t,r){const l=Object.keys(e),s=bn(n,l[0]),i=mr(s,e[l[0]],t,r);return!i||!i.length?n.next(t,r):i}function wa(n,e,t,r){const l=[];for(const s of Object.keys(e)){const i=e[s];if(!i)continue;const c=bn(n,s),a=mr(c,i,t,r);a&&l.push(...a)}return l.length?l:n.next(t,r)}function mr(n,e,t,r){return typeof e=="string"?ya(n,e,t,r):Object.keys(e).length===1?ba(n,e,t,r):wa(n,e,t,r)}function ka(n){return Object.keys(n.states).map(e=>n.states[e]).filter(e=>e.type==="history")}function cn(n,e){let t=n;for(;t.parent&&t.parent!==e;)t=t.parent;return t.parent===e}function qr(n){const e=[];let t=n.parent;for(;t;)e.unshift(t),t=t.parent;return e}function Aa(n,e){const t=new Set(n),r=new Set(e);for(const l of t)if(r.has(l))return!0;for(const l of r)if(t.has(l))return!0;return!1}function ks(n,e,t){const r=new Set;for(const l of n){let s=!1;const i=new Set;for(const c of r)if(Aa(x1([l],e,t),x1([c],e,t)))if(cn(l.source,c.source))i.add(c);else{s=!0;break}if(!s){for(const c of i)r.delete(c);r.add(l)}}return Array.from(r)}function $a(n){const[e]=n;let t=qr(e),r=[];for(const l of n){const s=qr(l);r=t.filter(i=>s.includes(i)),t=r,r=[]}return t[t.length-1]}function gr(n,e){if(!n.target)return[];const t=new Set;for(const r of n.target)if(l1(r))if(e[r.id])for(const l of e[r.id])t.add(l);else for(const l of gr({target:ws(r)},e))t.add(l);else t.add(r);return[...t]}function As(n,e){const t=gr(n,e);return t?!n.reenter&&n.source.type!=="parallel"&&t.every(l=>cn(l,n.source))?n.source:$a(t.concat(n.source)):null}function x1(n,e,t){var l;const r=new Set;for(const s of n)if((l=s.target)!=null&&l.length){const i=As(s,t);for(const c of e)cn(c,i)&&r.add(c)}return[...r]}function e1(n,e,t,r,l){const s=new Set(e.configuration);if(!n.length)return e;const i=Sa(n,e,s,r,t,l);return fn(i,{value:{}})}function Sa(n,e,t,r,l,s){const i=[],c={...e.historyValue},a=ks(n,t,c),f=[...e._internalQueue];s||Ta(a,t,c,i),i.push(...a.flatMap(u=>u.actions)),Ea(r,a,t,i,f,e,c,s);const v=[...t],o=g1(v);if(o){const u=v.sort((h,p)=>p.order-h.order).flatMap(h=>h.exit);i.push(...u)}try{const u=y1(i,r,e,l),h=o?va(v,u.context,r):void 0;return f.push(...u._internalQueue),fn(e,{configuration:v,historyValue:c,_internalQueue:f,context:u.context,done:o,output:h,children:u.children})}catch(u){throw u}}function Ea(n,e,t,r,l,s,i,c){const a=new Set,f=new Set;$s(e,i,f,a),c&&f.add(s.machine.root);for(const v of[...a].sort((o,u)=>o.order-u.order)){t.add(v);for(const o of v.invoke)r.push(da(o));if(r.push(...v.entry),f.has(v))for(const o of f){const u=o.initial.actions;r.push(...u)}if(v.type==="final"){const o=v.parent;if(!o.parent)continue;if(l.push(X1(o.id,v.output?ps(v.output,s.context,n):void 0)),o.parent){const u=o.parent;u.type==="parallel"&&sn(u).every(h=>g1([...t],h))&&l.push(X1(u.id))}}}}function $s(n,e,t,r){for(const l of n){for(const c of l.target||[])_n(c,e,t,r);const s=As(l,e),i=gr(l,e);for(const c of i)t1(c,s,r,e,t)}}function _n(n,e,t,r){if(l1(n))if(e[n.id]){const l=e[n.id];for(const s of l)_n(s,e,t,r);for(const s of l){t1(s,n.parent,r,e,t);for(const i of t)t.add(i)}}else{const l=ws(n);for(const s of l)_n(s,e,t,r);for(const s of l){t1(s,n,r,e,t);for(const i of t)t.add(i)}}else if(r.add(n),n.type==="compound"){t.add(n);const l=n.initial.target;for(const s of l)_n(s,e,t,r);for(const s of l)t1(s,n,r,e,t)}else if(n.type==="parallel")for(const l of sn(n).filter(s=>!l1(s)))[...r].some(s=>cn(s,l))||_n(l,e,t,r)}function t1(n,e,t,r,l){const s=_r(n,e);for(const i of s)if(t.add(i),i.type==="parallel")for(const c of sn(i).filter(a=>!l1(a)))[...t].some(a=>cn(a,c))||_n(c,r,l,t)}function Ta(n,e,t,r){const l=x1(n,e,t);l.sort((s,i)=>i.order-s.order);for(const s of l)for(const i of ka(s)){let c;i.history==="deep"?c=a=>m1(a)&&cn(a,s):c=a=>a.parent===s,t[i.id]=Array.from(e).filter(c)}for(const s of l)r.push(...s.exit,...s.invoke.map(i=>Ss(i.id))),e.delete(s)}function y1(n,e,t,r){const{machine:l}=t;let s=fn(t,{_internalQueue:[]});for(const i of n){const c=typeof i=="function"?i:l.implementations.actions[typeof i=="string"?i:i.type];if(!c)continue;const a={context:s.context,event:e,self:r==null?void 0:r.self,system:r==null?void 0:r.system,action:typeof i=="string"?{type:i}:i};if(!("resolve"in c)){(r==null?void 0:r.self.status)===Be.Running?c(a):r==null||r.defer(()=>c(a));continue}const f=c,[v,o,u]=f.resolve(r,s,a,c);s=v,"execute"in c&&((r==null?void 0:r.self.status)===Be.Running?f.execute(r,o):r==null||r.defer(f.execute.bind(null,r,o))),u&&(s=y1(u,e,s,r))}return s}function L1(n,e,t){let r=n;const l=[];if(e.type===z1)return r=Ur(e,r,t),l.push(r),{state:r,microstates:l};let s=e;if(s.type!==us){const i=Wr(s,r);r=e1(i,n,t,s,!1),l.push(r)}for(;!r.done;){let i=Ia(r,s);if(i.length)r=e1(i,r,t,s,!1),l.push(r);else if(r._internalQueue.length){s=r._internalQueue[0];const c=Wr(s,r);r=e1(c,r,t,s,!1),r._internalQueue.shift(),l.push(r)}else break}return r.done&&Ur(s,r,t),{state:r,microstates:l}}function Ur(n,e,t){const r=[];for(const l of e.configuration.sort((s,i)=>i.order-s.order))r.push(...l.exit);for(const l of Object.values(e.children))r.push(Ss(l));return y1(r,n,e,t)}function Wr(n,e){return e.machine.getTransitionData(e,n)}function Ia(n,e){const t=new Set,r=n.configuration.filter(m1);for(const l of r)e:for(const s of[l].concat(_r(l,null)))if(s.always){for(const i of s.always)if(i.guard===void 0||pr(i.guard,n.context,e,n)){t.add(i);break e}}return ks(Array.from(t),new Set(n.configuration),n.historyValue)}function zr(n,e){const t=Fn(Rn(n,e));return ys(n,[...t])}function Oa(n){const e=[],t=n.initial,r=new Set;$s([t],{},new Set([n]),r);for(const s of[...r].sort((i,c)=>i.order-c.order))e.push(s);return e}class ot{static from(e,t={},r){if(e instanceof ot)return e.context!==t?new ot({value:e.value,context:t,meta:{},configuration:[],children:{}},r):e;const l=Fn(Rn(r.root,e));return new ot({value:e,context:t,meta:void 0,configuration:Array.from(l),children:{}},r)}constructor(e,t){this.machine=t,this.tags=void 0,this.value=void 0,this.done=void 0,this.output=void 0,this.context=void 0,this.historyValue={},this._internalQueue=void 0,this.configuration=void 0,this.children=void 0,this.context=e.context,this._internalQueue=e._internalQueue??[],this.historyValue=e.historyValue||{},this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=e.configuration??Array.from(Fn(Rn(t.root,e.value))),this.children=e.children,this.value=ys(t.root,this.configuration),this.tags=new Set(W1(this.configuration.map(r=>r.tags))),this.done=e.done??!1,this.output=e.output}toStrings(e=this.value){if(typeof e=="string")return[e];const t=Object.keys(e);return t.concat(...t.map(r=>this.toStrings(e[r]).map(l=>r+An+l)))}toJSON(){const{configuration:e,tags:t,machine:r,...l}=this;return{...l,tags:Array.from(t),meta:this.meta}}matches(e){return hs(e,this.value)}hasTag(e){return this.tags.has(e)}can(e){const t=this.machine.getTransitionData(this,e);return!!(t!=null&&t.length)&&t.some(r=>r.target!==void 0||r.actions.length)}get nextEvents(){return en(this,"nextEvents",()=>[...new Set(W1([...this.configuration.map(e=>e.ownEvents)]))])}get meta(){return this.configuration.reduce((e,t)=>(t.meta!==void 0&&(e[t.id]=t.meta),e),{})}}function fn(n,e={}){return new ot({...n,...e},n.machine)}function Pa(n){var c,a;const{configuration:e,tags:t,machine:r,children:l,...s}=n,i={};for(const f in l)i[f]={state:(a=(c=l[f]).getPersistedState)==null?void 0:a.call(c),src:l[f].src};return{...s,children:i}}function Ma(n,e,t,{actorRef:r}){const l=typeof r=="function"?r(t):r,s=typeof l=="string"?e.children[l]:l;let i=e.children;return s&&(i={...i},delete i[s.id]),[fn(e,{children:i}),s]}function Ca(n,e){if(e){if(e.status!==Be.Running){n.stopChild(e);return}n.defer(()=>{n.stopChild(e)})}}function Ss(n){function e(t){}return e.type="xstate.stop",e.actorRef=n,e.resolve=Ma,e.execute=Ca,e}function Da(n,{machine:e,context:t},r,l){const s=(i,c={})=>{const{systemId:a}=c;if(typeof i=="string"){const f=r1(e.implementations.actors[i]);if(!f)throw new Error(`Actor logic '${i}' not implemented in machine '${e.id}'`);const v="input"in c?c.input:f.input,o=gn(f.src,{id:c.id,parent:n.self,input:typeof v=="function"?v({context:t,event:r,self:n.self}):v,systemId:a});return l[o.id]=o,o}else return gn(i,{id:c.id,parent:n.self,input:c.input,systemId:a})};return(i,c)=>{const a=s(i,c);return l[a.id]=a,n.defer(()=>{var f;if(a.status!==Be.Stopped)try{(f=a.start)==null||f.call(a)}catch(v){n.self.send(b1(a.id,v));return}}),a}}function ja(n,e,t,{assignment:r}){if(!e.context)throw new Error("Cannot assign to undefined `context`. Ensure that `context` is defined in the machine config.");const l={},s={context:e.context,event:t.event,action:t.action,spawn:Da(n,e,t.event,l),self:n==null?void 0:n.self,system:n==null?void 0:n.system};let i={};if(typeof r=="function")i=r(s);else for(const a of Object.keys(r)){const f=r[a];i[a]=typeof f=="function"?f(s):f}const c=Object.assign({},e.context,i);return[fn(e,{context:c,children:Object.keys(l).length?{...e.children,...l}:e.children})]}function Es(n){function e(t){}return e.type="xstate.assign",e.assignment=n,e.resolve=ja,e}function La(n,e,t,{event:r,id:l,delay:s}){const i=e.machine.implementations.delays;if(typeof r=="string")throw new Error(`Only event objects may be used with raise; use raise({ type: "${r}" }) instead`);const c=typeof r=="function"?r(t):r;let a;if(typeof s=="string"){const f=i&&i[s];a=typeof f=="function"?f(t):f}else a=typeof s=="function"?s(t):s;return[typeof a!="number"?fn(e,{_internalQueue:e._internalQueue.concat(c)}):e,{event:c,id:l,delay:a}]}function Fa(n,e){if(typeof e.delay=="number"){n.self.delaySend(e);return}}function Ra(n,e){function t(r){}return t.type="xstate.raise",t.event=n,t.id=e==null?void 0:e.id,t.delay=e==null?void 0:e.delay,t.resolve=La,t.execute=Fa,t}function Ba(n,e){const t=e?`#${e}`:"";return`${St.After}(${n})${t}`}function X1(n,e){const t=`${St.DoneState}.${n}`,r={type:t,output:e};return r.toString=()=>t,r}function Ha(n,e){const t=`${St.DoneInvoke}.${n}`,r={type:t,output:e};return r.toString=()=>t,r}function b1(n,e){const t=`${St.ErrorPlatform}.${n}`,r={type:t,data:e};return r.toString=()=>t,r}function Va(n){return{type:us,input:n}}const Za={},Mn=n=>typeof n=="string"?{type:n}:typeof n=="function"?"resolve"in n?{type:n.type}:{type:n.name}:n;class yr{constructor(e,t){if(this.config=e,this.key=void 0,this.id=void 0,this.type=void 0,this.path=void 0,this.states=void 0,this.history=void 0,this.entry=void 0,this.exit=void 0,this.parent=void 0,this.machine=void 0,this.meta=void 0,this.output=void 0,this.order=-1,this.description=void 0,this.tags=[],this.transitions=void 0,this.always=void 0,this.parent=t._parent,this.key=t._key,this.machine=t._machine,this.path=this.parent?this.parent.path.concat(this.key):[],this.id=this.config.id||[this.machine.id,...this.path].join(An),this.type=this.config.type||(this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.description=this.config.description,this.order=this.machine.idMap.size,this.machine.idMap.set(this.id,this),this.states=this.config.states?Zr(this.config.states,(r,l)=>new yr(r,{_parent:this,_key:l,_machine:this.machine})):Za,this.type==="compound"&&!this.config.initial)throw new Error(`No initial state specified for compound state node "#${this.id}". Try adding { initial: "${Object.keys(this.states)[0]}" } to the state config.`);this.history=this.config.history===!0?"shallow":this.config.history||!1,this.entry=At(this.config.entry),this.exit=At(this.config.exit),this.meta=this.config.meta,this.output=this.type==="final"?this.config.output:void 0,this.tags=At(e.tags)}_initialize(){this.transitions=ma(this),this.config.always&&(this.always=vn(this.config.always).map(e=>Rt(this,fs,e))),Object.keys(this.states).forEach(e=>{this.states[e]._initialize()})}get definition(){return{id:this.id,key:this.key,version:this.machine.version,type:this.type,initial:this.initial?{target:this.initial.target,source:this,actions:this.initial.actions.map(Mn),eventType:null,reenter:!1,toJSON:()=>({target:this.initial.target.map(e=>`#${e.id}`),source:`#${this.id}`,actions:this.initial.actions.map(Mn),eventType:null})}:void 0,history:this.history,states:Zr(this.states,e=>e.definition),on:this.on,transitions:[...this.transitions.values()].flat().map(e=>({...e,actions:e.actions.map(Mn)})),entry:this.entry.map(Mn),exit:this.exit.map(Mn),meta:this.meta,order:this.order||-1,output:this.output,invoke:this.invoke,description:this.description,tags:this.tags}}toJSON(){return this.definition}get invoke(){return en(this,"invoke",()=>At(this.config.invoke).map((e,t)=>{const r=oa(this.id,t),l=ia(e,r),s=l.id||r,i=l.src,{systemId:c}=l,a=typeof i=="string"||"type"in i?i:s;return!this.machine.implementations.actors[s]&&typeof i!="string"&&!("type"in i)&&(this.machine.implementations.actors={...this.machine.implementations.actors,[s]:i}),{type:"xstate.invoke",...l,src:a,id:s,systemId:c,toJSON(){const{onDone:f,onError:v,...o}=l;return{...o,type:"xstate.invoke",src:a,id:s}}}}))}get on(){return en(this,"on",()=>[...this.transitions].flatMap(([t,r])=>r.map(l=>[t,l])).reduce((t,[r,l])=>(t[r]=t[r]||[],t[r].push(l),t),{}))}get after(){return en(this,"delayedTransitions",()=>_a(this))}get initial(){return en(this,"initial",()=>ga(this,this.config.initial||[]))}next(e,t){const r=t.type,l=[];let s;const i=en(this,`candidates-${r}`,()=>pa(this,r));for(const c of i){const{guard:a}=c,f=e.context;let v=!1;try{v=!a||pr(a,f,t,e)}catch(o){throw new Error(`Unable to evaluate guard '${a.type}' in transition for event '${r}' in state node '${this.id}':
${o.message}`)}if(v){l.push(...c.actions),s=c;break}}return s?[s]:void 0}get target(){if(this.type==="history")return this.config.target}get stateIds(){const e=W1(Object.keys(this.states).map(t=>this.states[t].stateIds));return[this.id].concat(e)}get events(){return en(this,"events",()=>{const{states:e}=this,t=new Set(this.ownEvents);if(e)for(const r of Object.keys(e)){const l=e[r];if(l.states)for(const s of l.events)t.add(`${s}`)}return Array.from(t)})}get ownEvents(){const e=new Set([...this.transitions.keys()].filter(t=>this.transitions.get(t).some(r=>!(!r.target&&!r.actions.length&&!r.reenter))));return Array.from(e)}}const Na="#";class br{constructor(e,t){this.config=e,this.version=void 0,this.implementations=void 0,this.types=void 0,this.__xstatenode=!0,this.idMap=new Map,this.root=void 0,this.id=void 0,this.states=void 0,this.events=void 0,this.__TContext=void 0,this.__TEvent=void 0,this.__TAction=void 0,this.__TActorMap=void 0,this.__TResolvedTypesMeta=void 0,this.id=e.id||"(machine)",this.implementations={actors:(t==null?void 0:t.actors)??{},actions:(t==null?void 0:t.actions)??{},delays:(t==null?void 0:t.delays)??{},guards:(t==null?void 0:t.guards)??{}},this.version=this.config.version,this.types=this.config.types??{},this.transition=this.transition.bind(this),this.root=new yr(e,{_key:this.id,_machine:this}),this.root._initialize(),this.states=this.root.states,this.events=this.root.events}provide(e){const{actions:t,guards:r,actors:l,delays:s}=this.implementations;return new br(this.config,{actions:{...t,...e.actions},guards:{...r,...e.guards},actors:{...l,...e.actors},delays:{...s,...e.delays}})}resolveState(e){const t=Fn(Rn(this.root,e.value)),r=Array.from(t);return this.createState({...e,value:zr(this.root,e.value),configuration:r,done:g1(r)})}resolveStateValue(e,...[t]){const r=zr(this.root,e);return this.resolveState(ot.from(r,t,this))}transition(e,t,r){if(la(t)&&!e.nextEvents.some(s=>s===t.type))throw t.data;const{state:l}=L1(e,t,r);return l}microstep(e,t,r){return L1(e,t,r).microstates}getTransitionData(e,t){return mr(this.root,e.value,e,t)||[]}getPreInitialState(e,t){const{context:r}=this.config,l=this.resolveState(this.createState({value:{},context:typeof r!="function"&&r?r:{},meta:void 0,configuration:Oa(this.root),children:{}}));return typeof r=="function"?y1([Es(({spawn:i,event:c})=>r({spawn:i,input:c.input}))],t,l,e):l}getInitialState(e,t){const r=Va(t),l=this.getPreInitialState(e,r),s=e1([{target:[...l.configuration].filter(m1),source:this.root,reenter:!0,actions:[],eventType:null,toJSON:null}],l,e,r,!0),{state:i}=L1(s,r,e);return i}start(e,t){Object.values(e.children).forEach(r=>{var l;if(r.status===0)try{(l=r.start)==null||l.call(r)}catch(s){t.self.send(b1(r.id,s))}})}getStateNodeById(e){const t=e.split(An),r=t.slice(1),l=yn(t[0])?t[0].slice(Na.length):t[0],s=this.idMap.get(l);if(!s)throw new Error(`Child state node '#${l}' does not exist on machine '${this.id}'`);return i1(s,r)}get definition(){return this.root.definition}toJSON(){return this.definition}getPersistedState(e){return Pa(e)}createState(e){return e instanceof ot?e:new ot(e,this)}getStatus(e){return e.done?{status:"done",data:e.output}:{status:"active"}}restoreState(e,t){const r={};Object.keys(e.children).forEach(s=>{var u,h;const i=e.children[s],c=i.state,a=i.src,f=a?(u=r1(this.implementations.actors[a]))==null?void 0:u.src:void 0;if(!f)return;const v=(h=f.restoreState)==null?void 0:h.call(f,c,t),o=gn(f,{id:s,state:v});r[s]=o});const l=this.createState(new ot({...e,children:r},this));return l.configuration.forEach(s=>{s.invoke&&s.invoke.forEach(i=>{const{id:c,src:a}=i;if(r[c])return;const f=r1(this.implementations.actors[a]);if(f){const v=gn(f.src,{id:c,parent:t==null?void 0:t.self,input:"input"in i?i.input:f.input});r[c]=v}})}),l}}function Ga(n,e){return new br(n,e)}function qa(n,...[e={}]){const{guards:t,actions:r,actors:l,delays:s,...i}=e,c={guards:t,actions:r,actors:l,delays:s},a=n.provide(c),f=gn(a,i).start();sr(()=>f.stop());let v=f.getSnapshot();return{state:ss(v,u=>f.subscribe(h=>{v!==h&&(v=h,u(v))}).unsubscribe),send:f.send,service:f}}function Ua(n,e){return n===e}const ue=(n,e,t=Ua)=>{let r,l=e(n.getSnapshot());return ss(l,i=>{const c=a=>{const f=e(a);t(l,f)||(l=f,i(f))};return c(n.getSnapshot()),r=n.subscribe(c),()=>{r.unsubscribe()}})},Ts={},Wa=n=>{Mo(Ts,n)},Ve=()=>Co(Ts),w1=n=>n!=="attacker",za=n=>n==="attacker",xa=(n,e)=>e==="attack"?za(n):w1(n),K1=(n,e)=>(n==null?void 0:n.type)===e,Is=(n,e)=>(n==null?void 0:n.type)==="action"&&n.action===e,Jn=n=>e=>K1(e,n),F1=n=>e=>Is(e,n);var kt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Os(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Xa(){this.__data__=[],this.size=0}var Ka=Xa;function Ja(n,e){return n===e||n!==n&&e!==e}var Ps=Ja,Qa=Ps;function Ya(n,e){for(var t=n.length;t--;)if(Qa(n[t][0],e))return t;return-1}var k1=Ya,ec=k1,tc=Array.prototype,nc=tc.splice;function rc(n){var e=this.__data__,t=ec(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():nc.call(e,t,1),--this.size,!0}var lc=rc,ic=k1;function sc(n){var e=this.__data__,t=ic(e,n);return t<0?void 0:e[t][1]}var oc=sc,ac=k1;function cc(n){return ac(this.__data__,n)>-1}var fc=cc,uc=k1;function hc(n,e){var t=this.__data__,r=uc(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}var dc=hc,vc=Ka,pc=lc,_c=oc,mc=fc,gc=dc;function $n(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}$n.prototype.clear=vc;$n.prototype.delete=pc;$n.prototype.get=_c;$n.prototype.has=mc;$n.prototype.set=gc;var A1=$n,yc=A1;function bc(){this.__data__=new yc,this.size=0}var wc=bc;function kc(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}var Ac=kc;function $c(n){return this.__data__.get(n)}var Sc=$c;function Ec(n){return this.__data__.has(n)}var Tc=Ec,Ic=typeof kt=="object"&&kt&&kt.Object===Object&&kt,Ms=Ic,Oc=Ms,Pc=typeof self=="object"&&self&&self.Object===Object&&self,Mc=Oc||Pc||Function("return this")(),ht=Mc,Cc=ht,Dc=Cc.Symbol,wr=Dc,xr=wr,Cs=Object.prototype,jc=Cs.hasOwnProperty,Lc=Cs.toString,Cn=xr?xr.toStringTag:void 0;function Fc(n){var e=jc.call(n,Cn),t=n[Cn];try{n[Cn]=void 0;var r=!0}catch{}var l=Lc.call(n);return r&&(e?n[Cn]=t:delete n[Cn]),l}var Rc=Fc,Bc=Object.prototype,Hc=Bc.toString;function Vc(n){return Hc.call(n)}var Zc=Vc,Xr=wr,Nc=Rc,Gc=Zc,qc="[object Null]",Uc="[object Undefined]",Kr=Xr?Xr.toStringTag:void 0;function Wc(n){return n==null?n===void 0?Uc:qc:Kr&&Kr in Object(n)?Nc(n):Gc(n)}var Nn=Wc;function zc(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var Gn=zc,xc=Nn,Xc=Gn,Kc="[object AsyncFunction]",Jc="[object Function]",Qc="[object GeneratorFunction]",Yc="[object Proxy]";function ef(n){if(!Xc(n))return!1;var e=xc(n);return e==Jc||e==Qc||e==Kc||e==Yc}var Ds=ef,tf=ht,nf=tf["__core-js_shared__"],rf=nf,R1=rf,Jr=function(){var n=/[^.]+$/.exec(R1&&R1.keys&&R1.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function lf(n){return!!Jr&&Jr in n}var sf=lf,of=Function.prototype,af=of.toString;function cf(n){if(n!=null){try{return af.call(n)}catch{}try{return n+""}catch{}}return""}var js=cf,ff=Ds,uf=sf,hf=Gn,df=js,vf=/[\\^$.*+?()[\]{}|]/g,pf=/^\[object .+?Constructor\]$/,_f=Function.prototype,mf=Object.prototype,gf=_f.toString,yf=mf.hasOwnProperty,bf=RegExp("^"+gf.call(yf).replace(vf,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function wf(n){if(!hf(n)||uf(n))return!1;var e=ff(n)?bf:pf;return e.test(df(n))}var kf=wf;function Af(n,e){return n==null?void 0:n[e]}var $f=Af,Sf=kf,Ef=$f;function Tf(n,e){var t=Ef(n,e);return Sf(t)?t:void 0}var Sn=Tf,If=Sn,Of=ht,Pf=If(Of,"Map"),kr=Pf,Mf=Sn,Cf=Mf(Object,"create"),$1=Cf,Qr=$1;function Df(){this.__data__=Qr?Qr(null):{},this.size=0}var jf=Df;function Lf(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var Ff=Lf,Rf=$1,Bf="__lodash_hash_undefined__",Hf=Object.prototype,Vf=Hf.hasOwnProperty;function Zf(n){var e=this.__data__;if(Rf){var t=e[n];return t===Bf?void 0:t}return Vf.call(e,n)?e[n]:void 0}var Nf=Zf,Gf=$1,qf=Object.prototype,Uf=qf.hasOwnProperty;function Wf(n){var e=this.__data__;return Gf?e[n]!==void 0:Uf.call(e,n)}var zf=Wf,xf=$1,Xf="__lodash_hash_undefined__";function Kf(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=xf&&e===void 0?Xf:e,this}var Jf=Kf,Qf=jf,Yf=Ff,eu=Nf,tu=zf,nu=Jf;function En(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}En.prototype.clear=Qf;En.prototype.delete=Yf;En.prototype.get=eu;En.prototype.has=tu;En.prototype.set=nu;var ru=En,Yr=ru,lu=A1,iu=kr;function su(){this.size=0,this.__data__={hash:new Yr,map:new(iu||lu),string:new Yr}}var ou=su;function au(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}var cu=au,fu=cu;function uu(n,e){var t=n.__data__;return fu(e)?t[typeof e=="string"?"string":"hash"]:t.map}var S1=uu,hu=S1;function du(n){var e=hu(this,n).delete(n);return this.size-=e?1:0,e}var vu=du,pu=S1;function _u(n){return pu(this,n).get(n)}var mu=_u,gu=S1;function yu(n){return gu(this,n).has(n)}var bu=yu,wu=S1;function ku(n,e){var t=wu(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}var Au=ku,$u=ou,Su=vu,Eu=mu,Tu=bu,Iu=Au;function Tn(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Tn.prototype.clear=$u;Tn.prototype.delete=Su;Tn.prototype.get=Eu;Tn.prototype.has=Tu;Tn.prototype.set=Iu;var Ls=Tn,Ou=A1,Pu=kr,Mu=Ls,Cu=200;function Du(n,e){var t=this.__data__;if(t instanceof Ou){var r=t.__data__;if(!Pu||r.length<Cu-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new Mu(r)}return t.set(n,e),this.size=t.size,this}var ju=Du,Lu=A1,Fu=wc,Ru=Ac,Bu=Sc,Hu=Tc,Vu=ju;function In(n){var e=this.__data__=new Lu(n);this.size=e.size}In.prototype.clear=Fu;In.prototype.delete=Ru;In.prototype.get=Bu;In.prototype.has=Hu;In.prototype.set=Vu;var Zu=In,Nu="__lodash_hash_undefined__";function Gu(n){return this.__data__.set(n,Nu),this}var qu=Gu;function Uu(n){return this.__data__.has(n)}var Wu=Uu,zu=Ls,xu=qu,Xu=Wu;function s1(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new zu;++e<t;)this.add(n[e])}s1.prototype.add=s1.prototype.push=xu;s1.prototype.has=Xu;var Ku=s1;function Ju(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}var Qu=Ju;function Yu(n,e){return n.has(e)}var e2=Yu,t2=Ku,n2=Qu,r2=e2,l2=1,i2=2;function s2(n,e,t,r,l,s){var i=t&l2,c=n.length,a=e.length;if(c!=a&&!(i&&a>c))return!1;var f=s.get(n),v=s.get(e);if(f&&v)return f==e&&v==n;var o=-1,u=!0,h=t&i2?new t2:void 0;for(s.set(n,e),s.set(e,n);++o<c;){var p=n[o],d=e[o];if(r)var y=i?r(d,p,o,e,n,s):r(p,d,o,n,e,s);if(y!==void 0){if(y)continue;u=!1;break}if(h){if(!n2(e,function(_,b){if(!r2(h,b)&&(p===_||l(p,_,t,r,s)))return h.push(b)})){u=!1;break}}else if(!(p===d||l(p,d,t,r,s))){u=!1;break}}return s.delete(n),s.delete(e),u}var Fs=s2,o2=ht,a2=o2.Uint8Array,c2=a2;function f2(n){var e=-1,t=Array(n.size);return n.forEach(function(r,l){t[++e]=[l,r]}),t}var u2=f2;function h2(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var d2=h2,el=wr,tl=c2,v2=Ps,p2=Fs,_2=u2,m2=d2,g2=1,y2=2,b2="[object Boolean]",w2="[object Date]",k2="[object Error]",A2="[object Map]",$2="[object Number]",S2="[object RegExp]",E2="[object Set]",T2="[object String]",I2="[object Symbol]",O2="[object ArrayBuffer]",P2="[object DataView]",nl=el?el.prototype:void 0,B1=nl?nl.valueOf:void 0;function M2(n,e,t,r,l,s,i){switch(t){case P2:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case O2:return!(n.byteLength!=e.byteLength||!s(new tl(n),new tl(e)));case b2:case w2:case $2:return v2(+n,+e);case k2:return n.name==e.name&&n.message==e.message;case S2:case T2:return n==e+"";case A2:var c=_2;case E2:var a=r&g2;if(c||(c=m2),n.size!=e.size&&!a)return!1;var f=i.get(n);if(f)return f==e;r|=y2,i.set(n,e);var v=p2(c(n),c(e),r,l,s,i);return i.delete(n),v;case I2:if(B1)return B1.call(n)==B1.call(e)}return!1}var C2=M2;function D2(n,e){for(var t=-1,r=e.length,l=n.length;++t<r;)n[l+t]=e[t];return n}var j2=D2,L2=Array.isArray,Ar=L2,F2=j2,R2=Ar;function B2(n,e,t){var r=e(n);return R2(n)?r:F2(r,t(n))}var H2=B2;function V2(n,e){for(var t=-1,r=n==null?0:n.length,l=0,s=[];++t<r;){var i=n[t];e(i,t,n)&&(s[l++]=i)}return s}var Z2=V2;function N2(){return[]}var G2=N2,q2=Z2,U2=G2,W2=Object.prototype,z2=W2.propertyIsEnumerable,rl=Object.getOwnPropertySymbols,x2=rl?function(n){return n==null?[]:(n=Object(n),q2(rl(n),function(e){return z2.call(n,e)}))}:U2,X2=x2;function K2(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var J2=K2;function Q2(n){return n!=null&&typeof n=="object"}var qn=Q2,Y2=Nn,eh=qn,th="[object Arguments]";function nh(n){return eh(n)&&Y2(n)==th}var rh=nh,ll=rh,lh=qn,Rs=Object.prototype,ih=Rs.hasOwnProperty,sh=Rs.propertyIsEnumerable,oh=ll(function(){return arguments}())?ll:function(n){return lh(n)&&ih.call(n,"callee")&&!sh.call(n,"callee")},ah=oh,o1={exports:{}};function ch(){return!1}var fh=ch;o1.exports;(function(n,e){var t=ht,r=fh,l=e&&!e.nodeType&&e,s=l&&!0&&n&&!n.nodeType&&n,i=s&&s.exports===l,c=i?t.Buffer:void 0,a=c?c.isBuffer:void 0,f=a||r;n.exports=f})(o1,o1.exports);var Bs=o1.exports,uh=9007199254740991,hh=/^(?:0|[1-9]\d*)$/;function dh(n,e){var t=typeof n;return e=e??uh,!!e&&(t=="number"||t!="symbol"&&hh.test(n))&&n>-1&&n%1==0&&n<e}var vh=dh,ph=9007199254740991;function _h(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=ph}var Hs=_h,mh=Nn,gh=Hs,yh=qn,bh="[object Arguments]",wh="[object Array]",kh="[object Boolean]",Ah="[object Date]",$h="[object Error]",Sh="[object Function]",Eh="[object Map]",Th="[object Number]",Ih="[object Object]",Oh="[object RegExp]",Ph="[object Set]",Mh="[object String]",Ch="[object WeakMap]",Dh="[object ArrayBuffer]",jh="[object DataView]",Lh="[object Float32Array]",Fh="[object Float64Array]",Rh="[object Int8Array]",Bh="[object Int16Array]",Hh="[object Int32Array]",Vh="[object Uint8Array]",Zh="[object Uint8ClampedArray]",Nh="[object Uint16Array]",Gh="[object Uint32Array]",Se={};Se[Lh]=Se[Fh]=Se[Rh]=Se[Bh]=Se[Hh]=Se[Vh]=Se[Zh]=Se[Nh]=Se[Gh]=!0;Se[bh]=Se[wh]=Se[Dh]=Se[kh]=Se[jh]=Se[Ah]=Se[$h]=Se[Sh]=Se[Eh]=Se[Th]=Se[Ih]=Se[Oh]=Se[Ph]=Se[Mh]=Se[Ch]=!1;function qh(n){return yh(n)&&gh(n.length)&&!!Se[mh(n)]}var Uh=qh;function Wh(n){return function(e){return n(e)}}var zh=Wh,a1={exports:{}};a1.exports;(function(n,e){var t=Ms,r=e&&!e.nodeType&&e,l=r&&!0&&n&&!n.nodeType&&n,s=l&&l.exports===r,i=s&&t.process,c=function(){try{var a=l&&l.require&&l.require("util").types;return a||i&&i.binding&&i.binding("util")}catch{}}();n.exports=c})(a1,a1.exports);var xh=a1.exports,Xh=Uh,Kh=zh,il=xh,sl=il&&il.isTypedArray,Jh=sl?Kh(sl):Xh,Vs=Jh,Qh=J2,Yh=ah,ed=Ar,td=Bs,nd=vh,rd=Vs,ld=Object.prototype,id=ld.hasOwnProperty;function sd(n,e){var t=ed(n),r=!t&&Yh(n),l=!t&&!r&&td(n),s=!t&&!r&&!l&&rd(n),i=t||r||l||s,c=i?Qh(n.length,String):[],a=c.length;for(var f in n)(e||id.call(n,f))&&!(i&&(f=="length"||l&&(f=="offset"||f=="parent")||s&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||nd(f,a)))&&c.push(f);return c}var od=sd,ad=Object.prototype;function cd(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||ad;return n===t}var fd=cd;function ud(n,e){return function(t){return n(e(t))}}var hd=ud,dd=hd,vd=dd(Object.keys,Object),pd=vd,_d=fd,md=pd,gd=Object.prototype,yd=gd.hasOwnProperty;function bd(n){if(!_d(n))return md(n);var e=[];for(var t in Object(n))yd.call(n,t)&&t!="constructor"&&e.push(t);return e}var wd=bd,kd=Ds,Ad=Hs;function $d(n){return n!=null&&Ad(n.length)&&!kd(n)}var Sd=$d,Ed=od,Td=wd,Id=Sd;function Od(n){return Id(n)?Ed(n):Td(n)}var Pd=Od,Md=H2,Cd=X2,Dd=Pd;function jd(n){return Md(n,Dd,Cd)}var Ld=jd,ol=Ld,Fd=1,Rd=Object.prototype,Bd=Rd.hasOwnProperty;function Hd(n,e,t,r,l,s){var i=t&Fd,c=ol(n),a=c.length,f=ol(e),v=f.length;if(a!=v&&!i)return!1;for(var o=a;o--;){var u=c[o];if(!(i?u in e:Bd.call(e,u)))return!1}var h=s.get(n),p=s.get(e);if(h&&p)return h==e&&p==n;var d=!0;s.set(n,e),s.set(e,n);for(var y=i;++o<a;){u=c[o];var _=n[u],b=e[u];if(r)var T=i?r(b,_,u,e,n,s):r(_,b,u,n,e,s);if(!(T===void 0?_===b||l(_,b,t,r,s):T)){d=!1;break}y||(y=u=="constructor")}if(d&&!y){var M=n.constructor,I=e.constructor;M!=I&&"constructor"in n&&"constructor"in e&&!(typeof M=="function"&&M instanceof M&&typeof I=="function"&&I instanceof I)&&(d=!1)}return s.delete(n),s.delete(e),d}var Vd=Hd,Zd=Sn,Nd=ht,Gd=Zd(Nd,"DataView"),qd=Gd,Ud=Sn,Wd=ht,zd=Ud(Wd,"Promise"),xd=zd,Xd=Sn,Kd=ht,Jd=Xd(Kd,"Set"),Qd=Jd,Yd=Sn,e3=ht,t3=Yd(e3,"WeakMap"),n3=t3,J1=qd,Q1=kr,Y1=xd,er=Qd,tr=n3,Zs=Nn,On=js,al="[object Map]",r3="[object Object]",cl="[object Promise]",fl="[object Set]",ul="[object WeakMap]",hl="[object DataView]",l3=On(J1),i3=On(Q1),s3=On(Y1),o3=On(er),a3=On(tr),tn=Zs;(J1&&tn(new J1(new ArrayBuffer(1)))!=hl||Q1&&tn(new Q1)!=al||Y1&&tn(Y1.resolve())!=cl||er&&tn(new er)!=fl||tr&&tn(new tr)!=ul)&&(tn=function(n){var e=Zs(n),t=e==r3?n.constructor:void 0,r=t?On(t):"";if(r)switch(r){case l3:return hl;case i3:return al;case s3:return cl;case o3:return fl;case a3:return ul}return e});var c3=tn,H1=Zu,f3=Fs,u3=C2,h3=Vd,dl=c3,vl=Ar,pl=Bs,d3=Vs,v3=1,_l="[object Arguments]",ml="[object Array]",Qn="[object Object]",p3=Object.prototype,gl=p3.hasOwnProperty;function _3(n,e,t,r,l,s){var i=vl(n),c=vl(e),a=i?ml:dl(n),f=c?ml:dl(e);a=a==_l?Qn:a,f=f==_l?Qn:f;var v=a==Qn,o=f==Qn,u=a==f;if(u&&pl(n)){if(!pl(e))return!1;i=!0,v=!1}if(u&&!v)return s||(s=new H1),i||d3(n)?f3(n,e,t,r,l,s):u3(n,e,a,t,r,l,s);if(!(t&v3)){var h=v&&gl.call(n,"__wrapped__"),p=o&&gl.call(e,"__wrapped__");if(h||p){var d=h?n.value():n,y=p?e.value():e;return s||(s=new H1),l(d,y,t,r,s)}}return u?(s||(s=new H1),h3(n,e,t,r,l,s)):!1}var m3=_3,g3=m3,yl=qn;function Ns(n,e,t,r,l){return n===e?!0:n==null||e==null||!yl(n)&&!yl(e)?n!==n&&e!==e:g3(n,e,t,r,Ns,l)}var y3=Ns,b3=y3;function w3(n,e){return b3(n,e)}var k3=w3;const He=Os(k3),Gs=(n,e)=>{if(w1(n)){const t=e.defense.defenders.find(r=>r.id===n);if(!t)throw new Error(`Player ${n} not found in context`);return t}else return e.attack.attacker},nr=n=>w1(n)?"defense":"attack",qs=(n,e)=>{const t=e.users.find(r=>r.id===n);if(!t)throw new Error(`The user with id ${n} was not found.`);return t},p1=class p1{constructor(e){Xe(this,"playersInOrder");Xe(this,"eventsPerRound");Xe(this,"finalizedEvents");Xe(this,"currentRound");Xe(this,"activePlayer");Xe(this,"activeSide");Xe(this,"activePlayerPosition");Xe(this,"lastEvent");Xe(this,"lastFinalizedEvent");Xe(this,"nextEventType");this.context=e,this.playersInOrder=[e.attack.attacker,e.defense.defenders[0],e.defense.defenders[1],e.attack.attacker,e.defense.defenders[2],e.defense.defenders[3]],this.eventsPerRound=this.playersInOrder.length*2,this.finalizedEvents=this.context.events.filter(l=>l.finalized);const t=this.finalizedEvents.filter(Jn("placement")),r=this.finalizedEvents.filter(l=>K1(l,"move")||K1(l,"action"));this.lastEvent=e.events[e.events.length-1],this.lastFinalizedEvent=this.finalizedEvents[this.finalizedEvents.length-1],this.nextEventType=t.length<5?"placement":this.lastFinalizedEvent&&this.lastFinalizedEvent.type==="move"?"action":"move",this.nextEventType==="placement"?t.length<4?this.activePlayer=e.defense.defenders[t.length]:this.activePlayer=e.attack.attacker:this.activePlayer=this.playersInOrder[Math.floor(r.length/2)%this.playersInOrder.length],this.activeSide=nr(this.activePlayer.id),this.currentRound=Math.floor(r.length/this.eventsPerRound),this.activePlayerPosition=this.playerPositions[this.activePlayer.id]}static fromContext(e){if(this.previousState&&He(this.previousState.context,e))return this.previousState.state;const t=new p1(e);return this.previousState={state:t,context:e},t}get playerPositions(){const e={attacker:[0,0],defender0:[0,0],defender1:[0,0],defender2:[0,0],defender3:[0,0]};return this.context.events.filter(Jn("placement")).forEach(t=>e[t.playerId]=t.coordinate),this.context.events.filter(Jn("move")).forEach(t=>e[t.playerId]=t.to),e}get defenseInventory(){const e=Object.values(Dr).map(r=>r.id).filter(jr),t=Object.fromEntries(e.map(r=>[r,0]));return this.context.events.filter(F1("collect")).forEach(r=>{r.itemId&&jr(r.itemId)&&(t[r.itemId]+=1)}),t}get attackInventory(){const e=Object.values(Dr).map(r=>r.id).filter(Lr),t=Object.fromEntries(e.map(r=>[r,0]));return this.context.events.filter(F1("collect")).forEach(r=>{r.itemId&&Lr(r.itemId)&&(t[r.itemId]+=1)}),t}getItemsForCoordinate(e){return this.context.items.filter(r=>He(r.position,e)).map(r=>{const l=this.context.events.filter(F1("collect")).filter(s=>He(s.position,e)).filter(s=>s.itemId===r.id).length;return{item:r,collectedCount:l}})}isValidMove(e){if(e[0]<0||e[0]>8||e[1]<0||e[1]>7)return!1;for(const s of Object.keys(this.playerPositions).filter(i=>xa(i,this.activeSide)).map(i=>this.playerPositions[i]))if(He(s,e))return!1;const t=this.activePlayerPosition,r=Math.abs(t[0]-e[0]),l=Math.abs(t[1]-e[1]);return r+l<=2&&r+l!=0}isPlaced(e){return this.context.events.filter(Jn("placement")).filter(t=>t.playerId===e&&t.finalized).length>0}};Xe(p1,"previousState");let Te=p1;const A3={gameFinished:()=>!1,allSidesAssigned:({context:n})=>n.users.every(e=>e.isSideAssigned)&&!!n.users.find(e=>e.side==="defense"&&e.isAdmin)&&!!n.users.find(e=>e.side==="attack"&&e.isAdmin),finishedAssigningSides:({context:n})=>n.finishedAssigningSides,allRolesAssigned:({context:n})=>n.attack.attacker.isConfigured&&n.defense.defenders.every(e=>e.isConfigured),finishedAssigningRoles:({context:n})=>n.attack.finishedAssigning&&n.defense.finishedAssigning,attackerShouldBeVisible:()=>!1,attackerShouldBeInvisible:()=>!1},$3=Ga({id:"gameClient",context:({input:n})=>n,types:{context:{},events:{},actors:{}},initial:"Lobby",states:{Lobby:{initial:"Assigning sides",states:{"Assigning sides":{description:`This is the first step of the game setup, where users can join and are assigned to be either attacker or defender.

Users can also be made administrators.`,initial:"Incomplete",states:{Incomplete:{always:{target:"Ready",guard:"allSidesAssigned",description:"All users have been assigned a side and there is an admin on both sides",reenter:!1}},Ready:{on:{"next step":{target:"Ready",guard:"isAdmin",actions:{type:"forwardToServer",params:{}},reenter:!1}}}},always:{target:"Assigning roles",guard:"finishedAssigningSides",reenter:!1},on:{"assign side":{target:"Assigning sides",guard:"isAdmin",actions:{type:"forwardToServer",params:{}},reenter:!1},"assign admin":{target:"Assigning sides",guard:"isAdmin",actions:{type:"forwardToServer",params:{}},reenter:!1}}},"Assigning roles":{description:"All users have been assigned a side, and now the roles will be configured.",initial:"Incomplete",states:{Incomplete:{always:[{target:"Ready",guard:"allRolesAssignedOfSide",description:"All users have been assigned a role.",reenter:!1},{target:"Editing player",guard:"isEditingPlayerOfSide",reenter:!1}]},Ready:{always:{target:"Editing player",guard:"isEditingPlayerOfSide",reenter:!1},on:{"next step":{target:"Ready",guard:"isAdmin",actions:{type:"forwardToServer",params:{}},reenter:!1}}},"Editing player":{description:"Shows a modal where the admin can select the user, role and face image",always:{target:"Incomplete",guard:"isNotEditingPlayerOfSide",reenter:!1},on:{"assign role":{target:"Editing player",guard:"isAdmin",actions:{type:"forwardToServer",params:{}},reenter:!1}}}},always:{target:"Waiting for other side",guard:"finishedAssigningRolesOfSide",reenter:!1},on:{"start editing player":{target:"Assigning roles",guard:"isAdmin",actions:{type:"forwardToServer",params:{}},reenter:!1},"stop editing player":{target:"Assigning roles",guard:"isAdmin",actions:{type:"forwardToServer",params:{}},reenter:!1}}},"Waiting for other side":{}},always:{target:"Playing",guard:"finishedAssigningRoles",reenter:!1}},Playing:{states:{Gameloop:{initial:"Waiting",states:{Waiting:{always:{target:"Playing",guard:"userOnActiveSide",reenter:!1}},Playing:{initial:"Initial",states:{Initial:{always:[{target:"Placing",guard:"requiresPlacement",reenter:!1},{target:"Moving",reenter:!1}]},Placing:{description:"The user sees all possible starting positions",always:{target:"Moving",guard:"requiresMove",reenter:!1},on:{"apply game event":{guard:"userControlsPlayer isPlacementEvent",actions:{type:"forwardToServer",params:{}},reenter:!0}}},Moving:{description:"The board displays possible squares to move to",always:{target:"Action",guard:"requiresAction",reenter:!1},on:{"apply game event":{target:"Moving",guard:"userControlsPlayer isMoveEvent",actions:{type:"forwardToServer",params:{}},reenter:!1}}},Action:{description:"The user gets presented with a list of possible actions to perform",always:{target:"Moving",guard:"requiresMove",reenter:!1},on:{"apply game event":{target:"Action",guard:"userControlsPlayer isActionEvent",actions:{type:"forwardToServer",params:{}},reenter:!1},"cancel game event":{target:"Action",guard:"userControlsPlayer lastEventIsAction lastEventNotFinalized",actions:{type:"forwardToServer",params:{}},reenter:!1}}}},always:{target:"Waiting",guard:"userNotOnActiveSide",reenter:!1}}},on:{"rollback game event":{target:"Gameloop",guard:"isAdmin",actions:{type:"forwardToServer",params:{}},reenter:!1}}},"Global Attack":{initial:"Showing current global attack",states:{"Showing current global attack":{on:{"dismiss global attack":{target:"Dismissed",reenter:!1}}},Dismissed:{on:{"new global attack":{target:"Showing current global attack",reenter:!1},"show global attack":{target:"Showing current global attack",reenter:!1}}}}},Sides:{initial:"Initial",states:{Initial:{always:[{target:"Defense",guard:"userIsDefender",reenter:!1},{target:"Attack",reenter:!1}]},Defense:{states:{"Attacker visibility":{initial:"Invisible",states:{Invisible:{always:{target:"Visible",guard:"attackerShouldBeVisible",reenter:!1}},Visible:{always:{target:"Invisible",guard:"attackerShouldBeInvisible",reenter:!1}}}}},type:"parallel"},Attack:{}},on:{"switch sides":{target:"Sides",guard:"isAdmin",actions:{type:"forwardToServer",params:{}},reenter:!1}}}},always:{target:"Finished",guard:"gameFinished",reenter:!1},type:"parallel"},Finished:{description:"The game finished, but the users can still communicate by sending emojis."},"Server stopped":{type:"final"}},always:{target:".Server stopped",guard:"isServerStopped",reenter:!1},on:{"shared game context update":{target:"#gameClient",actions:{type:"updateSharedGameContext",params:{}},reenter:!1},"send emoji":{target:"#gameClient",actions:{type:"forwardToServer",params:{}},reenter:!1},"show emoji":{actions:{type:"showEmoji",params:{}},reenter:!0}}}),Bt=n=>qs(n.userId,n),S3=({send:n,actions:e})=>$3.provide({actions:{updateSharedGameContext:Es(({event:t})=>({...t.sharedGameContext})),showEmoji:({event:t})=>{const r=t;e.showEmoji({userId:r.userId,emoji:r.emoji})},forwardToServer:({event:t})=>{const r=t;n({...r,type:`user: ${r.type}`})}},actors:{},guards:{isHost:({context:t})=>t.hostUserId===t.userId,isAdmin:({context:t})=>!!t.users.find(r=>r.id===t.userId&&r.isAdmin),isPlayer:({context:t})=>t.hostUserId!==t.userId,allRolesAssignedOfSide:({context:t})=>{const{side:r}=Bt(t);return r?r==="attack"?!!t.attack.attacker:t.defense.defenders.length===4:!1},finishedAssigningRolesOfSide:({context:t})=>{const{side:r}=Bt(t);return r?(r==="attack"?t.attack:t.defense).finishedAssigning:!1},isEditingPlayerOfSide:({context:t})=>{const{side:r}=Bt(t);return r?(r==="attack"?t.attack:t.defense).editingPlayerId!==void 0:!1},isNotEditingPlayerOfSide:Nr("isEditingPlayerOfSide"),userControlsPlayer:({context:t})=>{const r=Bt(t);return r.isAdmin||r.id===Te.fromContext(t).activePlayer.userId},isMoveEvent:({event:t})=>t.gameEvent.type==="move",isActionEvent:({event:t})=>t.gameEvent.type==="action",isPlacementEvent:({event:t})=>t.gameEvent.type==="placement",lastEventIsAction:({context:t})=>{const r=Te.fromContext(t);return!!r.lastEvent&&r.lastEvent.type==="action"},lastEventNotFinalized:({context:t})=>{const r=Te.fromContext(t);return!!r.lastEvent&&!r.lastEvent.finalized},"userControlsPlayer isMoveEvent":Kn(["userControlsPlayer","isMoveEvent"]),"userControlsPlayer isActionEvent":Kn(["userControlsPlayer","isActionEvent"]),"userControlsPlayer lastEventIsAction lastEventNotFinalized":Kn(["userControlsPlayer","lastEventIsAction","lastEventNotFinalized"]),"userControlsPlayer isPlacementEvent":Kn(["userControlsPlayer","isPlacementEvent"]),userOnActiveSide:({context:t})=>Bt(t).side===Te.fromContext(t).activeSide,userNotOnActiveSide:Nr("userOnActiveSide"),requiresPlacement:({context:t})=>Te.fromContext(t).nextEventType==="placement",requiresAction:({context:t})=>Te.fromContext(t).nextEventType==="action",requiresMove:({context:t})=>Te.fromContext(t).nextEventType==="move",userIsDefender:()=>!1,isServerStopped:()=>!1,...A3}}),E3=({gameId:n,userId:e,onMessage:t})=>{const r=Ho({status:"opening",log:[]}),l=(f,v)=>(console.debug("[websocket]",f,v),r.update(o=>({...o,log:[...o.log,`[websocket] ${f}`]}))),s=f=>r.update(v=>({...v,status:f}));let i;const c=()=>{l("connecting");const f=window.location.protocol==="https:"?"wss:":"ws:";i=new WebSocket(`${f}//${window.location.host}/websocket?gameId=${n}&userId=${e}`),i.addEventListener("open",()=>{s("opened"),l("connection open")}),i.addEventListener("close",()=>{s("closed"),l("connection closed")}),i.addEventListener("message",v=>{try{const o=JSON.parse(v.data);o.type!=="mouse position"&&l(`message received: ${v.data}`,v),t(o)}catch(o){l("error parsing message",o)}})},a=f=>{i==null||i.send(JSON.stringify(f))};return{subscribe:r.subscribe,open:c,close:()=>i==null?void 0:i.close(),send:a}};var le=class{static clamp(n,e,t){return Math.max(e,typeof t<"u"?Math.min(n,t):n)}static clampV(n,e,t){return n.map(r=>t?le.clamp(r,e,t):le.clamp(r,e))}static cross(n,e,t){return(e[0]-n[0])*(t[1]-n[1])-(t[0]-n[0])*(e[1]-n[1])}static snap(n,e=1){return[Math.round(n[0]/e)*e,Math.round(n[1]/e)*e]}},re=le;re.neg=n=>[-n[0],-n[1]];re.add=(n,e)=>[n[0]+e[0],n[1]+e[1]];re.addScalar=(n,e)=>[n[0]+e,n[1]+e];re.sub=(n,e)=>[n[0]-e[0],n[1]-e[1]];re.subScalar=(n,e)=>[n[0]-e,n[1]-e];re.vec=(n,e)=>[e[0]-n[0],e[1]-n[1]];re.mul=(n,e)=>[n[0]*e,n[1]*e];re.mulV=(n,e)=>[n[0]*e[0],n[1]*e[1]];re.div=(n,e)=>[n[0]/e,n[1]/e];re.divV=(n,e)=>[n[0]/e[0],n[1]/e[1]];re.per=n=>[n[1],-n[0]];re.dpr=(n,e)=>n[0]*e[0]+n[1]*e[1];re.cpr=(n,e)=>n[0]*e[1]-e[0]*n[1];re.len2=n=>n[0]*n[0]+n[1]*n[1];re.len=n=>Math.hypot(n[0],n[1]);re.pry=(n,e)=>le.dpr(n,e)/le.len(e);re.uni=n=>le.div(n,le.len(n));re.normalize=n=>le.uni(n);re.tangent=(n,e)=>le.uni(le.sub(n,e));re.dist2=(n,e)=>le.len2(le.sub(n,e));re.dist=(n,e)=>Math.hypot(n[1]-e[1],n[0]-e[0]);re.fastDist=(n,e)=>{const t=[e[0]-n[0],e[1]-n[1]],r=[Math.abs(t[0]),Math.abs(t[1])];let l=1/Math.max(r[0],r[1]);return l=l*(1.29289-(r[0]+r[1])*l*.29289),[t[0]*l,t[1]*l]};re.ang=(n,e)=>Math.atan2(le.cpr(n,e),le.dpr(n,e));re.angle=(n,e)=>Math.atan2(e[1]-n[1],e[0]-n[0]);re.med=(n,e)=>le.mul(le.add(n,e),.5);re.rot=(n,e=0)=>[n[0]*Math.cos(e)-n[1]*Math.sin(e),n[0]*Math.sin(e)+n[1]*Math.cos(e)];re.rotWith=(n,e,t=0)=>{if(t===0)return n;const r=Math.sin(t),l=Math.cos(t),s=n[0]-e[0],i=n[1]-e[1],c=s*l-i*r,a=s*r+i*l;return[c+e[0],a+e[1]]};re.isEqual=(n,e)=>n[0]===e[0]&&n[1]===e[1];re.lrp=(n,e,t)=>le.add(n,le.mul(le.sub(e,n),t));re.int=(n,e,t,r,l=1)=>{const s=(le.clamp(t,r)-t)/(r-t);return le.add(le.mul(n,1-s),le.mul(e,l))};re.ang3=(n,e,t)=>{const r=le.vec(e,n),l=le.vec(e,t);return le.ang(r,l)};re.abs=n=>[Math.abs(n[0]),Math.abs(n[1])];re.rescale=(n,e)=>{const t=le.len(n);return[e*n[0]/t,e*n[1]/t]};re.isLeft=(n,e,t)=>(e[0]-n[0])*(t[1]-n[1])-(t[0]-n[0])*(e[1]-n[1]);re.clockwise=(n,e,t)=>le.isLeft(n,e,t)>0;re.toFixed=(n,e=2)=>n.map(t=>+t.toFixed(e));re.nearestPointOnLineThroughPoint=(n,e,t)=>le.add(n,le.mul(e,le.pry(le.sub(t,n),e)));re.distanceToLineThroughPoint=(n,e,t)=>le.dist(t,le.nearestPointOnLineThroughPoint(n,e,t));re.nearestPointOnLineSegment=(n,e,t,r=!0)=>{const l=le.uni(le.sub(e,n)),s=le.add(n,le.mul(l,le.pry(le.sub(t,n),l)));if(r){if(s[0]<Math.min(n[0],e[0]))return n[0]<e[0]?n:e;if(s[0]>Math.max(n[0],e[0]))return n[0]>e[0]?n:e;if(s[1]<Math.min(n[1],e[1]))return n[1]<e[1]?n:e;if(s[1]>Math.max(n[1],e[1]))return n[1]>e[1]?n:e}return s};re.distanceToLineSegment=(n,e,t,r=!0)=>le.dist(t,le.nearestPointOnLineSegment(n,e,t,r));re.nudge=(n,e,t)=>le.isEqual(n,e)?n:le.add(n,le.mul(le.uni(le.sub(e,n)),t));re.nudgeAtAngle=(n,e,t)=>[Math.cos(e)*t+n[0],Math.sin(e)*t+n[1]];re.toPrecision=(n,e=4)=>[+n[0].toPrecision(e),+n[1].toPrecision(e)];re.pointsBetween=(n,e,t=6)=>Array.from(Array(t)).map((r,l)=>{const s=l/(t-1),i=Math.min(1,.5+Math.abs(.5-s));return[...le.lrp(n,e,s),i]});re.slope=(n,e)=>n[0]===e[0]?NaN:(n[1]-e[1])/(n[0]-e[0]);re.max=(...n)=>[Math.max(...n.map(e=>e[0])),Math.max(...n.map(e=>e[1]))];re.min=(...n)=>[Math.max(...n.map(e=>e[0])),Math.max(...n.map(e=>e[1]))];var T3=class{constructor(n=[]){this.points=[],this.lengths=[],this.totalLength=0,this.addPoint=e=>{if(this.prev){const t=re.dist(this.prev,e);this.lengths.push(t),this.totalLength+=t,this.points.push(e)}this.prev=e},this.clear=()=>{this.points=this.prev?[this.prev]:[],this.totalLength=0},this.getSplinePoint=e=>{const{points:t}=this,r=t.length-1,l=Math.trunc(e),s=Math.min(l+1,r),i=Math.min(s+1,r),c=Math.min(i+1,r),a=s-1,f=e-l,v=f*f,o=v*f,u=-o+2*v-f,h=3*o-5*v+2,p=-3*o+4*v+f,d=o-v;return[(t[a][0]*u+t[s][0]*h+t[i][0]*p+t[c][0]*d)/2,(t[a][1]*u+t[s][1]*h+t[i][1]*p+t[c][1]*d)/2]},this.points=n,this.lengths=n.map((e,t,r)=>t===0?0:re.dist(e,r[t-1])),this.totalLength=this.lengths.reduce((e,t)=>e+t,0)}},rr=class{constructor(n){this.state="idle",this.queue=[],this.timestamp=performance.now(),this.lastRequestId=0,this.timeoutId=0,this.spline=new T3,this.addPoint=e=>{clearTimeout(this.timeoutId);const t=performance.now(),r=Math.min(t-this.timestamp,rr.MAX_INTERVAL);if(!this.prevPoint){this.spline.clear(),this.prevPoint=e,this.spline.addPoint(e),this.cb(e),this.state="stopped";return}if(this.state==="stopped"){if(re.dist(this.prevPoint,e)<4){this.cb(e);return}this.spline.clear(),this.spline.addPoint(this.prevPoint),this.spline.addPoint(this.prevPoint),this.spline.addPoint(e),this.state="idle"}else this.spline.addPoint(e);if(r<16){this.prevPoint=e,this.timestamp=t,this.cb(e);return}const l={start:this.spline.points.length-3,from:this.prevPoint,to:e,duration:r};switch(this.prevPoint=e,this.timestamp=t,this.state){case"idle":{this.state="animating",this.animateNext(l);break}case"animating":{this.queue.push(l);break}}},this.animateNext=e=>{const t=performance.now(),r=()=>{const l=(performance.now()-t)/e.duration;if(l<=1&&this.spline.points.length>0){try{this.cb(this.spline.getSplinePoint(l+e.start))}catch(i){console.warn(i)}this.lastRequestId=requestAnimationFrame(r);return}const s=this.queue.shift();s?(this.state="animating",this.animateNext(s)):(this.state="idle",this.timeoutId=setTimeout(()=>{this.state="stopped"},rr.MAX_INTERVAL))};r()},this.dispose=()=>{clearTimeout(this.timeoutId)},this.cb=n}},Us=rr;Us.MAX_INTERVAL=300;function I3(n){let e,t,r,l,s,i=n[0].name+"",c;return{c(){e=H("div"),t=F("svg"),r=F("path"),l=Z(),s=H("span"),c=ee(i),this.h()},l(a){e=V(a,"DIV",{class:!0});var f=S(e);t=R(f,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,"stroke-width":!0,stroke:!0,fill:!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var v=S(t);r=R(v,"path",{d:!0}),S(r).forEach(g),v.forEach(g),l=N(f),s=V(f,"SPAN",{class:!0});var o=S(s);c=te(o,i),o.forEach(g),f.forEach(g),this.h()},h(){m(r,"d","M7.904 17.563a1.2 1.2 0 0 0 2.228 .308l2.09 -3.093l4.907 4.907a1.067 1.067 0 0 0 1.509 0l1.047 -1.047a1.067 1.067 0 0 0 0 -1.509l-4.907 -4.907l3.113 -2.09a1.2 1.2 0 0 0 -.309 -2.228l-13.582 -3.904l3.904 13.563z"),m(t,"xmlns","http://www.w3.org/2000/svg"),m(t,"width","44"),m(t,"height","44"),m(t,"viewBox","0 0 24 24"),m(t,"stroke-width","1.5"),m(t,"stroke","#2c3e50"),m(t,"fill","white"),m(t,"stroke-linecap","round"),m(t,"stroke-linejoin","round"),m(t,"class","svelte-7ubvy1"),m(s,"class","name svelte-7ubvy1"),m(e,"class","cursor svelte-7ubvy1")},m(a,f){P(a,e,f),A(e,t),A(t,r),A(e,l),A(e,s),A(s,c),n[3](e)},p(a,[f]){f&1&&i!==(i=a[0].name+"")&&Ie(c,i)},i:ne,o:ne,d(a){a&&g(e),n[3](null)}}}function O3(n,e,t){let{position:r}=e,l,s;or(()=>(t(2,l=new Us(([c,a])=>{s.style.setProperty("translate",`${c}px ${a}px`)})),()=>{l==null||l.dispose()}));function i(c){nn[c?"unshift":"push"](()=>{s=c,t(1,s)})}return n.$$set=c=>{"position"in c&&t(0,r=c.position)},n.$$.update=()=>{n.$$.dirty&5&&(l==null||l.addPoint(r.position))},[r,s,l,i]}class P3 extends de{constructor(e){super(),ve(this,e,O3,I3,he,{position:0})}}function bl(n,e,t){const r=n.slice();return r[11]=e[t],r}function wl(n,e){let t,r,l;return r=new P3({props:{position:e[11]}}),{key:n,first:null,c(){t=ye(),q(r.$$.fragment),this.h()},l(s){t=ye(),U(r.$$.fragment,s),this.h()},h(){this.first=t},m(s,i){P(s,t,i),W(r,s,i),l=!0},p(s,i){e=s;const c={};i&4&&(c.position=e[11]),r.$set(c)},i(s){l||($(r.$$.fragment,s),l=!0)},o(s){E(r.$$.fragment,s),l=!1},d(s){s&&g(t),z(r,s)}}}function M3(n){let e,t=[],r=new Map,l,s,i=fe(n[2]);const c=a=>a[11].id;for(let a=0;a<i.length;a+=1){let f=bl(n,i,a),v=c(f);r.set(v,t[a]=wl(v,f))}return{c(){e=H("div");for(let a=0;a<t.length;a+=1)t[a].c();this.h()},l(a){e=V(a,"DIV",{class:!0});var f=S(e);for(let v=0;v<t.length;v+=1)t[v].l(f);f.forEach(g),this.h()},h(){m(e,"class","cursor-overlays svelte-1n4ax7h"),Bn(()=>n[7].call(e))},m(a,f){P(a,e,f);for(let v=0;v<t.length;v+=1)t[v]&&t[v].m(e,null);l=is(e,n[7].bind(e)),s=!0},p(a,[f]){f&4&&(i=fe(a[2]),ae(),t=fr(t,f,c,1,a,i,r,e,ur,wl,null,bl),ce())},i(a){if(!s){for(let f=0;f<i.length;f+=1)$(t[f]);s=!0}},o(a){for(let f=0;f<t.length;f+=1)E(t[f]);s=!1},d(a){a&&g(e);for(let f=0;f<t.length;f+=1)t[f].d();l()}}}function C3(n,e,t){let r,l,s,{mousePositions:i={}}=e;const{user:c,machine:a}=Ve();se(n,c,p=>t(8,s=p));let f=1,v=1;const o=ue(a.service,p=>{const d=p.matches("Lobby.Assigning sides")||p.matches("Finished"),y=p.context.users.filter(_=>_.isConnected);return d?y:y.filter(_=>_.side===s.side)});se(n,o,p=>t(6,l=p));const u=(p,d)=>p.filter(y=>y.isConnected&&!!d[y.id]).map(y=>{const _=d[y.id];return{id:y.id,name:y.name,position:[_[0]*f,_[1]*v]}});function h(){f=this.clientWidth,v=this.clientHeight,t(0,f),t(1,v)}return n.$$set=p=>{"mousePositions"in p&&t(5,i=p.mousePositions)},n.$$.update=()=>{n.$$.dirty&96&&t(2,r=u(l,i))},[f,v,r,c,o,i,l,h]}class D3 extends de{constructor(e){super(),ve(this,e,C3,M3,he,{mousePositions:5})}}function Ws(n){const e=n-1;return e*e*e+1}function j3(n){return--n*n*n*n*n+1}function L3(n,{delay:e=0,duration:t=400,easing:r=Do}={}){const l=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:r,css:s=>`opacity: ${s*l}`}}function lr(n,{delay:e=0,duration:t=400,easing:r=Ws,start:l=0,opacity:s=0}={}){const i=getComputedStyle(n),c=+i.opacity,a=i.transform==="none"?"":i.transform,f=1-l,v=c*(1-s);return{delay:e,duration:t,easing:r,css:(o,u)=>`
			transform: ${a} scale(${1-f*u});
			opacity: ${c-v*u}
		`}}function F3({fallback:n,...e}){const t=new Map,r=new Map;function l(i,c,a){const{delay:f=0,duration:v=D=>Math.sqrt(D)*30,easing:o=Ws}=Le(Le({},e),a),u=i.getBoundingClientRect(),h=c.getBoundingClientRect(),p=u.left-h.left,d=u.top-h.top,y=u.width/h.width,_=u.height/h.height,b=Math.sqrt(p*p+d*d),T=getComputedStyle(c),M=T.transform==="none"?"":T.transform,I=+T.opacity;return{delay:f,duration:G1(v)?v(b):v,easing:o,css:(D,B)=>`
				opacity: ${D*I};
				transform-origin: top left;
				transform: ${M} translate(${B*p}px,${B*d}px) scale(${D+(1-D)*y}, ${D+(1-D)*_});
			`}}function s(i,c,a){return(f,v)=>(i.set(v.key,f),()=>{if(c.has(v.key)){const o=c.get(v.key);return c.delete(v.key),l(o,f,v)}return i.delete(v.key),n&&n(f,v,a)})}return[s(r,t,!1),s(t,r,!0)]}function kl(n,e,t){const r=n.slice();return r[1]=e[t][0],r[7]=e[t][1],r}function Al(n,e){let t,r,l=e[7].emoji+"",s,i,c,a=e[7].userName+"",f,v,o,u,h,p,d;function y(){return e[4](e[1])}return{key:n,first:null,c(){t=H("div"),r=H("span"),s=ee(l),i=Z(),c=H("span"),f=ee(a),v=Z(),this.h()},l(_){t=V(_,"DIV",{class:!0});var b=S(t);r=V(b,"SPAN",{class:!0});var T=S(r);s=te(T,l),T.forEach(g),i=N(b),c=V(b,"SPAN",{class:!0});var M=S(c);f=te(M,a),M.forEach(g),v=N(b),b.forEach(g),this.h()},h(){m(r,"class","emjoi"),m(c,"class","name svelte-1tnpk3"),m(t,"class","displayed-emoji svelte-1tnpk3"),De(t,"--_x",e[7].position[0]),De(t,"--_y",e[7].position[1]),this.first=t},m(_,b){P(_,t,b),A(t,r),A(r,s),A(t,i),A(t,c),A(c,f),A(t,v),h=!0,p||(d=we(t,"introend",y),p=!0)},p(_,b){e=_,(!h||b&1)&&l!==(l=e[7].emoji+"")&&Ie(s,l),(!h||b&1)&&a!==(a=e[7].userName+"")&&Ie(f,a),b&1&&De(t,"--_x",e[7].position[0]),b&1&&De(t,"--_y",e[7].position[1])},i(_){h||(_&&Bn(()=>{h&&(u&&u.end(1),o=ar(t,lr,{duration:200,start:.4}),o.start())}),h=!0)},o(_){o&&o.invalidate(),_&&(u=cr(t,L3,{})),h=!1},d(_){_&&g(t),_&&u&&u.end(),p=!1,d()}}}function R3(n){let e=[],t=new Map,r,l,s=fe(Object.entries(n[0]));const i=c=>c[1];for(let c=0;c<s.length;c+=1){let a=kl(n,s,c),f=i(a);t.set(f,e[c]=Al(f,a))}return{c(){for(let c=0;c<e.length;c+=1)e[c].c();r=ye()},l(c){for(let a=0;a<e.length;a+=1)e[a].l(c);r=ye()},m(c,a){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(c,a);P(c,r,a),l=!0},p(c,[a]){a&1&&(s=fe(Object.entries(c[0])),ae(),e=fr(e,a,i,1,c,s,t,r.parentNode,ur,Al,r,kl),ce())},i(c){if(!l){for(let a=0;a<s.length;a+=1)$(e[a]);l=!0}},o(c){for(let a=0;a<e.length;a+=1)E(e[a]);l=!1},d(c){c&&g(r);for(let a=0;a<e.length;a+=1)e[a].d(c)}}}function B3(n,e,t){let r;const l=Ve(),s=ue(l.machine.service,v=>v.context.users);se(n,s,v=>t(5,r=v));let i={},c=0;return[i,c,s,({userId:v,emoji:o})=>{var h;const u=((h=r.find(p=>p.id===v))==null?void 0:h.name)??"Unknown";t(0,i[`${t(1,c++,c)}`]={emoji:o,userName:u,position:[Math.random(),Math.random()]},i),t(0,i),t(1,c++,c)},v=>{setTimeout(()=>{delete i[v],t(0,i)},2e3)}]}class H3 extends de{constructor(e){super(),ve(this,e,B3,R3,he,{showEmoji:3})}get showEmoji(){return this.$$.ctx[3]}}function V3(n){let e;return{c(){e=ee("Finished")},l(t){e=te(t,"Finished")},m(t,r){P(t,e,r)},p:ne,i:ne,o:ne,d(t){t&&g(e)}}}class Z3 extends de{constructor(e){super(),ve(this,e,null,V3,he,{})}}function $l(n,e,t){const r=n.slice();return r[4]=e[t],r}function Sl(n){let e,t=n[4]+"",r,l,s;function i(){return n[2](n[4])}return{c(){e=H("button"),r=ee(t),this.h()},l(c){e=V(c,"BUTTON",{class:!0});var a=S(e);r=te(a,t),a.forEach(g),this.h()},h(){m(e,"class","emoji svelte-usst85")},m(c,a){P(c,e,a),A(e,r),l||(s=we(e,"click",i),l=!0)},p(c,a){n=c},d(c){c&&g(e),l=!1,s()}}}function N3(n){let e,t=fe(n[0]),r=[];for(let l=0;l<t.length;l+=1)r[l]=Sl($l(n,t,l));return{c(){e=H("div");for(let l=0;l<r.length;l+=1)r[l].c();this.h()},l(l){e=V(l,"DIV",{class:!0});var s=S(e);for(let i=0;i<r.length;i+=1)r[i].l(s);s.forEach(g),this.h()},h(){m(e,"class","emojis svelte-usst85")},m(l,s){P(l,e,s);for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(e,null)},p(l,[s]){if(s&3){t=fe(l[0]);let i;for(i=0;i<t.length;i+=1){const c=$l(l,t,i);r[i]?r[i].p(c,s):(r[i]=Sl(c),r[i].c(),r[i].m(e,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=t.length}},i:ne,o:ne,d(l){l&&g(e),je(r,l)}}}function G3(n){const e=Ve(),t=["👋","👍","👏","😃","🧠","🤔"],r=s=>{e.machine.send({type:"send emoji",emoji:s}),e.machine.send({type:"show emoji",emoji:s,userId:e.userId})};return[t,r,s=>r(s)]}class q3 extends de{constructor(e){super(),ve(this,e,G3,N3,he,{})}}function U3(n){let e,t,r='<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="m15 9l-6 6m0-6l6 6"/></g>',l=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},n[0]],s={};for(let i=0;i<l.length;i+=1)s=Le(s,l[i]);return{c(){e=F("svg"),t=new Hn(!0),this.h()},l(i){e=R(i,"svg",{viewBox:!0,width:!0,height:!0});var c=S(e);t=Vn(c,!0),c.forEach(g),this.h()},h(){t.a=null,at(e,s)},m(i,c){P(i,e,c),t.m(r,e)},p(i,[c]){at(e,s=kn(l,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},c&1&&i[0]]))},i:ne,o:ne,d(i){i&&g(e)}}}function W3(n,e,t){return n.$$set=r=>{t(0,e=Le(Le({},e),ct(r)))},e=ct(e),[e]}class z3 extends de{constructor(e){super(),ve(this,e,W3,U3,he,{})}}const x3=n=>({}),El=n=>({});function Tl(n){let e,t,r,l,s,i,c,a,f;const v=n[2].default,o=Oe(v,n,n[1],null);return l=new z3({}),{c(){e=H("div"),o&&o.c(),t=Z(),r=H("button"),q(l.$$.fragment),this.h()},l(u){e=V(u,"DIV",{class:!0});var h=S(e);o&&o.l(h),t=N(h),r=V(h,"BUTTON",{class:!0});var p=S(r);U(l.$$.fragment,p),p.forEach(g),h.forEach(g),this.h()},h(){m(r,"class","unstyled icon close svelte-4gxpdc"),m(e,"class","content svelte-4gxpdc")},m(u,h){P(u,e,h),o&&o.m(e,null),A(e,t),A(e,r),W(l,r,null),c=!0,a||(f=we(r,"click",n[4]),a=!0)},p(u,h){o&&o.p&&(!c||h&2)&&Pe(o,v,u,u[1],c?Ce(v,u[1],h,null):Me(u[1]),null)},i(u){c||($(o,u),$(l.$$.fragment,u),u&&Bn(()=>{c&&(i&&i.end(1),s=ar(e,lr,{duration:150,start:.7}),s.start())}),c=!0)},o(u){E(o,u),E(l.$$.fragment,u),s&&s.invalidate(),u&&(i=cr(e,lr,{duration:150,start:.7})),c=!1},d(u){u&&g(e),o&&o.d(u),z(l),u&&i&&i.end(),a=!1,f()}}}function X3(n){let e,t,r,l,s,i;const c=n[2].icon,a=Oe(c,n,n[1],El);let f=n[0]&&Tl(n);return{c(){e=H("div"),t=H("button"),a&&a.c(),r=Z(),f&&f.c(),this.h()},l(v){e=V(v,"DIV",{class:!0});var o=S(e);t=V(o,"BUTTON",{class:!0});var u=S(t);a&&a.l(u),u.forEach(g),r=N(o),f&&f.l(o),o.forEach(g),this.h()},h(){m(t,"class","unstyled icon svelte-4gxpdc"),m(e,"class","expandable svelte-4gxpdc"),Y(e,"expanded",n[0])},m(v,o){P(v,e,o),A(e,t),a&&a.m(t,null),A(e,r),f&&f.m(e,null),l=!0,s||(i=we(t,"click",n[3]),s=!0)},p(v,[o]){a&&a.p&&(!l||o&2)&&Pe(a,c,v,v[1],l?Ce(c,v[1],o,x3):Me(v[1]),El),v[0]?f?(f.p(v,o),o&1&&$(f,1)):(f=Tl(v),f.c(),$(f,1),f.m(e,null)):f&&(ae(),E(f,1,1,()=>{f=null}),ce()),(!l||o&1)&&Y(e,"expanded",v[0])},i(v){l||($(a,v),$(f),l=!0)},o(v){E(a,v),E(f),l=!1},d(v){v&&g(e),a&&a.d(v),f&&f.d(),s=!1,i()}}}function K3(n,e,t){let{$$slots:r={},$$scope:l}=e,s=!1;const i=()=>t(0,s=!0),c=()=>t(0,s=!1);return n.$$set=a=>{"$$scope"in a&&t(1,l=a.$$scope)},[s,l,r,i,c]}class V1 extends de{constructor(e){super(),ve(this,e,K3,X3,he,{})}}function J3(n){let e,t,r='<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m15 18l-6-6l6-6"/>',l=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},n[0]],s={};for(let i=0;i<l.length;i+=1)s=Le(s,l[i]);return{c(){e=F("svg"),t=new Hn(!0),this.h()},l(i){e=R(i,"svg",{viewBox:!0,width:!0,height:!0});var c=S(e);t=Vn(c,!0),c.forEach(g),this.h()},h(){t.a=null,at(e,s)},m(i,c){P(i,e,c),t.m(r,e)},p(i,[c]){at(e,s=kn(l,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},c&1&&i[0]]))},i:ne,o:ne,d(i){i&&g(e)}}}function Q3(n,e,t){return n.$$set=r=>{t(0,e=Le(Le({},e),ct(r)))},e=ct(e),[e]}class Y3 extends de{constructor(e){super(),ve(this,e,Q3,J3,he,{})}}function ev(n){let e,t,r,l;const s=n[2].default,i=Oe(s,n,n[1],null);return{c(){e=H("button"),i&&i.c(),this.h()},l(c){e=V(c,"BUTTON",{class:!0});var a=S(e);i&&i.l(a),a.forEach(g),this.h()},h(){m(e,"class","unstyled svelte-1e1bzpr"),e.disabled=n[0]},m(c,a){P(c,e,a),i&&i.m(e,null),t=!0,r||(l=we(e,"click",n[3]),r=!0)},p(c,[a]){i&&i.p&&(!t||a&2)&&Pe(i,s,c,c[1],t?Ce(s,c[1],a,null):Me(c[1]),null),(!t||a&1)&&(e.disabled=c[0])},i(c){t||($(i,c),t=!0)},o(c){E(i,c),t=!1},d(c){c&&g(e),i&&i.d(c),r=!1,l()}}}function tv(n,e,t){let{$$slots:r={},$$scope:l}=e,{disabled:s=!1}=e;function i(c){pn.call(this,n,c)}return n.$$set=c=>{"disabled"in c&&t(0,s=c.disabled),"$$scope"in c&&t(1,l=c.$$scope)},[s,l,r,i]}class nv extends de{constructor(e){super(),ve(this,e,tv,ev,he,{disabled:0})}}function Il(n){let e,t;return e=new nv({props:{disabled:!n[1],$$slots:{default:[rv]},$$scope:{ctx:n}}}),e.$on("click",n[5]),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,l){W(e,r,l),t=!0},p(r,l){const s={};l&2&&(s.disabled=!r[1]),l&64&&(s.$$scope={dirty:l,ctx:r}),e.$set(s)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function rv(n){let e,t;return e=new Y3({}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,l){W(e,r,l),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function lv(n){let e,t,r=n[0]&&Il(n);return{c(){r&&r.c(),e=ye()},l(l){r&&r.l(l),e=ye()},m(l,s){r&&r.m(l,s),P(l,e,s),t=!0},p(l,[s]){l[0]?r?(r.p(l,s),s&1&&$(r,1)):(r=Il(l),r.c(),$(r,1),r.m(e.parentNode,e)):r&&(ae(),E(r,1,1,()=>{r=null}),ce())},i(l){t||($(r),t=!0)},o(l){E(r),t=!1},d(l){l&&g(e),r&&r.d(l)}}}function iv(n,e,t){let r,l;const{machine:s}=Ve(),i=ue(s.service,({context:f})=>Bt(f).isAdmin);se(n,i,f=>t(0,r=f));const c=ue(s.service,({context:f})=>Te.fromContext(f).lastEvent);return se(n,c,f=>t(1,l=f)),[r,l,s,i,c,()=>l?s.send({type:"rollback game event",gameEventType:l.type}):null]}class sv extends de{constructor(e){super(),ve(this,e,iv,lv,he,{})}}function ov(n){let e,t,r='<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"/><circle cx="12" cy="12" r="3"/></g>',l=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},n[0]],s={};for(let i=0;i<l.length;i+=1)s=Le(s,l[i]);return{c(){e=F("svg"),t=new Hn(!0),this.h()},l(i){e=R(i,"svg",{viewBox:!0,width:!0,height:!0});var c=S(e);t=Vn(c,!0),c.forEach(g),this.h()},h(){t.a=null,at(e,s)},m(i,c){P(i,e,c),t.m(r,e)},p(i,[c]){at(e,s=kn(l,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},c&1&&i[0]]))},i:ne,o:ne,d(i){i&&g(e)}}}function av(n,e,t){return n.$$set=r=>{t(0,e=Le(Le({},e),ct(r)))},e=ct(e),[e]}class cv extends de{constructor(e){super(),ve(this,e,av,ov,he,{})}}function fv(n){let e,t,r='<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5L6 9H2v6h4l5 4V5zm4.54 3.46a5 5 0 0 1 0 7.07m3.53-10.6a10 10 0 0 1 0 14.14"/>',l=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},n[0]],s={};for(let i=0;i<l.length;i+=1)s=Le(s,l[i]);return{c(){e=F("svg"),t=new Hn(!0),this.h()},l(i){e=R(i,"svg",{viewBox:!0,width:!0,height:!0});var c=S(e);t=Vn(c,!0),c.forEach(g),this.h()},h(){t.a=null,at(e,s)},m(i,c){P(i,e,c),t.m(r,e)},p(i,[c]){at(e,s=kn(l,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},c&1&&i[0]]))},i:ne,o:ne,d(i){i&&g(e)}}}function uv(n,e,t){return n.$$set=r=>{t(0,e=Le(Le({},e),ct(r)))},e=ct(e),[e]}class hv extends de{constructor(e){super(),ve(this,e,uv,fv,he,{})}}function dv(n){let e,t,r='<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M12 17h.01M12 22s8-4 8-10V5l-8-3l-8 3v7c0 6 8 10 8 10"/><path d="M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3"/></g>',l=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},n[0]],s={};for(let i=0;i<l.length;i+=1)s=Le(s,l[i]);return{c(){e=F("svg"),t=new Hn(!0),this.h()},l(i){e=R(i,"svg",{viewBox:!0,width:!0,height:!0});var c=S(e);t=Vn(c,!0),c.forEach(g),this.h()},h(){t.a=null,at(e,s)},m(i,c){P(i,e,c),t.m(r,e)},p(i,[c]){at(e,s=kn(l,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},c&1&&i[0]]))},i:ne,o:ne,d(i){i&&g(e)}}}function vv(n,e,t){return n.$$set=r=>{t(0,e=Le(Le({},e),ct(r)))},e=ct(e),[e]}class pv extends de{constructor(e){super(),ve(this,e,vv,dv,he,{})}}function _v(n){let e,t;return e=new pv({props:{slot:"icon"}}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,l){W(e,r,l),t=!0},p:ne,i(r){t||($(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function mv(n){let e,t;return e=new hv({props:{slot:"icon"}}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,l){W(e,r,l),t=!0},p:ne,i(r){t||($(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function gv(n){let e,t;return e=new sv({}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,l){W(e,r,l),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function yv(n){let e,t;return e=new cv({props:{slot:"icon"}}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,l){W(e,r,l),t=!0},p:ne,i(r){t||($(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function bv(n){let e,t,r="The hidden threat",l,s,i,c,a,f,v,o,u,h;return s=new q3({}),a=new V1({props:{$$slots:{icon:[_v]},$$scope:{ctx:n}}}),v=new V1({props:{$$slots:{icon:[mv]},$$scope:{ctx:n}}}),u=new V1({props:{$$slots:{icon:[yv],default:[gv]},$$scope:{ctx:n}}}),{c(){e=H("div"),t=H("div"),t.textContent=r,l=Z(),q(s.$$.fragment),i=Z(),c=H("div"),q(a.$$.fragment),f=Z(),q(v.$$.fragment),o=Z(),q(u.$$.fragment),this.h()},l(p){e=V(p,"DIV",{class:!0});var d=S(e);t=V(d,"DIV",{class:!0,"data-svelte-h":!0}),Vt(t)!=="svelte-xbe4by"&&(t.textContent=r),l=N(d),U(s.$$.fragment,d),i=N(d),c=V(d,"DIV",{class:!0});var y=S(c);U(a.$$.fragment,y),f=N(y),U(v.$$.fragment,y),o=N(y),U(u.$$.fragment,y),y.forEach(g),d.forEach(g),this.h()},h(){m(t,"class","title svelte-7tzkuk"),m(c,"class","actions svelte-7tzkuk"),m(e,"class","header svelte-7tzkuk")},m(p,d){P(p,e,d),A(e,t),A(e,l),W(s,e,null),A(e,i),A(e,c),W(a,c,null),A(c,f),W(v,c,null),A(c,o),W(u,c,null),h=!0},p(p,[d]){const y={};d&1&&(y.$$scope={dirty:d,ctx:p}),a.$set(y);const _={};d&1&&(_.$$scope={dirty:d,ctx:p}),v.$set(_);const b={};d&1&&(b.$$scope={dirty:d,ctx:p}),u.$set(b)},i(p){h||($(s.$$.fragment,p),$(a.$$.fragment,p),$(v.$$.fragment,p),$(u.$$.fragment,p),h=!0)},o(p){E(s.$$.fragment,p),E(a.$$.fragment,p),E(v.$$.fragment,p),E(u.$$.fragment,p),h=!1},d(p){p&&g(e),z(s),z(a),z(v),z(u)}}}class wv extends de{constructor(e){super(),ve(this,e,null,bv,he,{})}}function Ol(n,e,t){const r=n.slice();return r[13]=e[t],r}function kv(n){let e;return{c(){e=ee("Einteilung in Teams")},l(t){e=te(t,"Einteilung in Teams")},m(t,r){P(t,e,r)},d(t){t&&g(e)}}}function Av(n){let e;return{c(){e=ee("Schritt 2 von 3")},l(t){e=te(t,"Schritt 2 von 3")},m(t,r){P(t,e,r)},d(t){t&&g(e)}}}function Pl(n){let e,t="(admin)";return{c(){e=H("span"),e.textContent=t,this.h()},l(r){e=V(r,"SPAN",{class:!0,"data-svelte-h":!0}),Vt(e)!=="svelte-16777ag"&&(e.textContent=t),this.h()},h(){m(e,"class","admin")},m(r,l){P(r,e,l)},d(r){r&&g(e)}}}function Ml(n){let e;function t(s,i){return s[13].side==="attack"?Sv:$v}let r=t(n),l=r(n);return{c(){e=H("span"),l.c(),this.h()},l(s){e=V(s,"SPAN",{class:!0});var i=S(e);l.l(i),i.forEach(g),this.h()},h(){m(e,"class","side svelte-1w8krv2")},m(s,i){P(s,e,i),l.m(e,null)},p(s,i){r!==(r=t(s))&&(l.d(1),l=r(s),l&&(l.c(),l.m(e,null)))},d(s){s&&g(e),l.d()}}}function $v(n){let e;return{c(){e=ee("Verteidigung")},l(t){e=te(t,"Verteidigung")},m(t,r){P(t,e,r)},d(t){t&&g(e)}}}function Sv(n){let e;return{c(){e=ee("Angriff")},l(t){e=te(t,"Angriff")},m(t,r){P(t,e,r)},d(t){t&&g(e)}}}function Cl(n){let e,t,r,l;function s(){return n[14](n[13])}e=new ft({props:{$$slots:{default:[Ev]},$$scope:{ctx:n}}}),e.$on("click",s);function i(){return n[15](n[13])}return r=new ft({props:{$$slots:{default:[Tv]},$$scope:{ctx:n}}}),r.$on("click",i),{c(){q(e.$$.fragment),t=Z(),q(r.$$.fragment)},l(c){U(e.$$.fragment,c),t=N(c),U(r.$$.fragment,c)},m(c,a){W(e,c,a),P(c,t,a),W(r,c,a),l=!0},p(c,a){n=c;const f={};a&1048576&&(f.$$scope={dirty:a,ctx:n}),e.$set(f);const v={};a&1048576&&(v.$$scope={dirty:a,ctx:n}),r.$set(v)},i(c){l||($(e.$$.fragment,c),$(r.$$.fragment,c),l=!0)},o(c){E(e.$$.fragment,c),E(r.$$.fragment,c),l=!1},d(c){c&&g(t),z(e,c),z(r,c)}}}function Ev(n){let e;return{c(){e=ee("Angriff")},l(t){e=te(t,"Angriff")},m(t,r){P(t,e,r)},d(t){t&&g(e)}}}function Tv(n){let e;return{c(){e=ee("Verteidigung")},l(t){e=te(t,"Verteidigung")},m(t,r){P(t,e,r)},d(t){t&&g(e)}}}function Dl(n){let e,t;function r(){return n[16](n[13])}return e=new ft({props:{$$slots:{default:[Iv]},$$scope:{ctx:n}}}),e.$on("click",r),{c(){q(e.$$.fragment)},l(l){U(e.$$.fragment,l)},m(l,s){W(e,l,s),t=!0},p(l,s){n=l;const i={};s&1048576&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){E(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function Iv(n){let e;return{c(){e=ee("Toggle Admin")},l(t){e=te(t,"Toggle Admin")},m(t,r){P(t,e,r)},d(t){t&&g(e)}}}function jl(n){let e,t=n[13].name+"",r,l,s,i,c,a,f,v=n[13].isAdmin&&Pl(),o=n[13].isSideAssigned&&Ml(n),u=n[1]&&Cl(n),h=n[2]&&n[13].id!==n[5]&&Dl(n);return{c(){e=H("div"),r=ee(t),l=Z(),v&&v.c(),s=Z(),o&&o.c(),i=Z(),u&&u.c(),c=Z(),h&&h.c(),a=Z(),this.h()},l(p){e=V(p,"DIV",{class:!0});var d=S(e);r=te(d,t),l=N(d),v&&v.l(d),s=N(d),o&&o.l(d),i=N(d),u&&u.l(d),c=N(d),h&&h.l(d),a=N(d),d.forEach(g),this.h()},h(){m(e,"class","user")},m(p,d){P(p,e,d),A(e,r),A(e,l),v&&v.m(e,null),A(e,s),o&&o.m(e,null),A(e,i),u&&u.m(e,null),A(e,c),h&&h.m(e,null),A(e,a),f=!0},p(p,d){(!f||d&1)&&t!==(t=p[13].name+"")&&Ie(r,t),p[13].isAdmin?v||(v=Pl(),v.c(),v.m(e,s)):v&&(v.d(1),v=null),p[13].isSideAssigned?o?o.p(p,d):(o=Ml(p),o.c(),o.m(e,i)):o&&(o.d(1),o=null),p[1]?u?(u.p(p,d),d&2&&$(u,1)):(u=Cl(p),u.c(),$(u,1),u.m(e,c)):u&&(ae(),E(u,1,1,()=>{u=null}),ce()),p[2]&&p[13].id!==p[5]?h?(h.p(p,d),d&5&&$(h,1)):(h=Dl(p),h.c(),$(h,1),h.m(e,a)):h&&(ae(),E(h,1,1,()=>{h=null}),ce())},i(p){f||($(u),$(h),f=!0)},o(p){E(u),E(h),f=!1},d(p){p&&g(e),v&&v.d(),o&&o.d(),u&&u.d(),h&&h.d()}}}function Ov(n){let e;return{c(){e=ee("Next")},l(t){e=te(t,"Next")},m(t,r){P(t,e,r)},d(t){t&&g(e)}}}function Pv(n){let e,t;return e=new ft({props:{primary:!0,disabled:!n[3],disabledReason:n[4].isAdmin?"Alle Spieler:innen müssen einer Seite zugewiesen sein":"Nur Administrator:innen dürfen bestätigen",$$slots:{default:[Ov]},$$scope:{ctx:n}}}),e.$on("click",n[17]),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,l){W(e,r,l),t=!0},p(r,l){const s={};l&8&&(s.disabled=!r[3]),l&16&&(s.disabledReason=r[4].isAdmin?"Alle Spieler:innen müssen einer Seite zugewiesen sein":"Nur Administrator:innen dürfen bestätigen"),l&1048576&&(s.$$scope={dirty:l,ctx:r}),e.$set(s)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function Mv(n){let e,t,r,l=`Gleich geht’s los. Sobald alle Teilnehmende sich eingeloggt haben, kann die Spielleitung alle in
  Teams einteilen.`,s,i,c,a,f;e=new Ht({props:{separator:!0,$$slots:{info:[Av],default:[kv]},$$scope:{ctx:n}}});let v=fe(n[0]),o=[];for(let h=0;h<v.length;h+=1)o[h]=jl(Ol(n,v,h));const u=h=>E(o[h],1,1,()=>{o[h]=null});return a=new dr({props:{$$slots:{default:[Pv]},$$scope:{ctx:n}}}),{c(){q(e.$$.fragment),t=Z(),r=H("p"),r.textContent=l,s=Z(),i=H("div");for(let h=0;h<o.length;h+=1)o[h].c();c=Z(),q(a.$$.fragment),this.h()},l(h){U(e.$$.fragment,h),t=N(h),r=V(h,"P",{"data-svelte-h":!0}),Vt(r)!=="svelte-ugtca6"&&(r.textContent=l),s=N(h),i=V(h,"DIV",{class:!0});var p=S(i);for(let d=0;d<o.length;d+=1)o[d].l(p);p.forEach(g),c=N(h),U(a.$$.fragment,h),this.h()},h(){m(i,"class","users svelte-1w8krv2")},m(h,p){W(e,h,p),P(h,t,p),P(h,r,p),P(h,s,p),P(h,i,p);for(let d=0;d<o.length;d+=1)o[d]&&o[d].m(i,null);P(h,c,p),W(a,h,p),f=!0},p(h,[p]){const d={};if(p&1048576&&(d.$$scope={dirty:p,ctx:h}),e.$set(d),p&6183){v=fe(h[0]);let _;for(_=0;_<v.length;_+=1){const b=Ol(h,v,_);o[_]?(o[_].p(b,p),$(o[_],1)):(o[_]=jl(b),o[_].c(),$(o[_],1),o[_].m(i,null))}for(ae(),_=v.length;_<o.length;_+=1)u(_);ce()}const y={};p&1048600&&(y.$$scope={dirty:p,ctx:h}),a.$set(y)},i(h){if(!f){$(e.$$.fragment,h);for(let p=0;p<v.length;p+=1)$(o[p]);$(a.$$.fragment,h),f=!0}},o(h){E(e.$$.fragment,h),o=o.filter(Boolean);for(let p=0;p<o.length;p+=1)E(o[p]);E(a.$$.fragment,h),f=!1},d(h){h&&(g(t),g(r),g(s),g(i),g(c)),z(e,h),je(o,h),z(a,h)}}}function Cv(n,e,t){let r,l,s,i,c;const{userId:a,user:f,machine:v}=Ve();se(n,f,I=>t(4,c=I));const o=ue(v.service,I=>I.can({type:"assign side",otherUserId:"",side:"attack"}));se(n,o,I=>t(1,l=I));const u=ue(v.service,I=>I.can({type:"assign admin",otherUserId:"",isAdmin:!0}));se(n,u,I=>t(2,s=I));const h=ue(v.service,I=>I.can({type:"next step"}));se(n,h,I=>t(3,i=I));const p=ue(v.service,I=>I.context.users);se(n,p,I=>t(0,r=I));const d=(I,D)=>{v.send({type:"assign side",otherUserId:I,side:D})},y=(I,D)=>{v.send({type:"assign admin",otherUserId:I,isAdmin:D})};return[r,l,s,i,c,a,v,o,u,h,p,d,y,f,I=>d(I.id,"attack"),I=>d(I.id,"defense"),I=>y(I.id,!I.isAdmin),()=>v.send({type:"next step"})]}class Dv extends de{constructor(e){super(),ve(this,e,Cv,Mv,he,{})}}function jv(n){let e,t,r;return{c(){e=F("svg"),t=F("path"),r=F("path"),this.h()},l(l){e=R(l,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var s=S(e);t=R(s,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),S(t).forEach(g),r=R(s,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0}),S(r).forEach(g),s.forEach(g),this.h()},h(){m(t,"fill-rule","evenodd"),m(t,"clip-rule","evenodd"),m(t,"d","M16 30C23.732 30 30 23.732 30 16C30 8.26801 23.732 2 16 2C8.26801 2 2 8.26801 2 16C2 23.732 8.26801 30 16 30ZM16 32C24.8366 32 32 24.8366 32 16C32 7.16344 24.8366 0 16 0C7.16344 0 0 7.16344 0 16C0 24.8366 7.16344 32 16 32Z"),m(t,"fill","currentColor"),m(r,"d","M20.8002 11.1997L11.2002 20.7997M11.2002 11.1997L20.8002 20.7997"),m(r,"stroke","currentColor"),m(r,"stroke-width","2.66667"),m(r,"stroke-linecap","round"),m(r,"stroke-linejoin","round"),m(e,"width","32"),m(e,"height","32"),m(e,"viewBox","0 0 32 32"),m(e,"fill","none"),m(e,"xmlns","http://www.w3.org/2000/svg")},m(l,s){P(l,e,s),A(e,t),A(e,r)},p:ne,i:ne,o:ne,d(l){l&&g(e)}}}class Lv extends de{constructor(e){super(),ve(this,e,null,jv,he,{})}}function Ll(n){let e;return{c(){e=ee(n[0])},l(t){e=te(t,n[0])},m(t,r){P(t,e,r)},p(t,r){r&1&&Ie(e,t[0])},d(t){t&&g(e)}}}function Fv(n){let e,t=n[0]&&Ll(n);return{c(){t&&t.c(),e=ye()},l(r){t&&t.l(r),e=ye()},m(r,l){t&&t.m(r,l),P(r,e,l)},p(r,l){r[0]?t?t.p(r,l):(t=Ll(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(r){r&&g(e),t&&t.d(r)}}}function Rv(n){let e,t,r,l,s;return t=new Lv({}),{c(){e=H("button"),q(t.$$.fragment),this.h()},l(i){e=V(i,"BUTTON",{class:!0,slot:!0});var c=S(e);U(t.$$.fragment,c),c.forEach(g),this.h()},h(){m(e,"class","unstyled close-button svelte-m0m887"),m(e,"slot","info")},m(i,c){P(i,e,c),W(t,e,null),r=!0,l||(s=we(e,"click",n[2]),l=!0)},p:ne,i(i){r||($(t.$$.fragment,i),r=!0)},o(i){E(t.$$.fragment,i),r=!1},d(i){i&&g(e),z(t),l=!1,s()}}}function Bv(n){let e,t,r,l,s,i;t=new Ht({props:{separator:!0,$$slots:{info:[Rv],default:[Fv]},$$scope:{ctx:n}}});const c=n[4].default,a=Oe(c,n,n[7],null);return{c(){e=H("dialog"),q(t.$$.fragment),r=Z(),a&&a.c(),this.h()},l(f){e=V(f,"DIALOG",{class:!0});var v=S(e);U(t.$$.fragment,v),r=N(v),a&&a.l(v),v.forEach(g),this.h()},h(){m(e,"class","svelte-m0m887")},m(f,v){P(f,e,v),W(t,e,null),A(e,r),a&&a.m(e,null),n[6](e),l=!0,s||(i=we(e,"close",n[5]),s=!0)},p(f,[v]){const o={};v&129&&(o.$$scope={dirty:v,ctx:f}),t.$set(o),a&&a.p&&(!l||v&128)&&Pe(a,c,f,f[7],l?Ce(c,f[7],v,null):Me(f[7]),null)},i(f){l||($(t.$$.fragment,f),$(a,f),l=!0)},o(f){E(t.$$.fragment,f),E(a,f),l=!1},d(f){f&&g(e),z(t),a&&a.d(f),n[6](null),s=!1,i()}}}function Hv(n,e,t){let{$$slots:r={},$$scope:l}=e,{open:s=!1}=e,{title:i=""}=e,c;const a=()=>{c.close()};function f(o){pn.call(this,n,o)}function v(o){nn[o?"unshift":"push"](()=>{c=o,t(1,c)})}return n.$$set=o=>{"open"in o&&t(3,s=o.open),"title"in o&&t(0,i=o.title),"$$scope"in o&&t(7,l=o.$$scope)},n.$$.update=()=>{n.$$.dirty&10&&c&&(s?c.showModal():c.close())},[i,c,a,s,r,f,v,l]}class Vv extends de{constructor(e){super(),ve(this,e,Hv,Bv,he,{open:3,title:0})}}const c1=Math.min,rn=Math.max,f1=Math.round,Yn=Math.floor,Zt=n=>({x:n,y:n}),Zv={left:"right",right:"left",bottom:"top",top:"bottom"},Nv={start:"end",end:"start"};function Fl(n,e,t){return rn(n,c1(e,t))}function E1(n,e){return typeof n=="function"?n(e):n}function on(n){return n.split("-")[0]}function T1(n){return n.split("-")[1]}function zs(n){return n==="x"?"y":"x"}function xs(n){return n==="y"?"height":"width"}function I1(n){return["top","bottom"].includes(on(n))?"y":"x"}function Xs(n){return zs(I1(n))}function Gv(n,e,t){t===void 0&&(t=!1);const r=T1(n),l=Xs(n),s=xs(l);let i=l==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(i=u1(i)),[i,u1(i)]}function qv(n){const e=u1(n);return[ir(n),e,ir(e)]}function ir(n){return n.replace(/start|end/g,e=>Nv[e])}function Uv(n,e,t){const r=["left","right"],l=["right","left"],s=["top","bottom"],i=["bottom","top"];switch(n){case"top":case"bottom":return t?e?l:r:e?r:l;case"left":case"right":return e?s:i;default:return[]}}function Wv(n,e,t,r){const l=T1(n);let s=Uv(on(n),t==="start",r);return l&&(s=s.map(i=>i+"-"+l),e&&(s=s.concat(s.map(ir)))),s}function u1(n){return n.replace(/left|right|bottom|top/g,e=>Zv[e])}function zv(n){return{top:0,right:0,bottom:0,left:0,...n}}function xv(n){return typeof n!="number"?zv(n):{top:n,right:n,bottom:n,left:n}}function h1(n){return{...n,top:n.y,left:n.x,right:n.x+n.width,bottom:n.y+n.height}}function Rl(n,e,t){let{reference:r,floating:l}=n;const s=I1(e),i=Xs(e),c=xs(i),a=on(e),f=s==="y",v=r.x+r.width/2-l.width/2,o=r.y+r.height/2-l.height/2,u=r[c]/2-l[c]/2;let h;switch(a){case"top":h={x:v,y:r.y-l.height};break;case"bottom":h={x:v,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:o};break;case"left":h={x:r.x-l.width,y:o};break;default:h={x:r.x,y:r.y}}switch(T1(e)){case"start":h[i]-=u*(t&&f?-1:1);break;case"end":h[i]+=u*(t&&f?-1:1);break}return h}const Xv=async(n,e,t)=>{const{placement:r="bottom",strategy:l="absolute",middleware:s=[],platform:i}=t,c=s.filter(Boolean),a=await(i.isRTL==null?void 0:i.isRTL(e));let f=await i.getElementRects({reference:n,floating:e,strategy:l}),{x:v,y:o}=Rl(f,r,a),u=r,h={},p=0;for(let d=0;d<c.length;d++){const{name:y,fn:_}=c[d],{x:b,y:T,data:M,reset:I}=await _({x:v,y:o,initialPlacement:r,placement:u,strategy:l,middlewareData:h,rects:f,platform:i,elements:{reference:n,floating:e}});if(v=b??v,o=T??o,h={...h,[y]:{...h[y],...M}},I&&p<=50){p++,typeof I=="object"&&(I.placement&&(u=I.placement),I.rects&&(f=I.rects===!0?await i.getElementRects({reference:n,floating:e,strategy:l}):I.rects),{x:v,y:o}=Rl(f,u,a)),d=-1;continue}}return{x:v,y:o,placement:u,strategy:l,middlewareData:h}};async function Ks(n,e){var t;e===void 0&&(e={});const{x:r,y:l,platform:s,rects:i,elements:c,strategy:a}=n,{boundary:f="clippingAncestors",rootBoundary:v="viewport",elementContext:o="floating",altBoundary:u=!1,padding:h=0}=E1(e,n),p=xv(h),y=c[u?o==="floating"?"reference":"floating":o],_=h1(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(y)))==null||t?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:f,rootBoundary:v,strategy:a})),b=o==="floating"?{...i.floating,x:r,y:l}:i.reference,T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),M=await(s.isElement==null?void 0:s.isElement(T))?await(s.getScale==null?void 0:s.getScale(T))||{x:1,y:1}:{x:1,y:1},I=h1(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:b,offsetParent:T,strategy:a}):b);return{top:(_.top-I.top+p.top)/M.y,bottom:(I.bottom-_.bottom+p.bottom)/M.y,left:(_.left-I.left+p.left)/M.x,right:(I.right-_.right+p.right)/M.x}}const Kv=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t;const{placement:r,middlewareData:l,rects:s,initialPlacement:i,platform:c,elements:a}=e,{mainAxis:f=!0,crossAxis:v=!0,fallbackPlacements:o,fallbackStrategy:u="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:p=!0,...d}=E1(n,e),y=on(r),_=on(i)===i,b=await(c.isRTL==null?void 0:c.isRTL(a.floating)),T=o||(_||!p?[u1(i)]:qv(i));!o&&h!=="none"&&T.push(...Wv(i,p,h,b));const M=[i,...T],I=await Ks(e,d),D=[];let B=((t=l.flip)==null?void 0:t.overflows)||[];if(f&&D.push(I[y]),v){const k=Gv(r,s,b);D.push(I[k[0]],I[k[1]])}if(B=[...B,{placement:r,overflows:D}],!D.every(k=>k<=0)){var C,L;const k=(((C=l.flip)==null?void 0:C.index)||0)+1,O=M[k];if(O)return{data:{index:k,overflows:B},reset:{placement:O}};let X=(L=B.filter(x=>x.overflows[0]<=0).sort((x,oe)=>x.overflows[1]-oe.overflows[1])[0])==null?void 0:L.placement;if(!X)switch(u){case"bestFit":{var j;const x=(j=B.map(oe=>[oe.placement,oe.overflows.filter(ie=>ie>0).reduce((ie,ke)=>ie+ke,0)]).sort((oe,ie)=>oe[1]-ie[1])[0])==null?void 0:j[0];x&&(X=x);break}case"initialPlacement":X=i;break}if(r!==X)return{reset:{placement:X}}}return{}}}};async function Jv(n,e){const{placement:t,platform:r,elements:l}=n,s=await(r.isRTL==null?void 0:r.isRTL(l.floating)),i=on(t),c=T1(t),a=I1(t)==="y",f=["left","top"].includes(i)?-1:1,v=s&&a?-1:1,o=E1(e,n);let{mainAxis:u,crossAxis:h,alignmentAxis:p}=typeof o=="number"?{mainAxis:o,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...o};return c&&typeof p=="number"&&(h=c==="end"?p*-1:p),a?{x:h*v,y:u*f}:{x:u*f,y:h*v}}const Qv=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){const{x:t,y:r}=e,l=await Jv(e,n);return{x:t+l.x,y:r+l.y,data:l}}}},Yv=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:l}=e,{mainAxis:s=!0,crossAxis:i=!1,limiter:c={fn:y=>{let{x:_,y:b}=y;return{x:_,y:b}}},...a}=E1(n,e),f={x:t,y:r},v=await Ks(e,a),o=I1(on(l)),u=zs(o);let h=f[u],p=f[o];if(s){const y=u==="y"?"top":"left",_=u==="y"?"bottom":"right",b=h+v[y],T=h-v[_];h=Fl(b,h,T)}if(i){const y=o==="y"?"top":"left",_=o==="y"?"bottom":"right",b=p+v[y],T=p-v[_];p=Fl(b,p,T)}const d=c.fn({...e,[u]:h,[o]:p});return{...d,data:{x:d.x-t,y:d.y-r}}}}};function Nt(n){return Js(n)?(n.nodeName||"").toLowerCase():"#document"}function ze(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Et(n){var e;return(e=(Js(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function Js(n){return n instanceof Node||n instanceof ze(n).Node}function $t(n){return n instanceof Element||n instanceof ze(n).Element}function ut(n){return n instanceof HTMLElement||n instanceof ze(n).HTMLElement}function Bl(n){return typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof ze(n).ShadowRoot}function Un(n){const{overflow:e,overflowX:t,overflowY:r,display:l}=Ke(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(l)}function e0(n){return["table","td","th"].includes(Nt(n))}function $r(n){const e=Sr(),t=Ke(n);return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function t0(n){let e=wn(n);for(;ut(e)&&!O1(e);){if($r(e))return e;e=wn(e)}return null}function Sr(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function O1(n){return["html","body","#document"].includes(Nt(n))}function Ke(n){return ze(n).getComputedStyle(n)}function P1(n){return $t(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function wn(n){if(Nt(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Bl(n)&&n.host||Et(n);return Bl(e)?e.host:e}function Qs(n){const e=wn(n);return O1(e)?n.ownerDocument?n.ownerDocument.body:n.body:ut(e)&&Un(e)?e:Qs(e)}function d1(n,e){var t;e===void 0&&(e=[]);const r=Qs(n),l=r===((t=n.ownerDocument)==null?void 0:t.body),s=ze(r);return l?e.concat(s,s.visualViewport||[],Un(r)?r:[]):e.concat(r,d1(r))}function Ys(n){const e=Ke(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const l=ut(n),s=l?n.offsetWidth:t,i=l?n.offsetHeight:r,c=f1(t)!==s||f1(r)!==i;return c&&(t=s,r=i),{width:t,height:r,$:c}}function Er(n){return $t(n)?n:n.contextElement}function mn(n){const e=Er(n);if(!ut(e))return Zt(1);const t=e.getBoundingClientRect(),{width:r,height:l,$:s}=Ys(e);let i=(s?f1(t.width):t.width)/r,c=(s?f1(t.height):t.height)/l;return(!i||!Number.isFinite(i))&&(i=1),(!c||!Number.isFinite(c))&&(c=1),{x:i,y:c}}const n0=Zt(0);function eo(n){const e=ze(n);return!Sr()||!e.visualViewport?n0:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function r0(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==ze(n)?!1:e}function an(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const l=n.getBoundingClientRect(),s=Er(n);let i=Zt(1);e&&(r?$t(r)&&(i=mn(r)):i=mn(n));const c=r0(s,t,r)?eo(s):Zt(0);let a=(l.left+c.x)/i.x,f=(l.top+c.y)/i.y,v=l.width/i.x,o=l.height/i.y;if(s){const u=ze(s),h=r&&$t(r)?ze(r):r;let p=u.frameElement;for(;p&&r&&h!==u;){const d=mn(p),y=p.getBoundingClientRect(),_=Ke(p),b=y.left+(p.clientLeft+parseFloat(_.paddingLeft))*d.x,T=y.top+(p.clientTop+parseFloat(_.paddingTop))*d.y;a*=d.x,f*=d.y,v*=d.x,o*=d.y,a+=b,f+=T,p=ze(p).frameElement}}return h1({width:v,height:o,x:a,y:f})}function l0(n){let{rect:e,offsetParent:t,strategy:r}=n;const l=ut(t),s=Et(t);if(t===s)return e;let i={scrollLeft:0,scrollTop:0},c=Zt(1);const a=Zt(0);if((l||!l&&r!=="fixed")&&((Nt(t)!=="body"||Un(s))&&(i=P1(t)),ut(t))){const f=an(t);c=mn(t),a.x=f.x+t.clientLeft,a.y=f.y+t.clientTop}return{width:e.width*c.x,height:e.height*c.y,x:e.x*c.x-i.scrollLeft*c.x+a.x,y:e.y*c.y-i.scrollTop*c.y+a.y}}function i0(n){return Array.from(n.getClientRects())}function to(n){return an(Et(n)).left+P1(n).scrollLeft}function s0(n){const e=Et(n),t=P1(n),r=n.ownerDocument.body,l=rn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=rn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let i=-t.scrollLeft+to(n);const c=-t.scrollTop;return Ke(r).direction==="rtl"&&(i+=rn(e.clientWidth,r.clientWidth)-l),{width:l,height:s,x:i,y:c}}function o0(n,e){const t=ze(n),r=Et(n),l=t.visualViewport;let s=r.clientWidth,i=r.clientHeight,c=0,a=0;if(l){s=l.width,i=l.height;const f=Sr();(!f||f&&e==="fixed")&&(c=l.offsetLeft,a=l.offsetTop)}return{width:s,height:i,x:c,y:a}}function a0(n,e){const t=an(n,!0,e==="fixed"),r=t.top+n.clientTop,l=t.left+n.clientLeft,s=ut(n)?mn(n):Zt(1),i=n.clientWidth*s.x,c=n.clientHeight*s.y,a=l*s.x,f=r*s.y;return{width:i,height:c,x:a,y:f}}function Hl(n,e,t){let r;if(e==="viewport")r=o0(n,t);else if(e==="document")r=s0(Et(n));else if($t(e))r=a0(e,t);else{const l=eo(n);r={...e,x:e.x-l.x,y:e.y-l.y}}return h1(r)}function no(n,e){const t=wn(n);return t===e||!$t(t)||O1(t)?!1:Ke(t).position==="fixed"||no(t,e)}function c0(n,e){const t=e.get(n);if(t)return t;let r=d1(n).filter(c=>$t(c)&&Nt(c)!=="body"),l=null;const s=Ke(n).position==="fixed";let i=s?wn(n):n;for(;$t(i)&&!O1(i);){const c=Ke(i),a=$r(i);!a&&c.position==="fixed"&&(l=null),(s?!a&&!l:!a&&c.position==="static"&&!!l&&["absolute","fixed"].includes(l.position)||Un(i)&&!a&&no(n,i))?r=r.filter(v=>v!==i):l=c,i=wn(i)}return e.set(n,r),r}function f0(n){let{element:e,boundary:t,rootBoundary:r,strategy:l}=n;const i=[...t==="clippingAncestors"?c0(e,this._c):[].concat(t),r],c=i[0],a=i.reduce((f,v)=>{const o=Hl(e,v,l);return f.top=rn(o.top,f.top),f.right=c1(o.right,f.right),f.bottom=c1(o.bottom,f.bottom),f.left=rn(o.left,f.left),f},Hl(e,c,l));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function u0(n){return Ys(n)}function h0(n,e,t){const r=ut(e),l=Et(e),s=t==="fixed",i=an(n,!0,s,e);let c={scrollLeft:0,scrollTop:0};const a=Zt(0);if(r||!r&&!s)if((Nt(e)!=="body"||Un(l))&&(c=P1(e)),r){const f=an(e,!0,s,e);a.x=f.x+e.clientLeft,a.y=f.y+e.clientTop}else l&&(a.x=to(l));return{x:i.left+c.scrollLeft-a.x,y:i.top+c.scrollTop-a.y,width:i.width,height:i.height}}function Vl(n,e){return!ut(n)||Ke(n).position==="fixed"?null:e?e(n):n.offsetParent}function ro(n,e){const t=ze(n);if(!ut(n))return t;let r=Vl(n,e);for(;r&&e0(r)&&Ke(r).position==="static";)r=Vl(r,e);return r&&(Nt(r)==="html"||Nt(r)==="body"&&Ke(r).position==="static"&&!$r(r))?t:r||t0(n)||t}const d0=async function(n){let{reference:e,floating:t,strategy:r}=n;const l=this.getOffsetParent||ro,s=this.getDimensions;return{reference:h0(e,await l(t),r),floating:{x:0,y:0,...await s(t)}}};function v0(n){return Ke(n).direction==="rtl"}const p0={convertOffsetParentRelativeRectToViewportRelativeRect:l0,getDocumentElement:Et,getClippingRect:f0,getOffsetParent:ro,getElementRects:d0,getClientRects:i0,getDimensions:u0,getScale:mn,isElement:$t,isRTL:v0};function _0(n,e){let t=null,r;const l=Et(n);function s(){clearTimeout(r),t&&t.disconnect(),t=null}function i(c,a){c===void 0&&(c=!1),a===void 0&&(a=1),s();const{left:f,top:v,width:o,height:u}=n.getBoundingClientRect();if(c||e(),!o||!u)return;const h=Yn(v),p=Yn(l.clientWidth-(f+o)),d=Yn(l.clientHeight-(v+u)),y=Yn(f),b={rootMargin:-h+"px "+-p+"px "+-d+"px "+-y+"px",threshold:rn(0,c1(1,a))||1};let T=!0;function M(I){const D=I[0].intersectionRatio;if(D!==a){if(!T)return i();D?i(!1,D):r=setTimeout(()=>{i(!1,1e-7)},100)}T=!1}try{t=new IntersectionObserver(M,{...b,root:l.ownerDocument})}catch{t=new IntersectionObserver(M,b)}t.observe(n)}return i(!0),s}function m0(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:l=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:a=!1}=r,f=Er(n),v=l||s?[...f?d1(f):[],...d1(e)]:[];v.forEach(_=>{l&&_.addEventListener("scroll",t,{passive:!0}),s&&_.addEventListener("resize",t)});const o=f&&c?_0(f,t):null;let u=-1,h=null;i&&(h=new ResizeObserver(_=>{let[b]=_;b&&b.target===f&&h&&(h.unobserve(e),cancelAnimationFrame(u),u=requestAnimationFrame(()=>{h&&h.observe(e)})),t()}),f&&!a&&h.observe(f),h.observe(e));let p,d=a?an(n):null;a&&y();function y(){const _=an(n);d&&(_.x!==d.x||_.y!==d.y||_.width!==d.width||_.height!==d.height)&&t(),d=_,p=requestAnimationFrame(y)}return t(),()=>{v.forEach(_=>{l&&_.removeEventListener("scroll",t),s&&_.removeEventListener("resize",t)}),o&&o(),h&&h.disconnect(),h=null,a&&cancelAnimationFrame(p)}}const g0=(n,e,t)=>{const r=new Map,l={platform:p0,...t},s={...l.platform,_c:r};return Xv(n,e,{...l,platform:s})};function y0(n){let e,t;const r={autoUpdate:!0};let l=n;const s=v=>({...r,...n||{},...v||{}}),i=v=>{e&&t&&(l=s(v),g0(e,t,l).then(o=>{Object.assign(t.style,{position:o.strategy,left:`${o.x}px`,top:`${o.y}px`}),l!=null&&l.onComputed&&l.onComputed(o)}))},c=v=>{if("subscribe"in v)return f(v),{};e=v,i()},a=(v,o)=>{let u;t=v,l=s(o),setTimeout(()=>i(o),0),i(o);const h=()=>{u&&(u(),u=void 0)},p=({autoUpdate:d}=l||{})=>{if(h(),d!==!1)return m0(e,t,()=>i(l),d===!0?{}:d)};return u=p(),{update(d){i(d),u=p(d)},destroy(){h()}}},f=v=>{const o=v.subscribe(u=>{e===void 0?(e=u,i()):(Object.assign(e,u),i())});sr(o)};return[c,a,i]}function b0({loadOptions:n,filterText:e,items:t,multiple:r,value:l,itemId:s,groupBy:i,filterSelectedItems:c,itemFilter:a,convertStringItemsToObjects:f,filterGroupedItems:v,label:o}){if(t&&n)return t;if(!t)return[];t&&t.length>0&&typeof t[0]!="object"&&(t=f(t));let u=t.filter(h=>{let p=a(h[o],e,h);return p&&r&&(l!=null&&l.length)&&(p=!l.some(d=>c?d[s]===h[s]:!1)),p});return i&&(u=v(u)),u}async function w0({dispatch:n,loadOptions:e,convertStringItemsToObjects:t,filterText:r}){let l=await e(r).catch(s=>{console.warn("svelte-select loadOptions error :>> ",s),n("error",{type:"loadOptions",details:s})});if(l&&!l.cancelled)return l?(l&&l.length>0&&typeof l[0]!="object"&&(l=t(l)),n("loaded",{items:l})):l=[],{filteredItems:l,loading:!1,focused:!0,listOpen:!0}}function k0(n){let e,t;return{c(){e=F("svg"),t=F("path"),this.h()},l(r){e=R(r,"svg",{width:!0,height:!0,viewBox:!0,focusable:!0,"aria-hidden":!0,class:!0});var l=S(e);t=R(l,"path",{fill:!0,d:!0}),S(t).forEach(g),l.forEach(g),this.h()},h(){m(t,"fill","currentColor"),m(t,"d",`M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747
          3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0
          1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502
          0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0
          0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z`),m(e,"width","100%"),m(e,"height","100%"),m(e,"viewBox","0 0 20 20"),m(e,"focusable","false"),m(e,"aria-hidden","true"),m(e,"class","svelte-qbd276")},m(r,l){P(r,e,l),A(e,t)},p:ne,i:ne,o:ne,d(r){r&&g(e)}}}class A0 extends de{constructor(e){super(),ve(this,e,null,k0,he,{})}}function $0(n){let e,t;return{c(){e=F("svg"),t=F("path"),this.h()},l(r){e=R(r,"svg",{width:!0,height:!0,viewBox:!0,focusable:!0,"aria-hidden":!0,role:!0,class:!0});var l=S(e);t=R(l,"path",{fill:!0,d:!0}),S(t).forEach(g),l.forEach(g),this.h()},h(){m(t,"fill","currentColor"),m(t,"d",`M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124
    l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z`),m(e,"width","100%"),m(e,"height","100%"),m(e,"viewBox","-2 -2 50 50"),m(e,"focusable","false"),m(e,"aria-hidden","true"),m(e,"role","presentation"),m(e,"class","svelte-whdbu1")},m(r,l){P(r,e,l),A(e,t)},p:ne,i:ne,o:ne,d(r){r&&g(e)}}}class v1 extends de{constructor(e){super(),ve(this,e,null,$0,he,{})}}function S0(n){let e,t;return{c(){e=F("svg"),t=F("circle"),this.h()},l(r){e=R(r,"svg",{class:!0,viewBox:!0});var l=S(e);t=R(l,"circle",{class:!0,cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0}),S(t).forEach(g),l.forEach(g),this.h()},h(){m(t,"class","circle_path svelte-1p3nqvd"),m(t,"cx","50"),m(t,"cy","50"),m(t,"r","20"),m(t,"fill","none"),m(t,"stroke","currentColor"),m(t,"stroke-width","5"),m(t,"stroke-miterlimit","10"),m(e,"class","loading svelte-1p3nqvd"),m(e,"viewBox","25 25 50 50")},m(r,l){P(r,e,l),A(e,t)},p:ne,i:ne,o:ne,d(r){r&&g(e)}}}class E0 extends de{constructor(e){super(),ve(this,e,null,S0,he,{})}}const T0=n=>({value:n[0]&8}),Zl=n=>({value:n[3]}),I0=n=>({value:n[0]&8}),Nl=n=>({value:n[3]}),O0=n=>({listOpen:n[0]&64}),Gl=n=>({listOpen:n[6]}),P0=n=>({}),ql=n=>({}),M0=n=>({}),Ul=n=>({}),C0=n=>({selection:n[0]&8}),Wl=n=>({selection:n[3]});function zl(n,e,t){const r=n.slice();return r[125]=e[t],r[127]=t,r}const D0=n=>({}),xl=n=>({}),j0=n=>({selection:n[0]&8}),Xl=n=>({selection:n[125],index:n[127]}),L0=n=>({}),Kl=n=>({}),F0=n=>({}),Jl=n=>({}),R0=n=>({}),Ql=n=>({});function Yl(n,e,t){const r=n.slice();return r[125]=e[t],r[127]=t,r}const B0=n=>({item:n[0]&16777216}),ei=n=>({item:n[125],index:n[127]}),H0=n=>({filteredItems:n[0]&16777216}),ti=n=>({filteredItems:n[24]}),V0=n=>({}),ni=n=>({});function ri(n){let e,t,r,l,s,i,c,a,f=n[50]["list-prepend"]&&li(n);const v=[G0,N0,Z0],o=[];function u(p,d){return p[50].list?0:p[24].length>0?1:p[19]?-1:2}~(r=u(n))&&(l=o[r]=v[r](n));let h=n[50]["list-append"]&&si(n);return{c(){e=H("div"),f&&f.c(),t=Z(),l&&l.c(),s=Z(),h&&h.c(),this.h()},l(p){e=V(p,"DIV",{class:!0});var d=S(e);f&&f.l(d),t=N(d),l&&l.l(d),s=N(d),h&&h.l(d),d.forEach(g),this.h()},h(){m(e,"class","svelte-select-list svelte-apvs86"),Y(e,"prefloat",n[28])},m(p,d){P(p,e,d),f&&f.m(e,null),A(e,t),~r&&o[r].m(e,null),A(e,s),h&&h.m(e,null),n[90](e),i=!0,c||(a=[n1(n[49].call(null,e)),we(e,"scroll",n[41]),we(e,"pointerup",jn(ln(n[85])))],c=!0)},p(p,d){p[50]["list-prepend"]?f?(f.p(p,d),d[1]&524288&&$(f,1)):(f=li(p),f.c(),$(f,1),f.m(e,t)):f&&(ae(),E(f,1,1,()=>{f=null}),ce());let y=r;r=u(p),r===y?~r&&o[r].p(p,d):(l&&(ae(),E(o[y],1,1,()=>{o[y]=null}),ce()),~r?(l=o[r],l?l.p(p,d):(l=o[r]=v[r](p),l.c()),$(l,1),l.m(e,s)):l=null),p[50]["list-append"]?h?(h.p(p,d),d[1]&524288&&$(h,1)):(h=si(p),h.c(),$(h,1),h.m(e,null)):h&&(ae(),E(h,1,1,()=>{h=null}),ce()),(!i||d[0]&268435456)&&Y(e,"prefloat",p[28])},i(p){i||($(f),$(l),$(h),i=!0)},o(p){E(f),E(l),E(h),i=!1},d(p){p&&g(e),f&&f.d(),~r&&o[r].d(),h&&h.d(),n[90](null),c=!1,_1(a)}}}function li(n){let e;const t=n[82]["list-prepend"],r=Oe(t,n,n[81],ni);return{c(){r&&r.c()},l(l){r&&r.l(l)},m(l,s){r&&r.m(l,s),e=!0},p(l,s){r&&r.p&&(!e||s[2]&524288)&&Pe(r,t,l,l[81],e?Ce(t,l[81],s,V0):Me(l[81]),ni)},i(l){e||($(r,l),e=!0)},o(l){E(r,l),e=!1},d(l){r&&r.d(l)}}}function Z0(n){let e;const t=n[82].empty,r=Oe(t,n,n[81],Ql),l=r||q0();return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,i){l&&l.m(s,i),e=!0},p(s,i){r&&r.p&&(!e||i[2]&524288)&&Pe(r,t,s,s[81],e?Ce(t,s[81],i,R0):Me(s[81]),Ql)},i(s){e||($(l,s),e=!0)},o(s){E(l,s),e=!1},d(s){l&&l.d(s)}}}function N0(n){let e,t,r=fe(n[24]),l=[];for(let i=0;i<r.length;i+=1)l[i]=ii(Yl(n,r,i));const s=i=>E(l[i],1,1,()=>{l[i]=null});return{c(){for(let i=0;i<l.length;i+=1)l[i].c();e=ye()},l(i){for(let c=0;c<l.length;c+=1)l[c].l(i);e=ye()},m(i,c){for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(i,c);P(i,e,c),t=!0},p(i,c){if(c[0]&1627402376|c[1]&28672|c[2]&524288){r=fe(i[24]);let a;for(a=0;a<r.length;a+=1){const f=Yl(i,r,a);l[a]?(l[a].p(f,c),$(l[a],1)):(l[a]=ii(f),l[a].c(),$(l[a],1),l[a].m(e.parentNode,e))}for(ae(),a=r.length;a<l.length;a+=1)s(a);ce()}},i(i){if(!t){for(let c=0;c<r.length;c+=1)$(l[c]);t=!0}},o(i){l=l.filter(Boolean);for(let c=0;c<l.length;c+=1)E(l[c]);t=!1},d(i){i&&g(e),je(l,i)}}}function G0(n){let e;const t=n[82].list,r=Oe(t,n,n[81],ti);return{c(){r&&r.c()},l(l){r&&r.l(l)},m(l,s){r&&r.m(l,s),e=!0},p(l,s){r&&r.p&&(!e||s[0]&16777216|s[2]&524288)&&Pe(r,t,l,l[81],e?Ce(t,l[81],s,H0):Me(l[81]),ti)},i(l){e||($(r,l),e=!0)},o(l){E(r,l),e=!1},d(l){r&&r.d(l)}}}function q0(n){let e,t="No options";return{c(){e=H("div"),e.textContent=t,this.h()},l(r){e=V(r,"DIV",{class:!0,"data-svelte-h":!0}),Vt(e)!=="svelte-16ffy3h"&&(e.textContent=t),this.h()},h(){m(e,"class","empty svelte-apvs86")},m(r,l){P(r,e,l)},p:ne,d(r){r&&g(e)}}}function U0(n){var r;let e=((r=n[125])==null?void 0:r[n[12]])+"",t;return{c(){t=ee(e)},l(l){t=te(l,e)},m(l,s){P(l,t,s)},p(l,s){var i;s[0]&16781312&&e!==(e=((i=l[125])==null?void 0:i[l[12]])+"")&&Ie(t,e)},d(l){l&&g(t)}}}function ii(n){let e,t,r,l,s,i,c,a;const f=n[82].item,v=Oe(f,n,n[81],ei),o=v||U0(n);function u(){return n[87](n[127])}function h(){return n[88](n[127])}function p(){return n[89](n[125],n[127])}return{c(){e=H("div"),t=H("div"),o&&o.c(),s=Z(),this.h()},l(d){e=V(d,"DIV",{class:!0,tabindex:!0});var y=S(e);t=V(y,"DIV",{class:!0});var _=S(t);o&&o.l(_),_.forEach(g),s=N(y),y.forEach(g),this.h()},h(){var d;m(t,"class","item svelte-apvs86"),Y(t,"list-group-title",n[125].groupHeader),Y(t,"active",n[45](n[125],n[3],n[13])),Y(t,"first",rp(n[127])),Y(t,"hover",n[7]===n[127]),Y(t,"group-item",n[125].groupItem),Y(t,"not-selectable",((d=n[125])==null?void 0:d.selectable)===!1),m(e,"class","list-item svelte-apvs86"),m(e,"tabindex","-1")},m(d,y){P(d,e,y),A(e,t),o&&o.m(t,null),A(e,s),i=!0,c||(a=[n1(r=n[46].call(null,t,{scroll:n[45](n[125],n[3],n[13]),listDom:n[30]})),n1(l=n[47].call(null,t,{scroll:n[29]===n[127],listDom:n[30]})),we(e,"mouseover",u),we(e,"focus",h),we(e,"click",jn(p)),we(e,"keydown",jn(ln(n[86])))],c=!0)},p(d,y){var _;n=d,v?v.p&&(!i||y[0]&16777216|y[2]&524288)&&Pe(v,f,n,n[81],i?Ce(f,n[81],y,B0):Me(n[81]),ei):o&&o.p&&(!i||y[0]&16781312)&&o.p(n,i?y:[-1,-1,-1,-1,-1]),r&&G1(r.update)&&y[0]&1090527240&&r.update.call(null,{scroll:n[45](n[125],n[3],n[13]),listDom:n[30]}),l&&G1(l.update)&&y[0]&1610612736&&l.update.call(null,{scroll:n[29]===n[127],listDom:n[30]}),(!i||y[0]&16777216)&&Y(t,"list-group-title",n[125].groupHeader),(!i||y[0]&16785416|y[1]&16384)&&Y(t,"active",n[45](n[125],n[3],n[13])),(!i||y[0]&128)&&Y(t,"hover",n[7]===n[127]),(!i||y[0]&16777216)&&Y(t,"group-item",n[125].groupItem),(!i||y[0]&16777216)&&Y(t,"not-selectable",((_=n[125])==null?void 0:_.selectable)===!1)},i(d){i||($(o,d),i=!0)},o(d){E(o,d),i=!1},d(d){d&&g(e),o&&o.d(d),c=!1,_1(a)}}}function si(n){let e;const t=n[82]["list-append"],r=Oe(t,n,n[81],Jl);return{c(){r&&r.c()},l(l){r&&r.l(l)},m(l,s){r&&r.m(l,s),e=!0},p(l,s){r&&r.p&&(!e||s[2]&524288)&&Pe(r,t,l,l[81],e?Ce(t,l[81],s,F0):Me(l[81]),Jl)},i(l){e||($(r,l),e=!0)},o(l){E(r,l),e=!1},d(l){r&&r.d(l)}}}function oi(n){let e,t,r,l,s;return{c(){e=H("span"),t=ee(n[32]),r=Z(),l=H("span"),s=ee(n[31]),this.h()},l(i){e=V(i,"SPAN",{id:!0,class:!0});var c=S(e);t=te(c,n[32]),c.forEach(g),r=N(i),l=V(i,"SPAN",{id:!0,class:!0});var a=S(l);s=te(a,n[31]),a.forEach(g),this.h()},h(){m(e,"id","aria-selection"),m(e,"class","svelte-apvs86"),m(l,"id","aria-context"),m(l,"class","svelte-apvs86")},m(i,c){P(i,e,c),A(e,t),P(i,r,c),P(i,l,c),A(l,s)},p(i,c){c[1]&2&&Ie(t,i[32]),c[1]&1&&Ie(s,i[31])},d(i){i&&(g(e),g(r),g(l))}}}function ai(n){let e,t,r,l;const s=[z0,W0],i=[];function c(a,f){return a[9]?0:1}return e=c(n),t=i[e]=s[e](n),{c(){t.c(),r=ye()},l(a){t.l(a),r=ye()},m(a,f){i[e].m(a,f),P(a,r,f),l=!0},p(a,f){let v=e;e=c(a),e===v?i[e].p(a,f):(ae(),E(i[v],1,1,()=>{i[v]=null}),ce(),t=i[e],t?t.p(a,f):(t=i[e]=s[e](a),t.c()),$(t,1),t.m(r.parentNode,r))},i(a){l||($(t),l=!0)},o(a){E(t),l=!1},d(a){a&&g(r),i[e].d(a)}}}function W0(n){let e,t;const r=n[82].selection,l=Oe(r,n,n[81],Wl),s=l||x0(n);return{c(){e=H("div"),s&&s.c(),this.h()},l(i){e=V(i,"DIV",{class:!0});var c=S(e);s&&s.l(c),c.forEach(g),this.h()},h(){m(e,"class","selected-item svelte-apvs86"),Y(e,"hide-selected-item",n[35])},m(i,c){P(i,e,c),s&&s.m(e,null),t=!0},p(i,c){l?l.p&&(!t||c[0]&8|c[2]&524288)&&Pe(l,r,i,i[81],t?Ce(r,i[81],c,C0):Me(i[81]),Wl):s&&s.p&&(!t||c[0]&4104)&&s.p(i,t?c:[-1,-1,-1,-1,-1]),(!t||c[1]&16)&&Y(e,"hide-selected-item",i[35])},i(i){t||($(s,i),t=!0)},o(i){E(s,i),t=!1},d(i){i&&g(e),s&&s.d(i)}}}function z0(n){let e,t,r=fe(n[3]),l=[];for(let i=0;i<r.length;i+=1)l[i]=fi(zl(n,r,i));const s=i=>E(l[i],1,1,()=>{l[i]=null});return{c(){for(let i=0;i<l.length;i+=1)l[i].c();e=ye()},l(i){for(let c=0;c<l.length;c+=1)l[c].l(i);e=ye()},m(i,c){for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(i,c);P(i,e,c),t=!0},p(i,c){if(c[0]&67116040|c[1]&32|c[2]&524288){r=fe(i[3]);let a;for(a=0;a<r.length;a+=1){const f=zl(i,r,a);l[a]?(l[a].p(f,c),$(l[a],1)):(l[a]=fi(f),l[a].c(),$(l[a],1),l[a].m(e.parentNode,e))}for(ae(),a=r.length;a<l.length;a+=1)s(a);ce()}},i(i){if(!t){for(let c=0;c<r.length;c+=1)$(l[c]);t=!0}},o(i){l=l.filter(Boolean);for(let c=0;c<l.length;c+=1)E(l[c]);t=!1},d(i){i&&g(e),je(l,i)}}}function x0(n){let e=n[3][n[12]]+"",t;return{c(){t=ee(e)},l(r){t=te(r,e)},m(r,l){P(r,t,l)},p(r,l){l[0]&4104&&e!==(e=r[3][r[12]]+"")&&Ie(t,e)},d(r){r&&g(t)}}}function X0(n){let e=n[125][n[12]]+"",t;return{c(){t=ee(e)},l(r){t=te(r,e)},m(r,l){P(r,t,l)},p(r,l){l[0]&4104&&e!==(e=r[125][r[12]]+"")&&Ie(t,e)},d(r){r&&g(t)}}}function ci(n){let e,t,r,l;const s=n[82]["multi-clear-icon"],i=Oe(s,n,n[81],xl),c=i||K0();function a(){return n[91](n[127])}return{c(){e=H("div"),c&&c.c(),this.h()},l(f){e=V(f,"DIV",{class:!0});var v=S(e);c&&c.l(v),v.forEach(g),this.h()},h(){m(e,"class","multi-item-clear svelte-apvs86")},m(f,v){P(f,e,v),c&&c.m(e,null),t=!0,r||(l=we(e,"pointerup",jn(ln(a))),r=!0)},p(f,v){n=f,i&&i.p&&(!t||v[2]&524288)&&Pe(i,s,n,n[81],t?Ce(s,n[81],v,D0):Me(n[81]),xl)},i(f){t||($(c,f),t=!0)},o(f){E(c,f),t=!1},d(f){f&&g(e),c&&c.d(f),r=!1,l()}}}function K0(n){let e,t;return e=new v1({}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,l){W(e,r,l),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function fi(n){let e,t,r,l,s,i,c;const a=n[82].selection,f=Oe(a,n,n[81],Xl),v=f||X0(n);let o=!n[11]&&!n[10]&&v1&&ci(n);function u(){return n[92](n[127])}return{c(){e=H("div"),t=H("span"),v&&v.c(),r=Z(),o&&o.c(),l=Z(),this.h()},l(h){e=V(h,"DIV",{class:!0});var p=S(e);t=V(p,"SPAN",{class:!0});var d=S(t);v&&v.l(d),d.forEach(g),r=N(p),o&&o.l(p),l=N(p),p.forEach(g),this.h()},h(){m(t,"class","multi-item-text svelte-apvs86"),m(e,"class","multi-item svelte-apvs86"),Y(e,"active",n[26]===n[127]),Y(e,"disabled",n[11])},m(h,p){P(h,e,p),A(e,t),v&&v.m(t,null),A(e,r),o&&o.m(e,null),A(e,l),s=!0,i||(c=[we(e,"click",ln(u)),we(e,"keydown",jn(ln(n[84])))],i=!0)},p(h,p){n=h,f?f.p&&(!s||p[0]&8|p[2]&524288)&&Pe(f,a,n,n[81],s?Ce(a,n[81],p,j0):Me(n[81]),Xl):v&&v.p&&(!s||p[0]&4104)&&v.p(n,s?p:[-1,-1,-1,-1,-1]),!n[11]&&!n[10]&&v1?o?(o.p(n,p),p[0]&3072&&$(o,1)):(o=ci(n),o.c(),$(o,1),o.m(e,l)):o&&(ae(),E(o,1,1,()=>{o=null}),ce()),(!s||p[0]&67108864)&&Y(e,"active",n[26]===n[127]),(!s||p[0]&2048)&&Y(e,"disabled",n[11])},i(h){s||($(v,h),$(o),s=!0)},o(h){E(v,h),E(o),s=!1},d(h){h&&g(e),v&&v.d(h),o&&o.d(),i=!1,_1(c)}}}function ui(n){let e,t;const r=n[82]["loading-icon"],l=Oe(r,n,n[81],Ul),s=l||J0();return{c(){e=H("div"),s&&s.c(),this.h()},l(i){e=V(i,"DIV",{class:!0,"aria-hidden":!0});var c=S(e);s&&s.l(c),c.forEach(g),this.h()},h(){m(e,"class","icon loading svelte-apvs86"),m(e,"aria-hidden","true")},m(i,c){P(i,e,c),s&&s.m(e,null),t=!0},p(i,c){l&&l.p&&(!t||c[2]&524288)&&Pe(l,r,i,i[81],t?Ce(r,i[81],c,M0):Me(i[81]),Ul)},i(i){t||($(s,i),t=!0)},o(i){E(s,i),t=!1},d(i){i&&g(e),s&&s.d(i)}}}function J0(n){let e,t;return e=new E0({}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,l){W(e,r,l),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function hi(n){let e,t,r,l;const s=n[82]["clear-icon"],i=Oe(s,n,n[81],ql),c=i||Q0();return{c(){e=H("button"),c&&c.c(),this.h()},l(a){e=V(a,"BUTTON",{type:!0,class:!0});var f=S(e);c&&c.l(f),f.forEach(g),this.h()},h(){m(e,"type","button"),m(e,"class","icon clear-select svelte-apvs86")},m(a,f){P(a,e,f),c&&c.m(e,null),t=!0,r||(l=we(e,"click",n[22]),r=!0)},p(a,f){i&&i.p&&(!t||f[2]&524288)&&Pe(i,s,a,a[81],t?Ce(s,a[81],f,P0):Me(a[81]),ql)},i(a){t||($(c,a),t=!0)},o(a){E(c,a),t=!1},d(a){a&&g(e),c&&c.d(a),r=!1,l()}}}function Q0(n){let e,t;return e=new v1({}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,l){W(e,r,l),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function di(n){let e,t;const r=n[82]["chevron-icon"],l=Oe(r,n,n[81],Gl),s=l||Y0();return{c(){e=H("div"),s&&s.c(),this.h()},l(i){e=V(i,"DIV",{class:!0,"aria-hidden":!0});var c=S(e);s&&s.l(c),c.forEach(g),this.h()},h(){m(e,"class","icon chevron svelte-apvs86"),m(e,"aria-hidden","true")},m(i,c){P(i,e,c),s&&s.m(e,null),t=!0},p(i,c){l&&l.p&&(!t||c[0]&64|c[2]&524288)&&Pe(l,r,i,i[81],t?Ce(r,i[81],c,O0):Me(i[81]),Gl)},i(i){t||($(s,i),t=!0)},o(i){E(s,i),t=!1},d(i){i&&g(e),s&&s.d(i)}}}function Y0(n){let e,t;return e=new A0({}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,l){W(e,r,l),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function ep(n){let e,t;return{c(){e=H("input"),this.h()},l(r){e=V(r,"INPUT",{name:!0,type:!0,class:!0}),this.h()},h(){m(e,"name",n[8]),m(e,"type","hidden"),e.value=t=n[3]?JSON.stringify(n[3]):null,m(e,"class","svelte-apvs86")},m(r,l){P(r,e,l)},p(r,l){l[0]&256&&m(e,"name",r[8]),l[0]&8&&t!==(t=r[3]?JSON.stringify(r[3]):null)&&(e.value=t)},d(r){r&&g(e)}}}function vi(n){let e;const t=n[82].required,r=Oe(t,n,n[81],Zl),l=r||tp();return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,i){l&&l.m(s,i),e=!0},p(s,i){r&&r.p&&(!e||i[0]&8|i[2]&524288)&&Pe(r,t,s,s[81],e?Ce(t,s[81],i,T0):Me(s[81]),Zl)},i(s){e||($(l,s),e=!0)},o(s){E(l,s),e=!1},d(s){l&&l.d(s)}}}function tp(n){let e;return{c(){e=H("select"),this.h()},l(t){e=V(t,"SELECT",{class:!0,tabindex:!0,"aria-hidden":!0}),S(e).forEach(g),this.h()},h(){m(e,"class","required svelte-apvs86"),e.required=!0,m(e,"tabindex","-1"),m(e,"aria-hidden","true")},m(t,r){P(t,e,r)},p:ne,d(t){t&&g(e)}}}function np(n){let e,t,r,l,s,i,c,a,f,v,o,u,h,p,d,y,_,b,T,M,I=n[6]&&ri(n),D=n[2]&&oi(n);const B=n[82].prepend,C=Oe(B,n,n[81],Kl);let L=n[25]&&ai(n),j=[{readOnly:v=!n[17]},n[27],{placeholder:n[33]},{style:n[18]},{disabled:n[11]}],k={};for(let G=0;G<j.length;G+=1)k=Le(k,j[G]);let O=n[5]&&ui(n),X=n[34]&&hi(n),x=n[20]&&di(n);const oe=n[82]["input-hidden"],ie=Oe(oe,n,n[81],Nl),ke=ie||ep(n);let _e=n[16]&&(!n[3]||n[3].length===0)&&vi(n);return{c(){e=H("div"),I&&I.c(),t=Z(),r=H("span"),D&&D.c(),l=Z(),s=H("div"),C&&C.c(),i=Z(),c=H("div"),L&&L.c(),a=Z(),f=H("input"),o=Z(),u=H("div"),O&&O.c(),h=Z(),X&&X.c(),p=Z(),x&&x.c(),d=Z(),ke&&ke.c(),y=Z(),_e&&_e.c(),this.h()},l(G){e=V(G,"DIV",{class:!0,style:!0});var J=S(e);I&&I.l(J),t=N(J),r=V(J,"SPAN",{"aria-live":!0,"aria-atomic":!0,"aria-relevant":!0,class:!0});var me=S(r);D&&D.l(me),me.forEach(g),l=N(J),s=V(J,"DIV",{class:!0});var Fe=S(s);C&&C.l(Fe),Fe.forEach(g),i=N(J),c=V(J,"DIV",{class:!0});var Ne=S(c);L&&L.l(Ne),a=N(Ne),f=V(Ne,"INPUT",{placeholder:!0,style:!0}),Ne.forEach(g),o=N(J),u=V(J,"DIV",{class:!0});var Re=S(u);O&&O.l(Re),h=N(Re),X&&X.l(Re),p=N(Re),x&&x.l(Re),Re.forEach(g),d=N(J),ke&&ke.l(J),y=N(J),_e&&_e.l(J),J.forEach(g),this.h()},h(){m(r,"aria-live","polite"),m(r,"aria-atomic","false"),m(r,"aria-relevant","additions text"),m(r,"class","a11y-text svelte-apvs86"),m(s,"class","prepend svelte-apvs86"),Mr(f,k),Y(f,"svelte-apvs86",!0),m(c,"class","value-container svelte-apvs86"),m(u,"class","indicators svelte-apvs86"),m(e,"class",_="svelte-select "+n[21]+" svelte-apvs86"),m(e,"style",n[14]),Y(e,"multi",n[9]),Y(e,"disabled",n[11]),Y(e,"focused",n[2]),Y(e,"list-open",n[6]),Y(e,"show-chevron",n[20]),Y(e,"error",n[15])},m(G,J){P(G,e,J),I&&I.m(e,null),A(e,t),A(e,r),D&&D.m(r,null),A(e,l),A(e,s),C&&C.m(s,null),A(e,i),A(e,c),L&&L.m(c,null),A(c,a),A(c,f),f.autofocus&&f.focus(),n[93](f),Cr(f,n[4]),A(e,o),A(e,u),O&&O.m(u,null),A(u,h),X&&X.m(u,null),A(u,p),x&&x.m(u,null),A(e,d),ke&&ke.m(e,null),A(e,y),_e&&_e.m(e,null),n[95](e),b=!0,T||(M=[we(window,"click",n[42]),we(window,"keydown",n[37]),we(f,"keydown",n[37]),we(f,"blur",n[39]),we(f,"focus",n[38]),we(f,"input",n[94]),we(e,"pointerup",ln(n[40])),we(e,"mousedown",ln(n[83])),n1(n[48].call(null,e))],T=!0)},p(G,J){G[6]?I?(I.p(G,J),J[0]&64&&$(I,1)):(I=ri(G),I.c(),$(I,1),I.m(e,t)):I&&(ae(),E(I,1,1,()=>{I=null}),ce()),G[2]?D?D.p(G,J):(D=oi(G),D.c(),D.m(r,null)):D&&(D.d(1),D=null),C&&C.p&&(!b||J[2]&524288)&&Pe(C,B,G,G[81],b?Ce(B,G[81],J,L0):Me(G[81]),Kl),G[25]?L?(L.p(G,J),J[0]&33554432&&$(L,1)):(L=ai(G),L.c(),$(L,1),L.m(c,a)):L&&(ae(),E(L,1,1,()=>{L=null}),ce()),Mr(f,k=kn(j,[(!b||J[0]&131072&&v!==(v=!G[17]))&&{readOnly:v},J[0]&134217728&&G[27],(!b||J[1]&4)&&{placeholder:G[33]},(!b||J[0]&262144)&&{style:G[18]},(!b||J[0]&2048)&&{disabled:G[11]}])),J[0]&16&&f.value!==G[4]&&Cr(f,G[4]),Y(f,"svelte-apvs86",!0),G[5]?O?(O.p(G,J),J[0]&32&&$(O,1)):(O=ui(G),O.c(),$(O,1),O.m(u,h)):O&&(ae(),E(O,1,1,()=>{O=null}),ce()),G[34]?X?(X.p(G,J),J[1]&8&&$(X,1)):(X=hi(G),X.c(),$(X,1),X.m(u,p)):X&&(ae(),E(X,1,1,()=>{X=null}),ce()),G[20]?x?(x.p(G,J),J[0]&1048576&&$(x,1)):(x=di(G),x.c(),$(x,1),x.m(u,null)):x&&(ae(),E(x,1,1,()=>{x=null}),ce()),ie?ie.p&&(!b||J[0]&8|J[2]&524288)&&Pe(ie,oe,G,G[81],b?Ce(oe,G[81],J,I0):Me(G[81]),Nl):ke&&ke.p&&(!b||J[0]&264)&&ke.p(G,b?J:[-1,-1,-1,-1,-1]),G[16]&&(!G[3]||G[3].length===0)?_e?(_e.p(G,J),J[0]&65544&&$(_e,1)):(_e=vi(G),_e.c(),$(_e,1),_e.m(e,null)):_e&&(ae(),E(_e,1,1,()=>{_e=null}),ce()),(!b||J[0]&2097152&&_!==(_="svelte-select "+G[21]+" svelte-apvs86"))&&m(e,"class",_),(!b||J[0]&16384)&&m(e,"style",G[14]),(!b||J[0]&2097664)&&Y(e,"multi",G[9]),(!b||J[0]&2099200)&&Y(e,"disabled",G[11]),(!b||J[0]&2097156)&&Y(e,"focused",G[2]),(!b||J[0]&2097216)&&Y(e,"list-open",G[6]),(!b||J[0]&3145728)&&Y(e,"show-chevron",G[20]),(!b||J[0]&2129920)&&Y(e,"error",G[15])},i(G){b||($(I),$(C,G),$(L),$(O),$(X),$(x),$(ke,G),$(_e),b=!0)},o(G){E(I),E(C,G),E(L),E(O),E(X),E(x),E(ke,G),E(_e),b=!1},d(G){G&&g(e),I&&I.d(),D&&D.d(),C&&C.d(G),L&&L.d(),n[93](null),O&&O.d(),X&&X.d(),x&&x.d(),ke&&ke.d(G),_e&&_e.d(),n[95](null),T=!1,_1(M)}}}function pi(n){return n.map((e,t)=>({index:t,value:e,label:`${e}`}))}function rp(n){return n===0}function lp(n){return n.groupHeader&&n.selectable||n.selectable||!n.hasOwnProperty("selectable")}function ip(n,e,t){let r,l,s,i,c,a,f,v,o,{$$slots:u={},$$scope:h}=e;const p=jo(u),d=Lo();let{justValue:y=null}=e,{filter:_=b0}=e,{getItems:b=w0}=e,{id:T=null}=e,{name:M=null}=e,{container:I=void 0}=e,{input:D=void 0}=e,{multiple:B=!1}=e,{multiFullItemClearable:C=!1}=e,{disabled:L=!1}=e,{focused:j=!1}=e,{value:k=null}=e,{filterText:O=""}=e,{placeholder:X="Please select"}=e,{placeholderAlwaysShow:x=!1}=e,{items:oe=null}=e,{label:ie="label"}=e,{itemFilter:ke=(w,K,Ee)=>`${w}`.toLowerCase().includes(K.toLowerCase())}=e,{groupBy:_e=void 0}=e,{groupFilter:G=w=>w}=e,{groupHeaderSelectable:J=!1}=e,{itemId:me="value"}=e,{loadOptions:Fe=void 0}=e,{containerStyles:Ne=""}=e,{hasError:Re=!1}=e,{filterSelectedItems:Ye=!0}=e,{required:dt=!1}=e,{closeListOnChange:et=!0}=e,{createGroupHeaderItem:tt=(w,K)=>({value:w,[ie]:w})}=e;const Tt=()=>f;let{searchable:Je=!0}=e,{inputStyles:vt=""}=e,{clearable:nt=!0}=e,{loading:qe=!1}=e,{listOpen:ge=!1}=e,pt,{debounce:rt=(w,K=1)=>{clearTimeout(pt),pt=setTimeout(w,K)}}=e,{debounceWait:lt=300}=e,{hideEmptyState:Ze=!1}=e,{inputAttributes:Qe={}}=e,{listAutoWidth:pe=!0}=e,{showChevron:It=!1}=e,{listOffset:_t=5}=e,{hoverItemIndex:be=0}=e,{floatingConfig:Ue={}}=e,{class:Ot=""}=e,Ae,We,mt,gt;function Gt(){if(typeof k=="string"){let w=(oe||[]).find(K=>K[me]===k);t(3,k=w||{[me]:k,label:k})}else B&&Array.isArray(k)&&k.length>0&&t(3,k=k.map(w=>typeof w=="string"?{value:w,label:w}:w))}let xe;function qt(){t(27,xe=Object.assign({autocapitalize:"none",autocomplete:"off",autocorrect:"off",spellcheck:!1,tabindex:0,type:"text","aria-autocomplete":"list"},Qe)),T&&t(27,xe.id=T,xe),Je||t(27,xe.readonly=!0,xe)}function Pt(w){const K=[],Ee={};w.forEach(dn=>{const wt=_e(dn);K.includes(wt)||(K.push(wt),Ee[wt]=[],wt&&Ee[wt].push(Object.assign(tt(wt,dn),{id:wt,groupHeader:!0,selectable:J}))),Ee[wt].push(Object.assign({groupItem:!!wt},dn))});const bt=[];return G(K).forEach(dn=>{Ee[dn]&&bt.push(...Ee[dn])}),bt}function Ut(){if(B){JSON.stringify(k)!==JSON.stringify(We)&&Ct()&&d("input",k);return}(!We||JSON.stringify(k[me])!==JSON.stringify(We[me]))&&d("input",k)}function Wt(){k&&(Array.isArray(k)?t(3,k=[...k]):t(3,k=[k]))}function zt(){k&&t(3,k=null)}function xt(){const w=f.findIndex(K=>K[me]===k[me]);Mt(w,!0)}function Xt(w){d("hoverItem",w)}function Mt(w=0,K){t(7,be=w<0?0:w),!K&&_e&&f[be]&&!f[be].selectable&&Xn(1)}function Kt(){!Fe&&O.length===0||(Fe?rt(async function(){t(5,qe=!0);let w=await b({dispatch:d,loadOptions:Fe,convertStringItemsToObjects:pi,filterText:O});w?(t(5,qe=w.loading),t(6,ge=ge?w.listOpen:O.length>0),t(2,j=ge&&w.focused),t(51,oe=_e?Pt(w.filteredItems):w.filteredItems)):(t(5,qe=!1),t(2,j=!0),t(6,ge=!0))},lt):(t(6,ge=!0),B&&t(26,Ae=void 0)))}function Jt(w){ge&&d("filter",w)}Fo(async()=>{t(77,We=k),t(78,mt=O),t(79,gt=B)});function Qt(){return B?k?k.map(w=>w[me]):null:k&&k[me]}function Ct(){let w=!0;if(k){const K=[],Ee=[];k.forEach(bt=>{K.includes(bt[me])?w=!1:(K.push(bt[me]),Ee.push(bt))}),w||t(3,k=Ee)}return w}function Dt(w){let K=w?w[me]:k[me];return oe.find(Ee=>Ee[me]===K)}function jt(w){!w||w.length===0||w.some(K=>typeof K!="object")||!k||(B?k.some(K=>!K||!K[me]):!k[me])||(Array.isArray(k)?t(3,k=k.map(K=>Dt(K)||K)):t(3,k=Dt()||k))}async function it(w){const K=k[w];k.length===1?t(3,k=void 0):t(3,k=k.filter(Ee=>Ee!==K)),d("clear",K)}function Lt(w){if(j)switch(w.stopPropagation(),w.key){case"Escape":w.preventDefault(),Q();break;case"Enter":if(w.preventDefault(),ge){if(f.length===0)break;const K=f[be];if(k&&!B&&k[me]===K[me]){Q();break}else C1(f[be])}break;case"ArrowDown":w.preventDefault(),ge?Xn(1):(t(6,ge=!0),t(26,Ae=void 0));break;case"ArrowUp":w.preventDefault(),ge?Xn(-1):(t(6,ge=!0),t(26,Ae=void 0));break;case"Tab":if(ge&&j){if(f.length===0||k&&k[me]===f[be][me])return Q();w.preventDefault(),C1(f[be]),Q()}break;case"Backspace":if(!B||O.length>0)return;if(B&&k&&k.length>0){if(it(Ae!==void 0?Ae:k.length-1),Ae===0||Ae===void 0)break;t(26,Ae=k.length>Ae?Ae-1:void 0)}break;case"ArrowLeft":if(!k||!B||O.length>0)return;Ae===void 0?t(26,Ae=k.length-1):k.length>Ae&&Ae!==0&&t(26,Ae-=1);break;case"ArrowRight":if(!k||!B||O.length>0||Ae===void 0)return;Ae===k.length-1?t(26,Ae=void 0):Ae<k.length-1&&t(26,Ae+=1);break}}function st(w){j&&D===(document==null?void 0:document.activeElement)||(w&&d("focus",w),D.focus(),t(2,j=!0))}async function Ft(w){M1||(ge||j)&&(d("blur",w),Q(),t(2,j=!1),t(26,Ae=void 0),D.blur())}function Yt(){L||t(6,ge=!ge)}function yt(){d("clear",k),t(3,k=void 0),Q(),st()}or(()=>{ge&&t(2,j=!0),j&&D&&D.focus()});function zn(w){if(w){t(4,O="");const K=Object.assign({},w);if(K.groupHeader&&!K.selectable)return;t(3,k=B?k?k.concat([K]):[K]:t(3,k=K)),setTimeout(()=>{et&&Q(),t(26,Ae=void 0),d("change",k),d("select",w)})}}function Q(){t(4,O=""),t(6,ge=!1)}let{ariaValues:un=w=>`Option ${w}, selected.`}=e,{ariaListOpen:$e=(w,K)=>`You are currently focused on option ${w}. There are ${K} results available.`}=e,{ariaFocused:hn=()=>"Select is focused, type to refine list, press down to open the menu."}=e;function xn(w){let K;return w&&k.length>0?K=k.map(Ee=>Ee[ie]).join(", "):K=k[ie],un(K)}function io(){if(!f||f.length===0)return"";let w=f[be];if(ge&&w){let K=f?f.length:0;return $e(w[ie],K)}else return hn()}let Ge=null,Tr;function Ir(){clearTimeout(Tr),Tr=setTimeout(()=>{M1=!1},100)}function so(w){!ge&&!j&&I&&!I.contains(w.target)&&!(Ge!=null&&Ge.contains(w.target))&&Ft()}sr(()=>{Ge==null||Ge.remove()});let M1=!1;function C1(w){!w||w.selectable===!1||zn(w)}function D1(w){M1||t(7,be=w)}function Or(w){const{item:K,i:Ee}=w;if((K==null?void 0:K.selectable)!==!1){if(k&&!B&&k[me]===K[me])return Q();lp(K)&&(t(7,be=Ee),C1(K))}}function Xn(w){if(f.filter(bt=>!Object.hasOwn(bt,"selectable")||bt.selectable===!0).length===0)return t(7,be=0);w>0&&be===f.length-1?t(7,be=0):w<0&&be===0?t(7,be=f.length-1):t(7,be=be+w);const Ee=f[be];if(Ee&&Ee.selectable===!1){(w===1||w===-1)&&Xn(w);return}}function oo(w,K,Ee){if(!B)return K&&K[Ee]===w[Ee]}const ao=Pr,co=Pr;function Pr(w){return{update(K){K.scroll&&(Ir(),w.scrollIntoView({behavior:"auto",block:"nearest"}))}}}function fo(){const{width:w}=I.getBoundingClientRect();t(23,Ge.style.width=pe?w+"px":"auto",Ge)}let Pn={strategy:"absolute",placement:"bottom-start",middleware:[Qv(_t),Kv(),Yv()],autoUpdate:!1};const[uo,ho,vo]=y0(Pn);let j1=!0;function po(w,K){if(!w||!K)return t(28,j1=!0);setTimeout(()=>{t(28,j1=!1)},0)}function _o(w){pn.call(this,n,w)}function mo(w){pn.call(this,n,w)}function go(w){pn.call(this,n,w)}function yo(w){pn.call(this,n,w)}const bo=w=>D1(w),wo=w=>D1(w),ko=(w,K)=>Or({item:w,i:K});function Ao(w){nn[w?"unshift":"push"](()=>{Ge=w,t(23,Ge)})}const $o=w=>it(w),So=w=>C?it(w):{};function Eo(w){nn[w?"unshift":"push"](()=>{D=w,t(1,D)})}function To(){O=this.value,t(4,O)}function Io(w){nn[w?"unshift":"push"](()=>{I=w,t(0,I)})}return n.$$set=w=>{"justValue"in w&&t(52,y=w.justValue),"filter"in w&&t(53,_=w.filter),"getItems"in w&&t(54,b=w.getItems),"id"in w&&t(55,T=w.id),"name"in w&&t(8,M=w.name),"container"in w&&t(0,I=w.container),"input"in w&&t(1,D=w.input),"multiple"in w&&t(9,B=w.multiple),"multiFullItemClearable"in w&&t(10,C=w.multiFullItemClearable),"disabled"in w&&t(11,L=w.disabled),"focused"in w&&t(2,j=w.focused),"value"in w&&t(3,k=w.value),"filterText"in w&&t(4,O=w.filterText),"placeholder"in w&&t(56,X=w.placeholder),"placeholderAlwaysShow"in w&&t(57,x=w.placeholderAlwaysShow),"items"in w&&t(51,oe=w.items),"label"in w&&t(12,ie=w.label),"itemFilter"in w&&t(58,ke=w.itemFilter),"groupBy"in w&&t(59,_e=w.groupBy),"groupFilter"in w&&t(60,G=w.groupFilter),"groupHeaderSelectable"in w&&t(61,J=w.groupHeaderSelectable),"itemId"in w&&t(13,me=w.itemId),"loadOptions"in w&&t(62,Fe=w.loadOptions),"containerStyles"in w&&t(14,Ne=w.containerStyles),"hasError"in w&&t(15,Re=w.hasError),"filterSelectedItems"in w&&t(63,Ye=w.filterSelectedItems),"required"in w&&t(16,dt=w.required),"closeListOnChange"in w&&t(64,et=w.closeListOnChange),"createGroupHeaderItem"in w&&t(65,tt=w.createGroupHeaderItem),"searchable"in w&&t(17,Je=w.searchable),"inputStyles"in w&&t(18,vt=w.inputStyles),"clearable"in w&&t(67,nt=w.clearable),"loading"in w&&t(5,qe=w.loading),"listOpen"in w&&t(6,ge=w.listOpen),"debounce"in w&&t(68,rt=w.debounce),"debounceWait"in w&&t(69,lt=w.debounceWait),"hideEmptyState"in w&&t(19,Ze=w.hideEmptyState),"inputAttributes"in w&&t(70,Qe=w.inputAttributes),"listAutoWidth"in w&&t(71,pe=w.listAutoWidth),"showChevron"in w&&t(20,It=w.showChevron),"listOffset"in w&&t(72,_t=w.listOffset),"hoverItemIndex"in w&&t(7,be=w.hoverItemIndex),"floatingConfig"in w&&t(73,Ue=w.floatingConfig),"class"in w&&t(21,Ot=w.class),"ariaValues"in w&&t(74,un=w.ariaValues),"ariaListOpen"in w&&t(75,$e=w.ariaListOpen),"ariaFocused"in w&&t(76,hn=w.ariaFocused),"$$scope"in w&&t(81,h=w.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&8|n.$$.dirty[1]&1048576&&k&&Gt(),n.$$.dirty[0]&131072|n.$$.dirty[2]&256&&(Qe||!Je)&&qt(),n.$$.dirty[0]&512&&B&&Wt(),n.$$.dirty[0]&512|n.$$.dirty[2]&131072&&gt&&!B&&zt(),n.$$.dirty[0]&520&&B&&k&&k.length>1&&Ct(),n.$$.dirty[0]&8&&k&&Ut(),n.$$.dirty[0]&520|n.$$.dirty[2]&32768&&!k&&B&&We&&d("input",k),n.$$.dirty[0]&6&&!j&&D&&Q(),n.$$.dirty[0]&16|n.$$.dirty[2]&65536&&O!==mt&&Kt(),n.$$.dirty[0]&12824|n.$$.dirty[1]&407896064|n.$$.dirty[2]&3&&t(24,f=_({loadOptions:Fe,filterText:O,items:oe,multiple:B,value:k,itemId:me,groupBy:_e,label:ie,filterSelectedItems:Ye,itemFilter:ke,convertStringItemsToObjects:pi,filterGroupedItems:Pt})),n.$$.dirty[0]&16777800&&!B&&ge&&k&&f&&xt(),n.$$.dirty[0]&576&&ge&&B&&t(7,be=0),n.$$.dirty[0]&16&&O&&t(7,be=0),n.$$.dirty[0]&128&&Xt(be),n.$$.dirty[0]&520&&t(25,r=B?k&&k.length>0:k),n.$$.dirty[0]&33554448&&t(35,l=r&&O.length>0),n.$$.dirty[0]&33556512|n.$$.dirty[2]&32&&t(34,s=r&&nt&&!L&&!qe),n.$$.dirty[0]&520|n.$$.dirty[1]&100663296&&t(33,i=x&&B||B&&(k==null?void 0:k.length)===0?X:k?"":X),n.$$.dirty[0]&520&&t(32,c=k?xn(B):""),n.$$.dirty[0]&16777412&&t(31,a=io()),n.$$.dirty[1]&1048576&&jt(oe),n.$$.dirty[0]&8712&&t(52,y=Qt()),n.$$.dirty[0]&520|n.$$.dirty[2]&32768&&!B&&We&&!k&&d("input",k),n.$$.dirty[0]&16777800&&ge&&f&&!B&&!k&&Mt(),n.$$.dirty[0]&16777216&&Jt(f),n.$$.dirty[0]&1|n.$$.dirty[2]&2048&&I&&(Ue==null?void 0:Ue.autoUpdate)===void 0&&t(80,Pn.autoUpdate=!0,Pn),n.$$.dirty[0]&1|n.$$.dirty[2]&264192&&I&&Ue&&vo(Object.assign(Pn,Ue)),n.$$.dirty[0]&8388608&&t(30,v=!!Ge),n.$$.dirty[0]&8388672&&po(Ge,ge),n.$$.dirty[0]&8388673&&ge&&I&&Ge&&fo(),n.$$.dirty[0]&128&&t(29,o=be),n.$$.dirty[0]&70&&D&&ge&&!j&&st()},[I,D,j,k,O,qe,ge,be,M,B,C,L,ie,me,Ne,Re,dt,Je,vt,Ze,It,Ot,yt,Ge,f,r,Ae,xe,j1,o,v,a,c,i,s,l,it,Lt,st,Ft,Yt,Ir,so,D1,Or,oo,ao,co,uo,ho,p,oe,y,_,b,T,X,x,ke,_e,G,J,Fe,Ye,et,tt,Tt,nt,rt,lt,Qe,pe,_t,Ue,un,$e,hn,We,mt,gt,Pn,h,u,_o,mo,go,yo,bo,wo,ko,Ao,$o,So,Eo,To,Io]}class sp extends de{constructor(e){super(),ve(this,e,ip,np,he,{justValue:52,filter:53,getItems:54,id:55,name:8,container:0,input:1,multiple:9,multiFullItemClearable:10,disabled:11,focused:2,value:3,filterText:4,placeholder:56,placeholderAlwaysShow:57,items:51,label:12,itemFilter:58,groupBy:59,groupFilter:60,groupHeaderSelectable:61,itemId:13,loadOptions:62,containerStyles:14,hasError:15,filterSelectedItems:63,required:16,closeListOnChange:64,createGroupHeaderItem:65,getFilteredItems:66,searchable:17,inputStyles:18,clearable:67,loading:5,listOpen:6,debounce:68,debounceWait:69,hideEmptyState:19,inputAttributes:70,listAutoWidth:71,showChevron:20,listOffset:72,hoverItemIndex:7,floatingConfig:73,class:21,handleClear:22,ariaValues:74,ariaListOpen:75,ariaFocused:76},null,[-1,-1,-1,-1,-1])}get getFilteredItems(){return this.$$.ctx[66]}get handleClear(){return this.$$.ctx[22]}}function _i(n,e,t){const r=n.slice();return r[7]=e[t],r}function mi(n){let e,t=n[7].name+"",r,l,s,i;function c(){return n[5](n[7])}return{c(){e=H("button"),r=ee(t),l=Z(),this.h()},l(a){e=V(a,"BUTTON",{class:!0});var f=S(e);r=te(f,t),l=N(f),f.forEach(g),this.h()},h(){m(e,"class","unstyled tab svelte-9chjd7"),Y(e,"active",n[0].character===n[7].id)},m(a,f){P(a,e,f),A(e,r),A(e,l),s||(i=we(e,"click",c),s=!0)},p(a,f){n=a,f&2&&t!==(t=n[7].name+"")&&Ie(r,t),f&3&&Y(e,"active",n[0].character===n[7].id)},d(a){a&&g(e),s=!1,i()}}}function gi(n){let e=n[2].description+"",t;return{c(){t=ee(e)},l(r){t=te(r,e)},m(r,l){P(r,t,l)},p(r,l){l&4&&e!==(e=r[2].description+"")&&Ie(t,e)},d(r){r&&g(t)}}}function op(n){let e,t=n[2]&&gi(n);return{c(){t&&t.c(),e=ye()},l(r){t&&t.l(r),e=ye()},m(r,l){t&&t.m(r,l),P(r,e,l)},p(r,l){r[2]?t?t.p(r,l):(t=gi(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(r){r&&g(e),t&&t.d(r)}}}function ap(n){let e,t,r,l,s,i,c=fe(n[1]),a=[];for(let f=0;f<c.length;f+=1)a[f]=mi(_i(n,c,f));return s=new as({props:{$$slots:{default:[op]},$$scope:{ctx:n}}}),{c(){e=H("div"),t=H("div");for(let f=0;f<a.length;f+=1)a[f].c();r=Z(),l=H("div"),q(s.$$.fragment),this.h()},l(f){e=V(f,"DIV",{class:!0});var v=S(e);t=V(v,"DIV",{class:!0});var o=S(t);for(let h=0;h<a.length;h+=1)a[h].l(o);o.forEach(g),r=N(v),l=V(v,"DIV",{class:!0});var u=S(l);U(s.$$.fragment,u),u.forEach(g),v.forEach(g),this.h()},h(){m(t,"class","tabs svelte-9chjd7"),m(l,"class","content svelte-9chjd7"),m(e,"class","roles")},m(f,v){P(f,e,v),A(e,t);for(let o=0;o<a.length;o+=1)a[o]&&a[o].m(t,null);A(e,r),A(e,l),W(s,l,null),i=!0},p(f,[v]){if(v&11){c=fe(f[1]);let u;for(u=0;u<c.length;u+=1){const h=_i(f,c,u);a[u]?a[u].p(h,v):(a[u]=mi(h),a[u].c(),a[u].m(t,null))}for(;u<a.length;u+=1)a[u].d(1);a.length=c.length}const o={};v&1028&&(o.$$scope={dirty:v,ctx:f}),s.$set(o)},i(f){i||($(s.$$.fragment,f),i=!0)},o(f){E(s.$$.fragment,f),i=!1},d(f){f&&g(e),je(a,f),z(s)}}}function cp(n,e,t){let r,l,s,{player:i}=e;const{machine:c}=Ve(),a=v=>{c.send({type:"assign role",character:v,playerId:i.id,playingUserId:i.userId,faceId:i.faceId})},f=v=>a(v.id);return n.$$set=v=>{"player"in v&&t(0,i=v.player)},n.$$.update=()=>{n.$$.dirty&1&&t(4,r=i.id==="attacker"?"attack":"defense"),n.$$.dirty&16&&t(1,l=Vo.filter(v=>v.side===r)),n.$$.dirty&3&&t(2,s=l.find(v=>v.id===i.character))},[i,l,s,a,r,f]}class fp extends de{constructor(e){super(),ve(this,e,cp,ap,he,{player:0})}}function yi(n,e,t){const r=n.slice();return r[20]=e[t],r}function up(n){let e;return{c(){e=ee("1. Bestimme eine:n Spieler:in")},l(t){e=te(t,"1. Bestimme eine:n Spieler:in")},m(t,r){P(t,e,r)},d(t){t&&g(e)}}}function hp(n){let e;return{c(){e=ee("2. Wähle einen Charakter aus")},l(t){e=te(t,"2. Wähle einen Charakter aus")},m(t,r){P(t,e,r)},d(t){t&&g(e)}}}function dp(n){let e;return{c(){e=ee("3. Wähle einen Avatar für deinen Charakter")},l(t){e=te(t,"3. Wähle einen Avatar für deinen Charakter")},m(t,r){P(t,e,r)},d(t){t&&g(e)}}}function bi(n){let e,t,r,l,s,i,c;t=new vr({props:{faceId:n[20].id}});function a(){return n[15](n[20])}return{c(){e=H("button"),q(t.$$.fragment),r=Z(),this.h()},l(f){e=V(f,"BUTTON",{class:!0});var v=S(e);U(t.$$.fragment,v),r=N(v),v.forEach(g),this.h()},h(){e.disabled=l=!n[4],m(e,"class","unstyled face svelte-1yc9tjz"),Y(e,"active",n[20].id===n[3])},m(f,v){P(f,e,v),W(t,e,null),A(e,r),s=!0,i||(c=we(e,"click",a),i=!0)},p(f,v){n=f,(!s||v&16&&l!==(l=!n[4]))&&(e.disabled=l),(!s||v&8)&&Y(e,"active",n[20].id===n[3])},i(f){s||($(t.$$.fragment,f),s=!0)},o(f){E(t.$$.fragment,f),s=!1},d(f){f&&g(e),z(t),i=!1,c()}}}function vp(n){let e;return{c(){e=ee("Bestätigen und weiter")},l(t){e=te(t,"Bestätigen und weiter")},m(t,r){P(t,e,r)},d(t){t&&g(e)}}}function pp(n){let e,t;return e=new ft({props:{primary:!0,disabled:!n[4],$$slots:{default:[vp]},$$scope:{ctx:n}}}),e.$on("click",n[16]),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,l){W(e,r,l),t=!0},p(r,l){const s={};l&16&&(s.disabled=!r[4]),l&8388608&&(s.$$scope={dirty:l,ctx:r}),e.$set(s)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function _p(n){let e,t,r,l,s,i,c,a,f,v,o,u,h,p,d,y,_,b,T,M;t=new Ht({props:{size:"md",spacing:"none",$$slots:{default:[up]},$$scope:{ctx:n}}}),s=new sp({props:{items:n[1],value:n[2],required:!0}}),s.$on("input",n[14]),f=new Ht({props:{size:"md",spacing:"none",$$slots:{default:[hp]},$$scope:{ctx:n}}}),o=new fp({props:{player:n[0]}}),d=new Ht({props:{size:"md",spacing:"none",$$slots:{default:[dp]},$$scope:{ctx:n}}});let I=fe(Fr.slice(0,3)),D=[];for(let C=0;C<I.length;C+=1)D[C]=bi(yi(n,I,C));const B=C=>E(D[C],1,1,()=>{D[C]=null});return T=new dr({props:{$$slots:{default:[pp]},$$scope:{ctx:n}}}),{c(){e=H("div"),q(t.$$.fragment),r=Z(),l=H("div"),q(s.$$.fragment),i=Z(),c=H("div"),a=Z(),q(f.$$.fragment),v=Z(),q(o.$$.fragment),u=Z(),h=H("div"),p=Z(),q(d.$$.fragment),y=Z(),_=H("div");for(let C=0;C<D.length;C+=1)D[C].c();b=Z(),q(T.$$.fragment),this.h()},l(C){e=V(C,"DIV",{class:!0});var L=S(e);U(t.$$.fragment,L),r=N(L),l=V(L,"DIV",{class:!0});var j=S(l);U(s.$$.fragment,j),j.forEach(g),i=N(L),c=V(L,"DIV",{class:!0}),S(c).forEach(g),a=N(L),U(f.$$.fragment,L),v=N(L),U(o.$$.fragment,L),u=N(L),h=V(L,"DIV",{class:!0}),S(h).forEach(g),p=N(L),U(d.$$.fragment,L),y=N(L),_=V(L,"DIV",{class:!0});var k=S(_);for(let O=0;O<D.length;O+=1)D[O].l(k);k.forEach(g),b=N(L),U(T.$$.fragment,L),L.forEach(g),this.h()},h(){m(l,"class","user-select svelte-1yc9tjz"),m(c,"class","spacer"),m(h,"class","spacer"),m(_,"class","faces svelte-1yc9tjz"),m(e,"class","configurator svelte-1yc9tjz")},m(C,L){P(C,e,L),W(t,e,null),A(e,r),A(e,l),W(s,l,null),A(e,i),A(e,c),A(e,a),W(f,e,null),A(e,v),W(o,e,null),A(e,u),A(e,h),A(e,p),W(d,e,null),A(e,y),A(e,_);for(let j=0;j<D.length;j+=1)D[j]&&D[j].m(_,null);A(e,b),W(T,e,null),M=!0},p(C,L){const j={};L&8388608&&(j.$$scope={dirty:L,ctx:C}),t.$set(j);const k={};L&2&&(k.items=C[1]),L&4&&(k.value=C[2]),s.$set(k);const O={};L&8388608&&(O.$$scope={dirty:L,ctx:C}),f.$set(O);const X={};L&1&&(X.player=C[0]),o.$set(X);const x={};if(L&8388608&&(x.$$scope={dirty:L,ctx:C}),d.$set(x),L&1048){I=fe(Fr.slice(0,3));let ie;for(ie=0;ie<I.length;ie+=1){const ke=yi(C,I,ie);D[ie]?(D[ie].p(ke,L),$(D[ie],1)):(D[ie]=bi(ke),D[ie].c(),$(D[ie],1),D[ie].m(_,null))}for(ae(),ie=I.length;ie<D.length;ie+=1)B(ie);ce()}const oe={};L&8388624&&(oe.$$scope={dirty:L,ctx:C}),T.$set(oe)},i(C){if(!M){$(t.$$.fragment,C),$(s.$$.fragment,C),$(f.$$.fragment,C),$(o.$$.fragment,C),$(d.$$.fragment,C);for(let L=0;L<I.length;L+=1)$(D[L]);$(T.$$.fragment,C),M=!0}},o(C){E(t.$$.fragment,C),E(s.$$.fragment,C),E(f.$$.fragment,C),E(o.$$.fragment,C),E(d.$$.fragment,C),D=D.filter(Boolean);for(let L=0;L<D.length;L+=1)E(D[L]);E(T.$$.fragment,C),M=!1},d(C){C&&g(e),z(t),z(s),z(f),z(o),z(d),je(D,C),z(T)}}}function mp(n){let e,t;return e=new Vv({props:{title:"Rolle bestimmen",open:!0,$$slots:{default:[_p]},$$scope:{ctx:n}}}),e.$on("close",n[17]),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,l){W(e,r,l),t=!0},p(r,[l]){const s={};l&8388639&&(s.$$scope={dirty:l,ctx:r}),e.$set(s)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function gp(n,e,t){let r,l,s,i,c,a,f,{playerId:v}=e;const o=w1(v)?"defense":"attack",{machine:u}=Ve(),h=ue(u.service,({context:B})=>Gs(v,B));se(n,h,B=>t(0,a=B));const p=ue(u.service,({context:B})=>B.users.filter(C=>C.side===o));se(n,p,B=>t(13,c=B));const d=ue(u.service,B=>B.can({type:"assign role",character:s,playerId:v,playingUserId:r,faceId:l}));se(n,d,B=>t(4,f=B));const y=()=>{u.send({type:"assign role",character:s,playerId:v,playingUserId:r,faceId:l})},_=B=>{t(3,l=B),y()},b=B=>{B&&(t(2,r=B),y())},T=B=>{var C;return b((C=B.detail)==null?void 0:C.value)},M=B=>_(B.id),I=()=>u.send({type:"stop editing player",side:o}),D=()=>u.send({type:"stop editing player",side:o});return n.$$set=B=>{"playerId"in B&&t(12,v=B.playerId)},n.$$.update=()=>{n.$$.dirty&1&&t(2,r=a.userId),n.$$.dirty&1&&t(3,l=a.faceId),n.$$.dirty&1&&(s=a.character),n.$$.dirty&8192&&t(1,i=c.map(B=>({value:B.id,label:B.name})))},[a,i,r,l,f,o,u,h,p,d,_,b,v,c,T,M,I,D]}class yp extends de{constructor(e){super(),ve(this,e,gp,mp,he,{playerId:12})}}function wi(n,e,t){const r=n.slice();return r[17]=e[t],r[19]=t,r}function bp(n){let e;return{c(){e=ee("Rollenverteilung")},l(t){e=te(t,"Rollenverteilung")},m(t,r){P(t,e,r)},d(t){t&&g(e)}}}function wp(n){let e;return{c(){e=ee("Schritt 3 von 3")},l(t){e=te(t,"Schritt 3 von 3")},m(t,r){P(t,e,r)},d(t){t&&g(e)}}}function kp(n){let e=n[0].side==="attack"?"Angriff":"Verteidigung",t;return{c(){t=ee(e)},l(r){t=te(r,e)},m(r,l){P(r,t,l)},p(r,l){l&1&&e!==(e=r[0].side==="attack"?"Angriff":"Verteidigung")&&Ie(t,e)},d(r){r&&g(t)}}}function Ap(n){let e;return{c(){e=ee(`Die Rollenverteilung wird von der Spielleitung übernommen. Es müssen für jede Rolle ein:e
    Spieler:in bestimmt und bestätigt werden. Die restlichen Teilnehmenden können das Spielgeschehen
    beobachten und das Team beraten.`)},l(t){e=te(t,`Die Rollenverteilung wird von der Spielleitung übernommen. Es müssen für jede Rolle ein:e
    Spieler:in bestimmt und bestätigt werden. Die restlichen Teilnehmenden können das Spielgeschehen
    beobachten und das Team beraten.`)},m(t,r){P(t,e,r)},d(t){t&&g(e)}}}function ki(n){var v;let e,t,r=((v=n[2].find(f))==null?void 0:v.name)+"",l,s,i,c,a;e=new Ht({props:{centered:!0,spacing:"none",size:"sm",$$slots:{default:[$p]},$$scope:{ctx:n}}});function f(...o){return n[14](n[17],...o)}return c=new vr({props:{faceId:n[17].faceId}}),{c(){q(e.$$.fragment),t=Z(),l=ee(r),s=Z(),i=H("div"),q(c.$$.fragment),this.h()},l(o){U(e.$$.fragment,o),t=N(o),l=te(o,r),s=N(o),i=V(o,"DIV",{class:!0});var u=S(i);U(c.$$.fragment,u),u.forEach(g),this.h()},h(){m(i,"class","face svelte-qevcdl")},m(o,u){W(e,o,u),P(o,t,u),P(o,l,u),P(o,s,u),P(o,i,u),W(c,i,null),a=!0},p(o,u){var d;n=o;const h={};u&1048578&&(h.$$scope={dirty:u,ctx:n}),e.$set(h),(!a||u&6)&&r!==(r=((d=n[2].find(f))==null?void 0:d.name)+"")&&Ie(l,r);const p={};u&2&&(p.faceId=n[17].faceId),c.$set(p)},i(o){a||($(e.$$.fragment,o),$(c.$$.fragment,o),a=!0)},o(o){E(e.$$.fragment,o),E(c.$$.fragment,o),a=!1},d(o){o&&(g(t),g(l),g(s),g(i)),z(e,o),z(c)}}}function $p(n){let e=n[17].character+"",t;return{c(){t=ee(e)},l(r){t=te(r,e)},m(r,l){P(r,t,l)},p(r,l){l&2&&e!==(e=r[17].character+"")&&Ie(t,e)},d(r){r&&g(t)}}}function Sp(n){let e,t=n[17].isConfigured?"wechseln":`${n[19]+1} bestimmen`,r;return{c(){e=ee("Rolle "),r=ee(t)},l(l){e=te(l,"Rolle "),r=te(l,t)},m(l,s){P(l,e,s),P(l,r,s)},p(l,s){s&2&&t!==(t=l[17].isConfigured?"wechseln":`${l[19]+1} bestimmen`)&&Ie(r,t)},d(l){l&&(g(e),g(r))}}}function Ai(n){let e,t,r,l,s,i=n[17].isConfigured&&ki(n);function c(){return n[15](n[19])}return r=new ft({props:{size:"small",disabled:!n[3],$$slots:{default:[Sp]},$$scope:{ctx:n}}}),r.$on("click",c),{c(){e=H("div"),i&&i.c(),t=Z(),q(r.$$.fragment),l=Z(),this.h()},l(a){e=V(a,"DIV",{class:!0});var f=S(e);i&&i.l(f),t=N(f),U(r.$$.fragment,f),l=N(f),f.forEach(g),this.h()},h(){m(e,"class","player svelte-qevcdl")},m(a,f){P(a,e,f),i&&i.m(e,null),A(e,t),W(r,e,null),A(e,l),s=!0},p(a,f){n=a,n[17].isConfigured?i?(i.p(n,f),f&2&&$(i,1)):(i=ki(n),i.c(),$(i,1),i.m(e,t)):i&&(ae(),E(i,1,1,()=>{i=null}),ce());const v={};f&8&&(v.disabled=!n[3]),f&1048578&&(v.$$scope={dirty:f,ctx:n}),r.$set(v)},i(a){s||($(i),$(r.$$.fragment,a),s=!0)},o(a){E(i),E(r.$$.fragment,a),s=!1},d(a){a&&g(e),i&&i.d(),z(r)}}}function Ep(n){let e;return{c(){e=ee("Bestätigen und weiter")},l(t){e=te(t,"Bestätigen und weiter")},m(t,r){P(t,e,r)},d(t){t&&g(e)}}}function Tp(n){let e,t;return e=new ft({props:{primary:!0,disabled:!n[4],disabledReason:n[0].isAdmin?"Alle Rollen müssen zugewiesen sein":"Nur Administrator:innen dürfen bestätigen",$$slots:{default:[Ep]},$$scope:{ctx:n}}}),e.$on("click",n[16]),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,l){W(e,r,l),t=!0},p(r,l){const s={};l&16&&(s.disabled=!r[4]),l&1&&(s.disabledReason=r[0].isAdmin?"Alle Rollen müssen zugewiesen sein":"Nur Administrator:innen dürfen bestätigen"),l&1048576&&(s.$$scope={dirty:l,ctx:r}),e.$set(s)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function $i(n){let e=n[5],t,r,l=Si(n);return{c(){l.c(),t=ye()},l(s){l.l(s),t=ye()},m(s,i){l.m(s,i),P(s,t,i),r=!0},p(s,i){i&32&&he(e,e=s[5])?(ae(),E(l,1,1,ne),ce(),l=Si(s),l.c(),$(l,1),l.m(t.parentNode,t)):l.p(s,i)},i(s){r||($(l),r=!0)},o(s){E(l),r=!1},d(s){s&&g(t),l.d(s)}}}function Si(n){let e,t;return e=new yp({props:{playerId:n[5]}}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,l){W(e,r,l),t=!0},p(r,l){const s={};l&32&&(s.playerId=r[5]),e.$set(s)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function Ip(n){let e,t,r,l,s,i,c,a,f,v,o,u,h;e=new Ht({props:{separator:!0,$$slots:{info:[wp],default:[bp]},$$scope:{ctx:n}}}),l=new Ht({props:{centered:!0,$$slots:{default:[kp]},$$scope:{ctx:n}}}),i=new as({props:{width:"full",$$slots:{default:[Ap]},$$scope:{ctx:n}}});let p=fe(n[1]),d=[];for(let b=0;b<p.length;b+=1)d[b]=Ai(wi(n,p,b));const y=b=>E(d[b],1,1,()=>{d[b]=null});v=new dr({props:{$$slots:{default:[Tp]},$$scope:{ctx:n}}});let _=n[5]!==void 0&&$i(n);return{c(){q(e.$$.fragment),t=Z(),r=H("section"),q(l.$$.fragment),s=Z(),q(i.$$.fragment),c=Z(),a=H("div");for(let b=0;b<d.length;b+=1)d[b].c();f=Z(),q(v.$$.fragment),o=Z(),_&&_.c(),u=ye(),this.h()},l(b){U(e.$$.fragment,b),t=N(b),r=V(b,"SECTION",{class:!0});var T=S(r);U(l.$$.fragment,T),s=N(T),U(i.$$.fragment,T),c=N(T),a=V(T,"DIV",{class:!0});var M=S(a);for(let I=0;I<d.length;I+=1)d[I].l(M);M.forEach(g),T.forEach(g),f=N(b),U(v.$$.fragment,b),o=N(b),_&&_.l(b),u=ye(),this.h()},h(){m(a,"class","players svelte-qevcdl"),m(r,"class","svelte-qevcdl")},m(b,T){W(e,b,T),P(b,t,T),P(b,r,T),W(l,r,null),A(r,s),W(i,r,null),A(r,c),A(r,a);for(let M=0;M<d.length;M+=1)d[M]&&d[M].m(a,null);P(b,f,T),W(v,b,T),P(b,o,T),_&&_.m(b,T),P(b,u,T),h=!0},p(b,[T]){const M={};T&1048576&&(M.$$scope={dirty:T,ctx:b}),e.$set(M);const I={};T&1048577&&(I.$$scope={dirty:T,ctx:b}),l.$set(I);const D={};if(T&1048576&&(D.$$scope={dirty:T,ctx:b}),i.$set(D),T&4175){p=fe(b[1]);let C;for(C=0;C<p.length;C+=1){const L=wi(b,p,C);d[C]?(d[C].p(L,T),$(d[C],1)):(d[C]=Ai(L),d[C].c(),$(d[C],1),d[C].m(a,null))}for(ae(),C=p.length;C<d.length;C+=1)y(C);ce()}const B={};T&1048593&&(B.$$scope={dirty:T,ctx:b}),v.$set(B),b[5]!==void 0?_?(_.p(b,T),T&32&&$(_,1)):(_=$i(b),_.c(),$(_,1),_.m(u.parentNode,u)):_&&(ae(),E(_,1,1,()=>{_=null}),ce())},i(b){if(!h){$(e.$$.fragment,b),$(l.$$.fragment,b),$(i.$$.fragment,b);for(let T=0;T<p.length;T+=1)$(d[T]);$(v.$$.fragment,b),$(_),h=!0}},o(b){E(e.$$.fragment,b),E(l.$$.fragment,b),E(i.$$.fragment,b),d=d.filter(Boolean);for(let T=0;T<d.length;T+=1)E(d[T]);E(v.$$.fragment,b),E(_),h=!1},d(b){b&&(g(t),g(r),g(f),g(o),g(u)),z(e,b),z(l),z(i),je(d,b),z(v,b),_&&_.d(b)}}}function Op(n,e,t){let r,l,s,i,c,a;const{machine:f,user:v}=Ve();se(n,v,M=>t(0,r=M));const o=ue(f.service,({context:M})=>(r.side==="attack"?M.attack:M.defense).editingPlayerId);se(n,o,M=>t(5,a=M));const u=ue(f.service,({context:M})=>r.side==="attack"?[M.attack.attacker]:M.defense.defenders);se(n,u,M=>t(1,l=M));const h=ue(f.service,M=>M.can({type:"start editing player",playerId:"attacker"}));se(n,h,M=>t(3,i=M));const p=ue(f.service,M=>M.can({type:"next step"}));se(n,p,M=>t(4,c=M));const d=M=>`defender${M}`,y=ue(f.service,({context:M})=>M.users);return se(n,y,M=>t(2,s=M)),[r,l,s,i,c,a,f,v,o,u,h,p,d,y,(M,I)=>I.id===M.userId,M=>f.send({type:"start editing player",playerId:r.side==="attack"?"attacker":d(M)}),()=>f.send({type:"next step"})]}class Pp extends de{constructor(e){super(),ve(this,e,Op,Ip,he,{})}}function Mp(n){let e;return{c(){e=ee("Unknown lobby state")},l(t){e=te(t,"Unknown lobby state")},m(t,r){P(t,e,r)},i:ne,o:ne,d(t){t&&g(e)}}}function Cp(n){let e;return{c(){e=ee("Waiting for other side")},l(t){e=te(t,"Waiting for other side")},m(t,r){P(t,e,r)},i:ne,o:ne,d(t){t&&g(e)}}}function Dp(n){let e,t;return e=new Pp({}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,l){W(e,r,l),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function jp(n){let e,t;return e=new Dv({}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,l){W(e,r,l),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function Lp(n){let e,t,r,l;const s=[jp,Dp,Cp,Mp],i=[];function c(a,f){return a[0]==="Assigning sides"?0:a[0]==="Assigning roles"?1:a[0]==="Waiting for other side"?2:3}return t=c(n),r=i[t]=s[t](n),{c(){e=H("div"),r.c(),this.h()},l(a){e=V(a,"DIV",{class:!0});var f=S(e);r.l(f),f.forEach(g),this.h()},h(){m(e,"class","lobby svelte-qtul5v")},m(a,f){P(a,e,f),i[t].m(e,null),l=!0},p(a,[f]){let v=t;t=c(a),t!==v&&(ae(),E(i[v],1,1,()=>{i[v]=null}),ce(),r=i[t],r||(r=i[t]=s[t](a),r.c()),$(r,1),r.m(e,null))},i(a){l||($(r),l=!0)},o(a){E(r),l=!1},d(a){a&&g(e),i[t].d()}}}function Fp(n,e,t){let r;const{machine:l}=Ve(),s=ue(l.service,i=>{let c;return i.matches("Lobby.Assigning sides")?c="Assigning sides":i.matches("Lobby.Assigning roles")?c="Assigning roles":i.matches("Lobby.Waiting for other side")&&(c="Waiting for other side"),c});return se(n,s,i=>t(0,r=i)),[r,s]}class Rp extends de{constructor(e){super(),ve(this,e,Fp,Lp,he,{})}}function Ei(n,e,t){const r=n.slice();return r[10]=e[t],r}function Bp(n){let e,t,r,l;e=new ft({props:{$$slots:{default:[Vp]},$$scope:{ctx:n}}}),e.$on("click",n[5]);let s=fe(n[1]),i=[];for(let a=0;a<s.length;a+=1)i[a]=Ti(Ei(n,s,a));const c=a=>E(i[a],1,1,()=>{i[a]=null});return{c(){q(e.$$.fragment),t=Z();for(let a=0;a<i.length;a+=1)i[a].c();r=ye()},l(a){U(e.$$.fragment,a),t=N(a);for(let f=0;f<i.length;f+=1)i[f].l(a);r=ye()},m(a,f){W(e,a,f),P(a,t,f);for(let v=0;v<i.length;v+=1)i[v]&&i[v].m(a,f);P(a,r,f),l=!0},p(a,f){const v={};if(f&8192&&(v.$$scope={dirty:f,ctx:a}),e.$set(v),f&10){s=fe(a[1]);let o;for(o=0;o<s.length;o+=1){const u=Ei(a,s,o);i[o]?(i[o].p(u,f),$(i[o],1)):(i[o]=Ti(u),i[o].c(),$(i[o],1),i[o].m(r.parentNode,r))}for(ae(),o=s.length;o<i.length;o+=1)c(o);ce()}},i(a){if(!l){$(e.$$.fragment,a);for(let f=0;f<s.length;f+=1)$(i[f]);l=!0}},o(a){E(e.$$.fragment,a),i=i.filter(Boolean);for(let f=0;f<i.length;f+=1)E(i[f]);l=!1},d(a){a&&(g(t),g(r)),z(e,a),je(i,a)}}}function Hp(n){let e,t;return e=new ft({props:{disabled:n[1].length===0,$$slots:{default:[Np]},$$scope:{ctx:n}}}),e.$on("click",n[6]),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,l){W(e,r,l),t=!0},p(r,l){const s={};l&2&&(s.disabled=r[1].length===0),l&8192&&(s.$$scope={dirty:l,ctx:r}),e.$set(s)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function Vp(n){let e;return{c(){e=ee("Abbrechen")},l(t){e=te(t,"Abbrechen")},m(t,r){P(t,e,r)},d(t){t&&g(e)}}}function Zp(n){let e=n[10].item.id+"",t;return{c(){t=ee(e)},l(r){t=te(r,e)},m(r,l){P(r,t,l)},p(r,l){l&2&&e!==(e=r[10].item.id+"")&&Ie(t,e)},d(r){r&&g(t)}}}function Ti(n){let e,t;function r(){return n[7](n[10])}return e=new ft({props:{$$slots:{default:[Zp]},$$scope:{ctx:n}}}),e.$on("click",r),{c(){q(e.$$.fragment)},l(l){U(e.$$.fragment,l)},m(l,s){W(e,l,s),t=!0},p(l,s){n=l;const i={};s&8194&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){E(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function Np(n){let e;return{c(){e=ee("Gegenstand einsammeln")},l(t){e=te(t,"Gegenstand einsammeln")},m(t,r){P(t,e,r)},d(t){t&&g(e)}}}function Gp(n){let e,t,r,l;const s=[Hp,Bp],i=[];function c(a,f){return a[0]?1:0}return e=c(n),t=i[e]=s[e](n),{c(){t.c(),r=ye()},l(a){t.l(a),r=ye()},m(a,f){i[e].m(a,f),P(a,r,f),l=!0},p(a,[f]){let v=e;e=c(a),e===v?i[e].p(a,f):(ae(),E(i[v],1,1,()=>{i[v]=null}),ce(),t=i[e],t?t.p(a,f):(t=i[e]=s[e](a),t.c()),$(t,1),t.m(r.parentNode,r))},i(a){l||($(t),l=!0)},o(a){E(t),l=!1},d(a){a&&g(r),i[e].d(a)}}}function qp(n,e,t){let r,l;const{machine:s}=Ve(),i=(h,p,d)=>{const y=Te.fromContext(h);return{type:"apply game event",gameEvent:{type:"action",action:"collect",finalized:p,playerId:y.activePlayer.id,itemId:d,position:y.activePlayerPosition}}},c=ue(s.service,({context:h})=>{const p=Te.fromContext(h),d=p.activePlayerPosition;return p.getItemsForCoordinate(d).filter(y=>Zo(y.item.id,p.activeSide))});se(n,c,h=>t(1,l=h));const a=(h=!1,p)=>{const d=s.service.getSnapshot().context;s.send(i(d,h,p))},f=ue(s.service,({context:h})=>{const p=Te.fromContext(h);return Is(p.lastEvent,"collect")});return se(n,f,h=>t(0,r=h)),[r,l,c,a,f,()=>s.send({type:"cancel game event"}),()=>a(!1),h=>a(!0,h.item.id)]}class Up extends de{constructor(e){super(),ve(this,e,qp,Gp,he,{})}}function Ii(n){let e,t,r,l,s;return l=new Up({}),{c(){e=H("div"),t=H("ul"),r=H("li"),q(l.$$.fragment),this.h()},l(i){e=V(i,"DIV",{class:!0});var c=S(e);t=V(c,"UL",{class:!0});var a=S(t);r=V(a,"LI",{});var f=S(r);U(l.$$.fragment,f),f.forEach(g),a.forEach(g),c.forEach(g),this.h()},h(){m(t,"class","svelte-wm8yo3"),Y(t,"on-left",n[1][0]>5),Y(t,"on-top",n[1][1]>4),m(e,"class","actions svelte-wm8yo3"),De(e,"--x",n[1][0]),De(e,"--y",n[1][1])},m(i,c){P(i,e,c),A(e,t),A(t,r),W(l,r,null),s=!0},p(i,c){(!s||c&2)&&Y(t,"on-left",i[1][0]>5),(!s||c&2)&&Y(t,"on-top",i[1][1]>4),c&2&&De(e,"--x",i[1][0]),c&2&&De(e,"--y",i[1][1])},i(i){s||($(l.$$.fragment,i),s=!0)},o(i){E(l.$$.fragment,i),s=!1},d(i){i&&g(e),z(l)}}}function Wp(n){let e,t,r=n[0]&&Ii(n);return{c(){r&&r.c(),e=ye()},l(l){r&&r.l(l),e=ye()},m(l,s){r&&r.m(l,s),P(l,e,s),t=!0},p(l,[s]){l[0]?r?(r.p(l,s),s&1&&$(r,1)):(r=Ii(l),r.c(),$(r,1),r.m(e.parentNode,e)):r&&(ae(),E(r,1,1,()=>{r=null}),ce())},i(l){t||($(r),t=!0)},o(l){E(r),t=!1},d(l){l&&g(e),r&&r.d(l)}}}function zp(n,e,t){let r,l;const{machine:s}=Ve(),i=ue(s.service,a=>a.matches("Playing.Gameloop.Playing.Action"));se(n,i,a=>t(0,r=a));const c=ue(s.service,({context:a})=>Te.fromContext(a).activePlayerPosition);return se(n,c,a=>t(1,l=a)),[r,l,i,c]}class xp extends de{constructor(e){super(),ve(this,e,zp,Wp,he,{})}}function Xp(n){let e,t,r,l,s,i,c,a,f,v,o,u,h,p,d,y,_,b,T,M,I,D,B,C,L,j,k,O,X,x,oe,ie,ke,_e,G,J,me,Fe,Ne,Re,Ye,dt,et,tt,Tt,Je,vt,nt,qe,ge,pt,rt,lt,Ze,Qe,pe,It,_t,be,Ue,Ot,Ae,We,mt,gt,Gt,xe,qt,Pt,Ut,Wt,zt,xt,Xt,Mt,Kt,Jt,Qt,Ct,Dt,jt,it,Lt,st;return{c(){e=F("svg"),t=F("g"),r=F("path"),l=F("mask"),s=F("path"),i=F("g"),c=F("path"),a=F("path"),f=F("path"),v=F("path"),o=F("path"),u=F("path"),h=F("path"),p=F("path"),d=F("path"),y=F("path"),_=F("path"),b=F("path"),T=F("path"),M=F("path"),I=F("path"),D=F("path"),B=F("path"),C=F("path"),L=F("path"),j=F("path"),k=F("path"),O=F("path"),X=F("path"),x=F("path"),oe=F("path"),ie=F("path"),ke=F("path"),_e=F("path"),G=F("path"),J=F("path"),me=F("path"),Fe=F("path"),Ne=F("path"),Re=F("path"),Ye=F("path"),dt=F("path"),et=F("path"),tt=F("path"),Tt=F("path"),Je=F("path"),vt=F("path"),nt=F("path"),qe=F("path"),ge=F("path"),pt=F("path"),rt=F("path"),lt=F("path"),Ze=F("mask"),Qe=F("path"),pe=F("g"),It=F("path"),_t=F("path"),be=F("path"),Ue=F("path"),Ot=F("path"),Ae=F("path"),We=F("path"),mt=F("path"),gt=F("path"),Gt=F("path"),xe=F("path"),qt=F("path"),Pt=F("path"),Ut=F("path"),Wt=F("path"),zt=F("path"),xt=F("path"),Xt=F("path"),Mt=F("path"),Kt=F("path"),Jt=F("path"),Qt=F("path"),Ct=F("path"),Dt=F("path"),jt=F("path"),it=F("defs"),Lt=F("clipPath"),st=F("path"),this.h()},l(Ft){e=R(Ft,"svg",{viewBox:!0,fill:!0,xmlns:!0,class:!0});var Yt=S(e);t=R(Yt,"g",{"clip-path":!0});var yt=S(t);r=R(yt,"path",{d:!0,fill:!0}),S(r).forEach(g),l=R(yt,"mask",{id:!0,style:!0,maskUnits:!0,x:!0,y:!0,width:!0,height:!0});var zn=S(l);s=R(zn,"path",{d:!0,fill:!0}),S(s).forEach(g),zn.forEach(g),i=R(yt,"g",{mask:!0});var Q=S(i);c=R(Q,"path",{d:!0,fill:!0}),S(c).forEach(g),a=R(Q,"path",{d:!0,fill:!0}),S(a).forEach(g),f=R(Q,"path",{d:!0,fill:!0}),S(f).forEach(g),v=R(Q,"path",{d:!0,fill:!0}),S(v).forEach(g),o=R(Q,"path",{d:!0,fill:!0}),S(o).forEach(g),u=R(Q,"path",{d:!0,fill:!0}),S(u).forEach(g),h=R(Q,"path",{d:!0,fill:!0}),S(h).forEach(g),p=R(Q,"path",{d:!0,fill:!0}),S(p).forEach(g),d=R(Q,"path",{d:!0,fill:!0}),S(d).forEach(g),y=R(Q,"path",{d:!0,fill:!0}),S(y).forEach(g),_=R(Q,"path",{d:!0,fill:!0}),S(_).forEach(g),b=R(Q,"path",{d:!0,fill:!0}),S(b).forEach(g),T=R(Q,"path",{d:!0,fill:!0}),S(T).forEach(g),M=R(Q,"path",{d:!0,fill:!0}),S(M).forEach(g),I=R(Q,"path",{d:!0,fill:!0}),S(I).forEach(g),D=R(Q,"path",{d:!0,fill:!0}),S(D).forEach(g),B=R(Q,"path",{d:!0,fill:!0}),S(B).forEach(g),C=R(Q,"path",{d:!0,fill:!0}),S(C).forEach(g),L=R(Q,"path",{d:!0,fill:!0}),S(L).forEach(g),j=R(Q,"path",{d:!0,fill:!0}),S(j).forEach(g),k=R(Q,"path",{d:!0,fill:!0}),S(k).forEach(g),O=R(Q,"path",{d:!0,fill:!0}),S(O).forEach(g),X=R(Q,"path",{d:!0,fill:!0}),S(X).forEach(g),x=R(Q,"path",{d:!0,fill:!0}),S(x).forEach(g),oe=R(Q,"path",{d:!0,fill:!0}),S(oe).forEach(g),ie=R(Q,"path",{d:!0,fill:!0}),S(ie).forEach(g),ke=R(Q,"path",{d:!0,fill:!0}),S(ke).forEach(g),_e=R(Q,"path",{d:!0,fill:!0}),S(_e).forEach(g),G=R(Q,"path",{d:!0,fill:!0}),S(G).forEach(g),J=R(Q,"path",{d:!0,fill:!0}),S(J).forEach(g),me=R(Q,"path",{d:!0,fill:!0}),S(me).forEach(g),Fe=R(Q,"path",{d:!0,fill:!0}),S(Fe).forEach(g),Ne=R(Q,"path",{d:!0,fill:!0}),S(Ne).forEach(g),Re=R(Q,"path",{d:!0,fill:!0}),S(Re).forEach(g),Ye=R(Q,"path",{d:!0,fill:!0}),S(Ye).forEach(g),dt=R(Q,"path",{d:!0,fill:!0}),S(dt).forEach(g),et=R(Q,"path",{d:!0,fill:!0}),S(et).forEach(g),tt=R(Q,"path",{d:!0,fill:!0}),S(tt).forEach(g),Tt=R(Q,"path",{d:!0,fill:!0}),S(Tt).forEach(g),Je=R(Q,"path",{d:!0,fill:!0}),S(Je).forEach(g),vt=R(Q,"path",{d:!0,fill:!0}),S(vt).forEach(g),nt=R(Q,"path",{d:!0,fill:!0}),S(nt).forEach(g),qe=R(Q,"path",{d:!0,fill:!0}),S(qe).forEach(g),ge=R(Q,"path",{d:!0,fill:!0}),S(ge).forEach(g),pt=R(Q,"path",{d:!0,fill:!0}),S(pt).forEach(g),rt=R(Q,"path",{d:!0,fill:!0}),S(rt).forEach(g),lt=R(Q,"path",{d:!0,fill:!0}),S(lt).forEach(g),Q.forEach(g),Ze=R(yt,"mask",{id:!0,style:!0,maskUnits:!0,x:!0,y:!0,width:!0,height:!0});var un=S(Ze);Qe=R(un,"path",{d:!0,fill:!0}),S(Qe).forEach(g),un.forEach(g),pe=R(yt,"g",{opacity:!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0,mask:!0});var $e=S(pe);It=R($e,"path",{d:!0}),S(It).forEach(g),_t=R($e,"path",{d:!0}),S(_t).forEach(g),be=R($e,"path",{d:!0}),S(be).forEach(g),Ue=R($e,"path",{d:!0}),S(Ue).forEach(g),Ot=R($e,"path",{d:!0}),S(Ot).forEach(g),Ae=R($e,"path",{d:!0}),S(Ae).forEach(g),We=R($e,"path",{d:!0}),S(We).forEach(g),mt=R($e,"path",{d:!0}),S(mt).forEach(g),gt=R($e,"path",{d:!0}),S(gt).forEach(g),Gt=R($e,"path",{d:!0}),S(Gt).forEach(g),xe=R($e,"path",{d:!0}),S(xe).forEach(g),qt=R($e,"path",{d:!0}),S(qt).forEach(g),Pt=R($e,"path",{d:!0}),S(Pt).forEach(g),Ut=R($e,"path",{d:!0}),S(Ut).forEach(g),Wt=R($e,"path",{d:!0}),S(Wt).forEach(g),zt=R($e,"path",{d:!0}),S(zt).forEach(g),xt=R($e,"path",{d:!0}),S(xt).forEach(g),Xt=R($e,"path",{d:!0}),S(Xt).forEach(g),Mt=R($e,"path",{d:!0}),S(Mt).forEach(g),Kt=R($e,"path",{d:!0}),S(Kt).forEach(g),Jt=R($e,"path",{d:!0}),S(Jt).forEach(g),Qt=R($e,"path",{d:!0}),S(Qt).forEach(g),Ct=R($e,"path",{d:!0}),S(Ct).forEach(g),Dt=R($e,"path",{d:!0}),S(Dt).forEach(g),$e.forEach(g),jt=R(yt,"path",{d:!0,fill:!0}),S(jt).forEach(g),yt.forEach(g),it=R(Yt,"defs",{});var hn=S(it);Lt=R(hn,"clipPath",{id:!0});var xn=S(Lt);st=R(xn,"path",{fill:!0,d:!0}),S(st).forEach(g),xn.forEach(g),hn.forEach(g),Yt.forEach(g),this.h()},h(){m(r,"d","M804 0H0v715h804V0Z"),m(r,"fill","#1B253A"),m(s,"d","M804 0H0v715h804V0Z"),m(s,"fill","#fff"),m(l,"id","b"),De(l,"mask-type","luminance"),m(l,"maskUnits","userSpaceOnUse"),m(l,"x","0"),m(l,"y","0"),m(l,"width","804"),m(l,"height","715"),m(c,"d","M291 651 78 822l264 19-51-190Z"),m(c,"fill","#747D4A"),m(a,"d","m52 154 99 41 13-295L52 154Z"),m(a,"fill","#257A86"),m(f,"d","m-163 10 113 211L6 28l-169-18Z"),m(f,"fill","#247771"),m(v,"d","m6 28-56 193 102-67L6 28Z"),m(v,"fill","#297877"),m(o,"d","m52 154-102 67 201-26-99-41Z"),m(o,"fill","#227776"),m(u,"d","m-50 221 66 228 135-254-201 26Z"),m(u,"fill","#2C7871"),m(h,"d","m-50 221-28 271 94-43-66-228Z"),m(h,"fill","#317865"),m(p,"d","m-78 492 48 148 46-191-94 43Z"),m(p,"fill","#37785E"),m(d,"d","m6 28 46 126 112-254L6 28Z"),m(d,"fill","#2F7B85"),m(y,"d","m-30 640-112 90 220 92-108-182Z"),m(y,"fill","#4A7A50"),m(_,"d","M-163 10 6 28l158-128-327 110Z"),m(_,"fill","#2D7A7E"),m(b,"d","m-221-59 58 69 327-110-385 41Z"),m(b,"fill","#246E4C"),m(T,"d","m708 634 141 73 105-178-246 105Z"),m(T,"fill","#934038"),m(M,"d","m16 449-46 191 265-149-219-42Z"),m(M,"fill","#37785E"),m(I,"d","M235 491-30 640l321 11-56-160Z"),m(I,"fill","#436D56"),m(D,"d","M151 195 16 449l219 42-84-296Z"),m(D,"fill","#2D726B"),m(B,"d","M-30 640 78 822l213-171-321-11Z"),m(B,"fill","#4C764F"),m(C,"d","m164-100-13 295L300 62 164-100Z"),m(C,"fill","#2B7B8D"),m(L,"d","m355 309 124 182 16-252-140 70Z"),m(L,"fill","#585E60"),m(j,"d","m300 62 55 247 140-70L300 62Z"),m(j,"fill","#3C597F"),m(k,"d","M300 62 151 195l204 114-55-247Z"),m(k,"fill","#336882"),m(O,"d","m151 195 84 296 120-182-204-114Z"),m(O,"fill","#3C6671"),m(X,"d","m235 491 56 160 188-160H235Z"),m(X,"fill","#67715B"),m(x,"d","M355 309 235 491h244L355 309Z"),m(x,"fill","#56655E"),m(oe,"d","m300 62 195 177 26-157-221-20Z"),m(oe,"fill","#3A5584"),m(ie,"d","M164-100 300 62l221 20-357-182Z"),m(ie,"fill","#34638D"),m(ke,"d","m495 239 178 250 20-306-198 56Z"),m(ke,"fill","#856865"),m(_e,"d","m291 651 51 190 210-58-261-132Z"),m(_e,"fill","#8B674A"),m(G,"d","M479 491 291 651l261 132-73-292Z"),m(G,"fill","#8F6E4D"),m(J,"d","m708 634-44 143 54 34-10-177Z"),m(J,"fill","#853F33"),m(me,"d","M849 707 718 811l150 94-19-198Z"),m(me,"fill","#8E3D35"),m(Fe,"d","m683-20 10 203 53-107-63-96Z"),m(Fe,"fill","#725981"),m(Ne,"d","m495 239-16 252 194-2-178-250Z"),m(Ne,"fill","#886D5F"),m(Re,"d","M683-20 521 82l172 101-10-203Z"),m(Re,"fill","#554C76"),m(Ye,"d","M829 378 673 489l281 40-125-151Z"),m(Ye,"fill","#945050"),m(dt,"d","M164-100 521 82 683-20l-519-80Z"),m(dt,"fill","#3F5684"),m(et,"d","m521 82-26 157 198-56L521 82Z"),m(et,"fill","#524F7F"),m(tt,"d","m552 783 112-6 44-143-156 149Z"),m(tt,"fill","#914134"),m(Tt,"d","m479 491 73 292 156-149-229-143Z"),m(Tt,"fill","#9A5C4E"),m(Je,"d","m673 489-194 2 229 143-35-145Z"),m(Je,"fill","#9A6556"),m(vt,"d","m693 183 136 195 41-242-177 47Z"),m(vt,"fill","#8A5F6E"),m(nt,"d","m693 183-20 306 156-111-136-195Z"),m(nt,"fill","#936360"),m(qe,"d","m708 634 10 177 131-104-141-73Z"),m(qe,"fill","#994B3A"),m(ge,"d","m746 76 124 60 243-236L746 76Z"),m(ge,"fill","#765076"),m(pt,"d","m683-20 63 96 367-176-430 80Z"),m(pt,"fill","#644B7B"),m(rt,"d","m746 76-53 107 177-47-124-60Z"),m(rt,"fill","#7A5A6F"),m(lt,"d","m673 489 35 145 246-105-281-40Z"),m(lt,"fill","#924E4C"),m(i,"mask","url(#b)"),m(Qe,"d","M804 0H0v715h804V0Z"),m(Qe,"fill","#fff"),m(Ze,"id","c"),De(Ze,"mask-type","luminance"),m(Ze,"maskUnits","userSpaceOnUse"),m(Ze,"x","0"),m(Ze,"y","0"),m(Ze,"width","804"),m(Ze,"height","715"),m(It,"d","m1145 285-1-1-3 1-2 1-2 2-5 6h-4a122 122 0 0 1-8 0h-9l-3-6-3-4 3-3-1-2v-1l-1-1c-3-1-9-6-9-7h-4l-5-2h-6c-1 0-4 0-5-3l-1-3v-2l-3-3-1-3v-1c1-2 2-4 0-5h-1c-3-1-4-2-4-4v-4l-2-3-1-2v-4l-1-1h-1v-3l1-1-1-1h-2l-1-1v-4l-2-1-3-2c0-2-1-3-2-3h-7a59 59 0 0 0-15-7 253 253 0 0 0-26 8l-5 5v5h1l3 1 1 2v7h1l-1 2-4 4-8 22h-1l1 2 1 1 1 2-3 2-5 3-3 2-4 1-1-1-8-1-2 4-1 1-1 4-4 9-2 3-2 3 1 4 5 3h14l2-1 3-2c2-2 3 0 5 1a22 22 0 0 0 6 4c3 1 5 2 6 4l2 3 2 3-1 2c-3 2-5 3-8 2l-2-1c-1-1-1-2-2-1l-7 2h-4l-2 5h-5c0 1-4 9-6 10l-7 5v1h-8v1c0 2 0 4-2 6l-5 1-8 1-5-1c-1-1-5 0-7 1l-3 5 5 10s-8 5-9 8l-5 6-3 2-7 4-17 2a312 312 0 0 0-28 14l-2-2v-2h-17l-10-5-8-2h-8l-3 1h-6a608 608 0 0 0-12 0h-6l-6-1-2 1h-2l-1 1v1h-1l-2-2-7-10v-3l-2-3-1-2 1-2h-8c-2 0-3-1-5-3-3-2-6-4-11-5h-20c-3 0-4-1-5-4l-1-2v-2l2-5-1-3 1-5-1-2-1-1c-2-4-4-10-6-11l-4-3-1 1-1-1-1-2-2-1h-5l-3-2-4-3-1-1-2-3-5 3h-1l-2 2c0 1-1 2-3 1l-6-1-6-1-5-1-6 23c1 1 3 3 2 4v1l-1 1h-6v-2l-3 1-4 2-6 3h-5c-1-1-1-1-2 1l-1 2v1l1 1 3 2 2 2v6l3 6 1 2 1 2c0 1 1 2-1 3l-2 1v2l1 1-1 1h-1l-1 2v5h-1l2 3v2h-4l-1 1-5 3-7 5-3 2-5 4c-1 2-2 2-3 1l-2-1c-2 0-5 1-7 4l-2 3-4 4-5 1-1-5-1 2-5 1h-1l-1 1-1 1-2 2-4 2-2 1-1 1 1 2v4l-1 1h-3l2 4 1 4 1 2 4 2h2c3 1 4 1 5 3v2l1 2 1 1 1 1v6l-2 2v1l-2-1h-2l-1 1v1l1 1v2h-10l-3 2c-1 1-2 1-2 3l-2 4h-1l-2 1h-1l2 2c2 3 4 4 7 4l2 1h3l2 2-1 4-1 2-1 1-1 2-1 1 1 2 1 3 1 1v10c-1 2-1 3 1 4h2l3 1 5 3v2h6c1 2 3 2 3 2l1 2 2 1 2-1 3-1 4-3 4-3 1-2-1-2c1-2 2-3 5-3l1-1 2-1 6 1 2 1 1 1h2l2-1h2l1 1v1l1 3 2-1 1-1 1 1-1 3 1 2 2 4 1 1 1 1 1 3v5c0 1 0 2 2 2h5l2 1c2 0 3 0 3 2v1c1 2 1 3 3 3l1-1h2l1 2 3 3h1l1 1 1-1v-2l2-1h7l1 2v1l-1 1 1 1h1l3 1 3 2 4 2 1 2 2 3h2l2-1h4v2l1 3 2 1 2 2h1l3-1 1 3v1h3l2-1 3 4 1 1h2v1l1 1h1l1-2 1-1h1l7 3h9v2l-1 4 3-2 2 2 2 1 3-1 2-2 2-2h13l3-1h5l1 1 3 2 1 2 1 1v6h1l1 1-1 1h13l2-1v-1l2-2 1-1 3-1h2l4-4 3-2 3-2c1-2 2-2 3-1l2 1 5 1 1 1 3 1 3 2 1-1v-4l-2-1-3-3-1-2v-1l-1-2-3-3-2-1-3 1-3 1-5 1-3-1-2-1-1 1-1 2-1 1-1 1-2 1-2 2-4 1-2 1-2 1-1 1-2 2-1 3h-4v-1l2 1 1-1 2-2 2-2 1-1 2-2h2l4-1 2-2 2-2 1-2 1-1 2-1 2 1h8l3-1 2-1 1-1 2 2 3 3 1 2h1l1 3 2 3 2 1 3-3 1-1v1l3 2 2 5v3l-1 1h1l1-1 1-1 2 1 1 6a101 101 0 0 0 0 8l-1 2v5l-1 1-2 1h-1l-1 1-1 1-1 1c-2 1-2 1-2 3l-1 2-1 1-1 1v2h2l1 1v2l-2 2v1h4l2-2 3-1h5v1l-1 3c-1 1 0 2 1 3v4h-1l2 1 2-1 2 1h1l-3 9 1-1c2 0 3 1 4 3l3 3c2 4 3 5 4 4l4-1 3-2 2 1v1l1 2 2 1 2-1-1-6v-6h4v1l3-4 3 1 2 2 3 1 1-1v-1l1-3 2 2 1-3 1 1v1l2 2 1-2v-1l1-1v1l-1 1h2l3-3 4-2 2-1h2l2 2 3 3 2-1 4-1 2 1h1l1 1-1 1-1 2-1 2v2c2 2 3 3 5 3h1l1 1c2 0 2-1 3-4 1-2 3-1 4-2 2-1 2 0 4 1 2 2 4 1 7 0 2 0 3 3 2 4-1 2 0 5 1 8s5 3 7 2 1-3-1-4l-2-4c0-1 3-4 4-3l10-2c4-1 2-3 3-3h5c2-1 2-4 5-4s3-1 3-6c1-6 2-4 5-1 2 3 3 4 4 2l2-2 4-1 6-1 6-2c5-1 6-2 7-6l1-3h5l2-3 4-2 1-2-4-1c-1-1 1-2 2-3h6c3 0 0-2 0-3 0-2 1-3 2-3v-4l2-1h3l1-5-2-2v-2l3-1-1-2-3-2 1-4c2-1 2 2 4 2l5-7 3-12c2-3 4-1 5-2 2-2-1-3-1-5s2-2 2-3l-5-2c-1-1 2-1 5-1 2 0 2-1 2-3 0-1-1-3-2-2s-4 3-6 2c-3 0 0-1 2-2 2 0 3-2 3-4 1-2-2-2-3-3l-6-2c-4 0-2 3-4 2-3 0-3-3-1-4l4-1 3-3 4-2c1-1-1-5-3-6-1-2-4-2-7-4-3-1-5-3-4-4l3 2 4-1 6 1c3 0 0 0 0-3l-5-5-6-3c-2-1-1-5-2-6l-5-5c-1-2-1-10-9-12-7-2-8-7-9-9-1-1 0-5 1-8 1-2 3-2 5-3 2 0 1-2 0-4s1-3 4-3 3-3 7-5 8-2 11-1c2 0 2-6 2-9 1-4-3-3-8-3s-8 0-11-2c-4-2-6-3-10 5-4 7-10 4-11 2-2-3-2-7-5-7s-4-1-9-4c-5-4-4-14-1-13 4 0 11-1 11-3l1-9c1-2 9-5 9-8 1-3 1-11 10-10s4 12 3 14v7c2 1 3 2 3 5 1 4-4 2-5 3-2 2 0 4 3 4 2 0 4-1 7-7s10-9 14-10c3 0 4-1 8 1v-1l3-3 1-3v-3l1-1 2-4 3-2 1-1 3-3a98 98 0 0 0 1-6l1-5 3-2 2 4 8-1 1-4-3-4 6-2 2-4 6-2-3-9 5 1 2 2 4 3s1-1 2 1h1c2-1 3-2 3-4 0-1 0-4 2-6l2-2v-2l1-5c-1-3 1-4 2-4l2-1 3-5v-1l3-1h1l2-6 3-2v-2l2-5 1-1 2-1v-8h1l3-2 4-4 2-3 2-3-2-2Z"),m(_t,"d","M559 469h-2l-7 1c-2 0-3 0-3 2l-3 4-2 2-1-1v-1l-3 5 3 4 2 2-1 3-1 1 2 1v1l-6 8-1 2c1 0 2 3 0 5l-5 1-3-1-3 1 1 1 3 5 1 4-5 1-3 4-1 2h1v1c1 0 1 0 0 0l-4 2 1 1 1 1-1 5-1 1-1 1c-1 1-1 2-3 2l-1-2-1-1-4 1-4 2-3 1v1l3 3-1 1h-5l-4 1-3 1-4 4c-1 1 0 2 1 3l1 1v6h-10l-3-1-2-1-3 2-2 2h-3a8 8 0 0 1-3 0l-5-1h-10l2 5c0 2 1 4 4 5h9-1v10l3 2 4 2-1 2-2 5h-2v-1l-2 1c-2 0-4 2-5 3l-3 2h-1v12l11-1 6-1 6 1 9-2c3-1 10-1 13 2l5 4c4 2 4 9 5 11s7 5 10 2l4-1a10 10 0 0 1 4-2l1-2 1-2h3l2 1 3 1 2-1c1-1 2-2 3-1l3-1h1l1 1h4v-4l-3-8v-4h-3c-1-1-4-2-3-3l1-8h-5l-2-1c-1-3-1-9 4-12 4-3 6-4 7-3h1v1c1 1 1 2 3 1l3-1 5-1c3-1 3-2 5-5a423 423 0 0 1 9-13c1-3 2-6 5-8l4-3v-2l2-2 3-3 2-4h1v-6l-2-2h1l-3-1-1-1-3-3h-5l-1-1v-1l-4-3h-3l-3-1-1-4v-4l1-2c0-1 1-2-1-4l-1-1-1-3v-3l1-2 1-2 1-1c1-1 2-2 1-4l-2-1-2-1-3-1c-2 0-5-1-7-4l-1-3h3v-1l2-3 2-3 4-2h-3ZM339 618l4 2h1l1-4-1-10c-1-6-2-5-4-6s-2 2-3 3 0 4 1 6v5h-1l2 3v1Z"),m(be,"d","m382 645-25-3-8-18v-1l-4-1v-1h-3l-3-3a75 75 0 0 0-4-6l-2-5-2-3-2-7-1-4-2-2-3-4-2-2-4-3-3-2-1-3a17 17 0 0 0-5 1l-2-5-10-2-6 1c-5 0-10 1-12-1-1-2-20-19-30-25l-25-11h-2l-3 2-19 5 4 5 5 8v1c-1 1-3 4-5 4l-3 1c-2-1-3-1-5 2l-1 2c-1 2-2 4-5 4l-15-3-1 8c-1 4-2 5-1 6l6 3 8 11c2 4 3 9 7 12 5 4 5 8 6 11 0 4 4 5 10 8 5 4 8 12 9 23 1 10 8 16 13 18 4 3 7 6 10 13 3 8 6 12 9 15 4 3 3 5 5 8l5 6 2-5h1l1 1 1 1h12l7-3 8-1 4 2 3 2c1-1 3-4 4-9 0-5 16-8 20-8l24-3 30-12 6-21-1-7ZM31 248l-1-1 1-2 2-2v-3l-1-1-1 1h-3l-1 1-4 1 1 1c5 2 0 5-2 6l-16-1 3 2h7l3 1h7l2-1 2-1h1v-1Z"),m(Ue,"d","m55 235-2-1-1-1 1-1v-1l1-1-1-1h-1l-2-3-1-2-5-2h-1l-2-2v-1l-2 2h-3c-1 0-4 0-5-2h-2l-1 1h-6c-3-1-4 0-8 3l-4 2-2 2c1 3 6 10 8 11l6 3a22 22 0 0 0 6-1l3-1h2v4l-1 2-1 1v5h7l2-2h2l1-1 1-1v-1l1 1 1 1h1v-1h-1v-5l1-1 1-1v-1l1-1 1-1 1-1 1-1h4-1Zm1346-451c-2-5-5-4-4-7 2-4 1-8-2-10-3-1-8-10-6-13 3-3 7-6 5-11s-5-3-5-8c0-4-1-6-5-7l-15-4c-2-1-9 0-10 1 0 1-4-1-11 8-6 8-7 0-13-4-5-4-14-1-18-2-4 0-11 0-21-2l-18-1c-5 0-9-3-19-6s-15-2-25-3c-10-2-30 7-38 8s-18 1-15 3 4 7 7 12c3 6 8 2 16 14s-7 11-11 8c-3-3-2-5-6-5-3 0-9-1-11-6s2-5 4-10c1-5-8-6-14-6-5 0-1 7-1 14s-6 5-10 6c-3 0-9 5-13 4s-6-2-10 3c-4 4-9 6-19 8s-15 0-20-15-22-13-28-13c-7 0-6 3-10 3l-12 8c-5 3-14 9-19 10s-4-4-5-7c-1-4-12-7-14-6-1 2-5 9-7 7-1-1 2-4-2-6-5-2-5 4-6 3 0-2-6-4-8-4-2-1-2-5 2-6 5-1 1-6-4-9-5-2-17-1-22 2-5 4-9 7-10 6-1-2 4-3 0-3l-31 2h-16c-6-1-7 4 2 5 8 1 1 6-5 7-6 2 0 9 1 11 2 2 3-1 5-1 1 1-1 4 1 5 3 1 1 2 6 5 5 2 3 5 1 7s-3 1-5-2c-3-3-7 2-8 3-1 2-3 4-11 4s-11 1-11 6-4 4-9 4c-4 0-9-2-12-5-4-3-5-5-6-4s2 4 3 8c1 5 1 7 5 13 3 7 1 11-4 11-4 1-3 0-7-3-5-2-9-8-14-10-6-2-10-2-15-5s-7-7 0-5 8-2 7-6-4-5-7-7c-4-1-5-5-11-13-6-7-18-8-24-7-6 0 0 5-3 5-3-1-3-3-16-5-14-2-9 10-3 16s2 7 0 7-4-2-8 1c-3 4-13 5-25 5-11 0-8-6-6-11 1-5-10-1-13 0-2 1-11-1-16 2-5 2-14 12-14 7-1-6-6-2-6-1s-2 3-6 3c-5 1-4 0-6-1s-4-1-3-4c1-2-1-4-2-3s1 6-3 3-8 0-8 1v7c-1 5 4 3 6 1 2-3 4-4 5-3l-1 5-6 8c-3 4-4 5-12 10-7 4-7 0-6-3 0-2 0-8 2-9s4-2 5-5c2-3-1-6 0-9 1-4 3-6 2-8s1-4 3-7l3-7v-7c0-3 4-6 4-9l-2-12c-1-2-4-1-4-2-1-1 1-3 1-5 0-1-3-6-7-8-3-3-4-6-7-7-3 0 1 5 0 6s-5-3-6-6c-2-2-4-4-8-5-5-2-8-1-9-5 0-3-5 0-10 4s-7 4-11 4c-4 1-4 1-3 3 2 2 2 6 0 10-1 4-3 3-7-2-3-6-2-17-7-18-6 0-11 5-13 5-3 0-1-2 0-6 2-4 1-7-1-9s-5-2-10-3c-4-1-7-1-11 2-5 4-2 14-4 18s1 6 1 8c1 3-4 3 4 9 8 7-1 12-4 12-2 1-4 2-4 5 1 3 2 4 0 4l-4 5-4 4c-1 0-1 5-2 4l-2-2c0 1-3 4-3 2v-5c-1-3-6-1-12 1s-11 4-11 7 1 5-2 9c-3 3-19 10-19 13l-4 10c-1 3-3 9-3 14s3 6 5 7c1 1-4 8 4 9 7 0 2 6 1 6l-13 6c-3 0-6 3-10 4l-14 4c-8 3-5 8-2 11 2 3 6 6 7 11 1 4 4 8 10 7 6 0 5 0 10 7s1 10-3 10l-8-5c-2-2-3-4-5-4s-5-1-8-4c-4-3-12-1-14-1-1 1-7 7 1 9 9 2 3 10-3 6-6-3-9-2-10 1-2 2 2 5 9 11s-4 7-5 6c-2-1-6-9-7-10l-3-7c1-3-1-4-1-6 1-3-2-2-2-4 1-3-1-3-4-7-2-3-4-2-2 2 2 3 3 8 3 12 0 5-4 6-6 9-1 3 2 3 0 10-1 7-8 2-9 0v-7c1-2-1-14-2-18-1-3-3-3-6-5s-7-2-10-1h-12c-3-1-3 2-3 5l2 13c2 8-1 17-6 24-4 7 2 13 5 15s1 6 3 9 0 4 1 9 3 4 9 5c5 1 4 1 4 5 1 3 5 4 11 7 5 3 3 11 1 13-3 1-7-2-9-4l-7-7-11-4-9-3-6-6c-4-2-12-2-21-2l-11 1-1 1c-2-4-6-5-10-8l-6-5-2 1c-2 2-3 4 0 8s6 5 8 6l5 2c1 0 5-1 5-3v2l2 7c2 3 6 4 7 7s-1 4-2 6c0 2-3 0-5 0l1 4c1 2-1 5-4 5s-1-7-2-11c0-4-4-2-8 1s-7 7-10 7-10 0-13 2-5 7-7 7c-3 0-3-2-3-3l-1-5c-1-2-4-3-3-4 2-1 5-3 4-4l-7 2c-4 2-4 4-6 5s-1 4-7 5-7 3-9 5l-6 7c-2 2-3 5-4 3-1-1-3 0-2 1 2 2 3 4-1 4-5 0-6 1-5 3l-2 11c-2 3-6 2-9 2-2 0-5-1-7-4l-5-6c-1-1 1-2 2-4 0-2 1-2 2-2l7-2c2-1-2-4-4-6-2-3-3-2-4-5s-2-4-7-3h-12c-6-2-3 2 1 4s5 7 4 14c0 7 0 9 4 11s3 3 4 10c2 7-4 6-7 5l-12-2c-4 0-7 7-12 13-5 5-4 8 0 15 5 7-2 11-5 11s-2-3-4-5l-9-3-6-4c-2-1-4-1-5 1-1 1 0 3-2 5-1 1 0 3 2 5s3 3 7 4c4 2 8 0 6 6-1 6-11 3-15-1-5-4-10-4-12-6-2-3 0-7-2-9-1-2-3-6-2-13s-9-9-11-10c-3-2-2-5-2-7 1-2 4-2 5 0s1 3 4 3 4-1 7 1l7 3 15 2c9 1 14-2 21-11 8-8 2-16 1-18l-6-6c-2-1-8-3-21-12-12-9-27-14-30-14L88-4c-2 1-3-1-7-3-4-1-4-3-7-4-3 0-6 2-7 1l-2-1-1 2-1 4v3c-1 1-4-2-5-2v-1 2l-2 4c-2 0-3 2-4 3l-1 1-1 2-1 2V8l-1 1-1 2v3l-1 2c-1 2-1 2 1 4l1 4 3 4 5 9-6 13a734 734 0 0 1 6 24l-2 4c-1 3 0 5 1 7v2l1 2 1 3 1 1 1 4 1 2v1c1 1 2 2 0 4l-1 1c-2 2-2 2-1 4l3 3c2 1 5 4 6 7 2 5 1 7-10 21a248 248 0 0 1-17 21l5-1c2 0 2-3 5-2l13-2c2 1 3 0 5-2h2c1 1-1 3-1 5-1 1 1 3 2 2s1-3 7-1c5 3-1 4-3 6l-5 1c-2 1-4 1-4 3l-2 3a60 60 0 0 1 0 4c1 1 0 3-2 5h-1l-1 6v5l1 2 1 3v1l-1 1-2 1-1 1 1 1v1h2v2c2 0 2 3 1 3v5l2-1h1l-1 1v2l1 2v4l1 1h1l2 1v1h4l1 1v2h2c2-1 4-2 5-1h1l3 3v8l-1 1v1l3 1 1 1-1 1v1l1 3c2 0 3 1 3 2l2 3h2l2 1 2 2h1l4 2v1c0 1 0 2-2 3v5l3 2 3 3 6 7 1-1 1-1v-1l2 1h2l1-1h3l1 1c1 0 0 0 0 0h3l1-1v-4l1 1 4 1 2-1v-1h3l1 1 2-1 3 4 2 3 1 1 1 1v1h-3l-1 1 2 2h1l-1 2 1 1-1 1h4l1 1h1l2-1 1 3v1l1-1h1v3l1 2v1h-1v2l1 1a11 11 0 0 1 1 2h1v-1h4l1 2h1l1-1 1 1v1l1-1h1l3-1c2 0 3-2 3-2h1v2l1 1v2h1l2 2 1 1 1-1v-2h1l1 2h3l1 1 1 2 2-2 2 1v1l1 1h1l1 1 1 1v1l1-1 1-1h1v1a7 7 0 0 0 1 3l1 2-1 1h-1l-1 1-2 1v1h3v3h-4l1 1v1h1v3l1 2h1v1l-1 2-1 3h-10c1 1-2 2-4 3v1h-1l-1 2 1 1 1 1h-1v1l1 2c1 1-3 3-6 6-4 3 1 3 1 4v5c0 1-1 5-5 5-5 1-2 3-1 6s2 3 6 5c4 3 6 3 13 5s6 5 12 9l5-4c4-2 17 6 19 6a324 324 0 0 0 6 0c2 0 2 0 5 3 2 3 4 3 4 3h1v2l4-1 5-1 2 1 2-1h2l1 2 2 1h2l1 1v1l-2 2v1l2 1h1l4 2 2 1h3l6 6 2 3h2l3-4 2-3 1-1 3-3-1-1c-3-6-8-7-12-11s-3-10-3-13c-1-3-6-7-7-14-2-6 4-9 7-11l10-6 7-6-2-1-2-2-4-2v-2l2-1h1v-1l-2-3-1-2-2-3-3-4-4-3h-4l-1 3-2-3v-6l-3-2-6-2 6-11-2-2-1-1v-8l3-2 2-5 3-4h1l9 11 4-4-4-9h-1 1l4-3c2 0 4-2 5-3v-4l-1-1h3l1-1c6-1 7-4 7-6 1-2 2-1 3-1v-1l-1-1 1-1h6l1 3v1h3l1 1v-1l1-1c0-2 0-3 2-3h1l1-1c2 1 3 2 3 4h7c3 0 4 1 4 2l1 1 3 2 3 3 2 1 1 1 1 2-1 2v1h1l2-1v-4l-1-1h-1l1-1h2l2 1c1 0 2 0 2 2l1 1 2 1 3 1h1c1 1 2 1 3-1l-1-2 1-2 3-1 1-1 1-1h1v1l1-1 2-1h1l3 1 2 2h1l1-1v-2l1-1h4v-1l2 1 2 1v1l1 1c2 2 4 2 5 2l1 1 4 2v1h1l2-1 2-2v-1l1-2h1c0 1 1 2 4 2l8-1 1-3 1-1v-2c1-1 2-2 0-3l-3-2h-1l-2-2-1-1h-6 1v-2l-1-1h-2l-1-1-1-1-1-1 1-1 3-1 2-2c2 0 3-1 3-2v-3l-1-3v-1c-1-2 1-3 2-4l2-2h8l1 1v-2l-1-2s-8 0-9-2l1-2 1-1 3-1h-6v-5h1l-1-2 2-1v-1h1l2-1 3 1h2l1-1h3v1l1 1 1-1v-1l3-1 3-1h-1l1-1h1l7-1 1-1 1-1 2-1h2a4 4 0 0 0 3 0l2-1 1 1v-2l-1-1h5v-2l1-1h3v-2l1 1 3 1 12-4 8-4h1v-3h3l1-2 1-1h2v-3l2 1 6 1 5 1h3l2-1h1l1 1 1 3 2 3 1 2 2 2v4l-2 2v1l-1 2v1h5l1 1 2-2v-1l3 1v-3h1l3 1 1 4-1 2h4-1v-3l1-1 2 1h1l4 1h3l2 2-1 1h-1l-2 2h-1v5c1-1 3-3 5-3 3-1 3 0 4 1v1l3-2c0-2 1-3 3-3l3-1 2-1 1-2v-1c0-1 0-2 2-3l4-1h1l1-1 3-2h1l6-3v1l-2 3-2 2-2 2h1v1l1 2 2 3 11 9 26 41a19 19 0 0 1 3-3v-4l3-2 2-1 1-1 1 2v4h3l1 3v1h12l3-3 8-2h1c1 0 2 0 4 5l3 5 1 1c0 1 1 3 3 3 3 1 5 3 5 4v1l2 2c4 2 6 2 9 2h1l2-3 1-2h1l1 3 2 2 4 3 1 1 1 1 2 2-2 1-2-1-2 1-2 4-1 2c-1 2-3 4-6 5h-2c-1 0-2 0-2 2v5h8l3-2 3-2v-1c1-1 0-1-1-2l-1-1 3-2h2l7-2 1-2 3-3 2 1h2l1-1 2-3 2-3 1-1 2-2h1c1 2 1 2 4 2v-1l2 1c3 2 6 2 9 2h1l3-1 2-1 1 2v2c0 2 1 4 3 4l8 1 3 1 3 1h8l4 1c1 1 1 1 2-1l1-2h1c2 0 4-3 4-5l1-3c1-1 1-2-1-3l-3-1-1-4h-1v-2l2-3a23 23 0 0 1 2-4l3-6v-2l1-4 2 1 8 5h2l4 1 5-1 6 1 5 1c2 0 3 0 4 2l-1 4v4l4 3 4 3 2 1 3 1 3 1c3 2 3 2 6 1l5-2c1-2 2-3 4-3l6 2c4 1 8 2 10 1l3 1 4 1 2 1c4 0 6 1 8 3l1 2c1 2 2 2 5 3h2l8 1h4c8 1 11 1 15-1l4-2 9-6 5-5c2-2 3-4 5-4l9 1 10 1 6-1h3v3l8 1h5l2-2 6-4 2-1-1-2-1-1v-3l9-22 3-3 2-2h-1v-5l-1-2-1-2-2-1h-2v-5l6-6 7-2 2-1a256 256 0 0 1 17-4c4 0 14 6 15 6h2l2 1h3c2 0 2 1 2 3l3 1 2 2v4l1 1h2l1 1v1l-1 1v1h2l1 1-1 2v3a54 54 0 0 1 3 5l1 3v1c0 2 1 2 3 3l1 1c2 1 1 3 1 5l-1 1 1 2 3 4 1 2v3c2 3 3 3 5 2h6l5 2h4s6 7 9 7l2 2v3l-2 3 2 4c2 1 3 5 4 6h16l3-1h1l5-5 2-3 1-1h5l2 3-1 3-3 4-4 3-3 2v8l-3 2-1 1-1 4-1 2-3 2c0 1 0 5-2 6l-1 1h-2v1h-1c0 2-1 4-3 5l-2 1c-1 1-3 1-2 4v5l-1 2h3c2 1 2 6 9 7 6 1 8-4 13-9 5-4 4-8 6-12l5-13 4-12 5-10c1-2-1-4 1-6l1-6 1-9 4-16c2-3 1-12 0-14l-2-11c0-2 0-11-4-15-4-3-4-2-3-13 1-10 2-11 7-4l12 17c6 8 3 10 3 20 0 9 1 7 6 14s4 7 1 12c-4 5-4 9 0 10s6 6 8 9 0 8 3 10c2 1 3-4 3-7 0-2 1-4 3-5s6 0 6 2c1 2 4 6 4 4l-1-7-4-4c-2 0-4-2-4-3 0-2 0-4-4-7s-3-3-5-7c-1-4-2-7-2-17 0-9-1-6 2-8 2-2 5 1 8 4 2 3 5 6 5 4s-2-3-3-5l-5-6-7-19c-4-14-17-28-22-31-5-4-1-5-1-8s-2-3-4-5c-2-1-2-4-1-3l4 4-5-8-5-5-3-4-1-4c-1-1-2 0-3-2-1-1-1-2-3-2s0 3-1 3c0 0-2-2-3-1l3 4 4 3 2 5c0 2 2 2 1 3-1 2-3 0-6 0s-1 3-4 3-13-6-15-8c-2-3-5-4-9-4-4 1-3 2-5 1-1-2-3-1-3 0v6c0 3-4 7-6 6-2 0 0-4 0-6 1-2-4 0-6 1-2 2-4 2-5-2l-2-8c-1-3-3-4-6-2-4 2-5 4-9 3-5-1-3-4 0-9l7-14c3-9 3-12 3-17s2-9 4-12c3-4 3-8 5-11s1-10 2-15c0-5 4-7 4-12 1-5 6-12 13-15 7-2 10-4 13-2 3 3 7 3 8 1s-4-5 2-5c6-1 22-4 21-9-2-6 4-5 9-5 6 0 13 1 17 3 4 3 8 7 12 7 4 1 6-6 6-8s8 0 10 0 4-5 1-7c-3-3-8-2-10-4s-1-7 0-11c0-5 2-5 2-23 0-19 6-16 9-17 2-1 7-6 10-5s6 5 7 3c1-3 1-5 4-3 3 3 0 9 0 12-1 2 2 3 6 3 4 1 3 4 5 7 3 2 4-3 5-7s2-15 4-18c1-3 4-4-1-16-5-11-1-12 5-13s8 5 6 5c-3 1-4 3-3 9 0 6 6 8 6 9 0 2-3 6 0 8 2 2 2 3 2 7s3 6 1 8c-1 2-6 5-7 11-2 6 3 11 1 14s-3 9-3 17l-1 19c-1 8-3 3-5 9s-3 5-7 6c-5 0 0 3 3 5s1 8 1 12c-1 5-5 11-3 18l4 14c1 6 18 28 19 32s8 8 9 13c0 5 8 8 11 10 3 3 4 10 4 14 1 4 3 11 6 11 4 1 3 8 4 8l3-6 5-8c2-3 2-14-2-18-4-3-1-9 0-12s10-3 8-5l-6-12c-3-5 1-14 7-16 7-2 6-6 4-10-3-5-9-11-10-16s0-12 4-10c4 1 4-2 4-6 1-5-3-5-4-9-1-5-4-1-7 0-2 1-2-3-4-7-1-4 1-6 1-10s-7-7-10-8c-4-1 2 8 0 8-3-1-5-5-8-11-3-7-1-25-3-30-2-4-3-6-2-10 1-5 3-2 7-1 3 1 3-2 3-6 1-5 3-7 6-6 3 0 2 10 6 11 3 1 2-7 1-14-1-8 8-7 13-9 6-2 8 1 10 3 2 3 9 6 13 7 4 0-1-6-2-15s4-18 5-25 6-13 10-23c4-11 11-14 19-14 7 0 11 0 12-4 0-4-1-8-3-10l-6-8c-2-4-4-3-9-4-5-2-7-5-7-10 0-4-3-2-6-2-2 0-3-3-2-6 0-3-7-6-7-4s-1 4-7 1c-7-4-5-7 4-8 8 0 6-9 5-13v-18c-1-3-4-7 0-11 4-3 4-6 4-10s11-8 15-1c5 6 5 7 12 5s4-2 13-2c8 0 5-6 3-10Z"),m(Ot,"d","M48 6V2l2-2v-4l-3-3-3-2-3-6-1 1c0 1-1 2-4 2h-4l-2 1-2 5-1 4c-2 3-3 8-3 10l-2 3-1 1-1 1-1 4h-1l-2-2c-1-1-2-3-4-3l-3 2-4 2H2c-1 0-3 1-4-3l-1-4c-1-2-1-5-3-6-3-1-3 0-5 3v1l-2 1 1 2 6 6c5 3 10 5 10 7l2 3 1 1v7c0 3 0 4 2 6v6l1 9a76 76 0 0 0 0 11l10 1c3 0 7 2 10 5 2 4-2 9-3 10l-9 12-7 8-3 5c-1 3-2 4-4 5s-5 5-5 10c0 4 2 4 2 5l1 7 1 16c0 7 3 6 6 6s3 2 4 3l6 1c2 2 4 7 6 7 1 0 4 0 8-4l6-2 7-9 10-12c12-15 12-17 10-21-1-3-3-5-6-7l-3-2c-1-3 0-4 2-6h1v-4l-1-1v-2a14 14 0 0 1-2-5c0-2 0-2-2-3l-1-2v-2l-1-7 3-4 1-2-8-22 7-13c0-1-3-6-6-8l-2-5-2-4-1-4 2-2v-3l1-3V6ZM16 406h-3c0 1 0 0 0 0v3l1 1 1 1v1h1l1 1 1 2v2h2v-1l1-1 1-1 1-1 1 1 1 1v-1l2-1v-2h1v-4h-2l-1-2-2-1v-2h-1l-1-1-1-1-2 2 1 1-3 3v-1 1Zm0-1Z"),m(Ae,"d","m40 400-1-1-1-2-2-3-1-1v-3l1-1 1-1 1-1-2-1v-2l1-1h1l-1-1h-2l-1 1-1 1-2-2h-2l-2-1v-1l-2-1v-1h1l-1-1v-1h1v-2h-2v-1l-3-1-1-1-1-1 1-1v-2h-2v-2h-1l-1-2-1-1h-1l-1-1-1 1H8l-1 1-2 1-1-1-1 1-1 1v2h1v1H2v1l1 1v1l1 1 1 1 2 2H5l-1 1v2h2v3l-1 1v1l-1 3h1l4 4v1H6l-1-1 1 1 2 4v1l-1 1v-1H6l1 2 1 1 1 2 3 1 1 1 2 1 1 1c2 0 2-1 2-2v-2l2-1 1 1h1l1 1 1 1 1 2 2 1 1 1h1v2l-1 2v1l-1 1 3-1h2l2-1 1 1 1-1v-2l-1-1v-2l1-2h1l2-1 2-2-1-1Z"),m(We,"d","m-10 403-1-1-2-3v-1l-1-1-10-9v-3l-1-1v-2l-1-1-1-1h-1v-6h3l2 3h1l1-3h3l1-1 2 1 1 1v-1l1 1h4l1 1 1-1h2v1h2v-1l1 1h3v2l1 1h2a6 6 0 0 1-1-2v-1l2-2h1-1l-1-1H3v-3l-1-1v-1h1-1v-3H1l-2 1-2 1h-6l-2-2h-2l-1-3-1-1h-2l-1-2-1-1-1-1h-1 1l-2-1-1 1v1h1-3v1l-1 1h-1v1h-2v1h1v4h-3v1a25 25 0 0 1-1 0l1 1-1 1 1 1v1h-3l-1-1h-1l-1 1-1-1-1-1v-1 1l-2 2h-2l-1-1v1h-2l-3 1-3 1v4c0 4 4 5 6 4 2-2 1-5 3-6 1-1 3 2 4 5l3 7c1 2 0 5 2 7 2 1 6 4 10 4 5 1 6 1 9 4l2 2h3v-1Zm27-217 7-1c1 0 3-2 0-3l-6-1c-3 2-2 2-3 4-1 1 0 2 2 1Zm60 313-9-3c-6-2-4 2-7 1-2 0-3-2-7 0-2 2 0 5 1 5h7c2 0 4 4 6 4l6-2c4-1 7-1 8-3 2-2-2-2-5-2Zm71 8c3 0 5-2 7-3 2 0 5 1 5-1 0-1 0-4 2-5l3-4-6 3c-2 1-4 2-5 1l-3-1c-4 1-4 3-7 4-3 0-5 2-3 4 2 1 4 3 7 2Zm69-528c-7 0-10-2-12 2-4 8 0 12 3 15 3 2 1 5 5 4 5-2 7-5 9-6 3 0 7-5 5-8s-3-6-10-7Zm-40 538c2 0 2-1 3-2l1-1 1-3 3-2h1l1-1v-3l1-2-1-1c0-2-1-2-3-2h-7c1 1 2 2 1 3a119 119 0 0 1-5 15h2l2-1Zm0 1h-2l-2 1-3 5c-2 2-1 5-2 9l-2 4 6 23c2-3 7-22 7-43l-2 1ZM50 295l1-1h-1v-2l-2-2-1-1-6-6 1-1 1-3 1-1v-2c1-1 0-2-1-3l-2-3c0-2-2-3-4-5l-2-3-4-10a59 59 0 0 0-1-3l-1 1-3 1H16l-7-1-4-2-5 1c-4 0-5 2-7 3-1 0-5-1-5-4-1-4-4-4-6-3l-9 1c-2 0-1 2-2 3-2 1-4 0-5 2 0 1-1 3-4 3l-3 1v7l-2 2 2 2 2 2v4l2 2v3l-1 3 1 2-1 1v1l2 1 1 1 1 1-1 2-1 3v2h1v-2h2a221 221 0 0 0 2 3h2l1 1h1l1 1h1v1-1h2l1 1h1v1l-1 1h-1v1l1 1 1 1 1 2h2l1-1 1-1h-1v-1l-1-1 2-1 1 1 1 1 2 1h2l1-1 1 1-1 1a7 7 0 0 1-1 1l2 2h1l1-1 2 2h1c2 0 2 1 2 2l1 1 1 2 1 1h1v1h1l1-2h1l1-1 2 3 2 1v2h1l1 1v-1l1-1 1-1h5l1 1 1-1h1l4-1h2c2 0 3 2 3 3l4 1v1l3 1v-1l-1-1-1-5 5-6 3-5 4-1 1-2v-5Z"),m(mt,"d","m-38 295-1-1v-2h-2v2h-1l-2 1h-1v1h-3l-1 1-1 1h-1l-1 1-1 1h-1l-1 1h-2l-2 1v1l-1 2-1-1-1-1v2l3 2 1 1-1 2v2l1 1 1 2 1 2h2l2 3h1l1 1 1 1h1l2 3 2 1v1l2 1 1-1h3l1-2h1l1-3h3l3 1h1l2 1h1l1 1h2l2-1 1 1h1l1 1v1l2-4 3 1h2l1-1h1v-1l1-1h1v-1l1-2 1-1 2-3h3v-1l-1-2-1-1-2-2h-1l-2-1h-3l-1-2s-1 0 0 0v-1h1v-1h-4l-1-1-2-1h-1v1h1v2h-1l-1 1-1 1h-1v-1l-1-1-1-2h-1v-2l1-1h1l-1-1h-3l-1-1-1-1h-4l-1-1-1-3-2 1v2h-3Zm20 63v1l1 1h2v1l1 1 2 2h2l1 2h3l2 1 3-1 2-1h1v-1l2-1h2l2-2a56 56 0 0 1 4 0h7v-1h2l2-1 1-2h1v-1h-1 1v-2h1v-1l2-3v-1l1-1 1-1 1-3 1-2 1-1 2-2h1l1-1 2-1v-1h1v-1h-3v-1l-1-1-1-1-1-1-2-1-1 1h-2l-1-1-1-1-2-1-3 1-2-1-3 1-1 3-2 1H7v1l-2 1-2-1-2 1v1l1 2v1l-3 1h-1l-8-1-3-3h-2v1l-1 1 1 1s1 0 0 0l-1 1h-3l-1-1-1 1 1 1 1 1v1l-2 1a20 20 0 0 1 0 3l1 1v1l-1 1h-2l-1 2h2v2l1 1 1 1v1l2 1Zm110 12 1-1v-2l1-1h1v-3h1l1-1 1-1h-1v-2l-1-1v-1l1-1h1l2 1 1-1v1h1l1 1 1-1 2 1h2v-1l-2-1h-1l1-2v-2h-1l-1-1h-1v-3h-1v-1l1-1-1-1h-1l-1-1-1-1-1-1 1-1v-4h-2l-2-3h-2l-1 1v-1h-2l1-1h-2v-1l-3-2h-4l-1 1-1-1h-4v1h1l-1 1 2 1 1 1a14 14 0 0 1 2 5l1 2v1l1 1h1l1 2h-1 1l1 1v1l1 1 2 1 1 4v6l-1 1v10h3Zm135 50h3l4-1 1-1 3 1 1 1 1 1 1 2 2 1 13-2h3v-1l1-2 3 1 6 3 4 1h2v-2l-2-2-1-2h-1v-2l2-2-1-1-4-1-1-1-2-1v-1l1-2 1-1h-3l-3-2-1-1v-1h-1l-2 1-2-1-5 2h-4v-2h-1s-2 0-5-3l-4-2h-7s-14-8-18-6l-5 3h1c6 4 9 5 15 12 6 6 4 9 2 13l3 1Z"),m(gt,"d","M103 372h-3l-1 1-2 1-1-1-1 1h-2l-2-1-1-1-1-1-1-2 1-2v-9l1-2v-2l-1-1-1-3-1-1v-1l-1-1v-1h-1l-1-1v-1l-1-1h-1v-2h-1l-1-2v-2l-1-2-2-2-1-1h-2l-1 1-1 1-1 2-8 1c-1 1-2 3-4 3l-1-1-1-1-2-1h-7l-2-1v1h-1l-3-3-1 2h-1l-1 1-1 2h-2l-1 1-2 1-1 1-1 2-1 3-1 1-1 1v1l-1 3v1h-1l-1 2a4 4 0 0 1 0 1l-1 2-1 1h-2l-1 1h-1v1h-3a11 11 0 0 0-1 0l1 1 2 2 1 1 1 1v4l2 1 2 1h1l1 1 1 1v1l-1 1 1 1v1h-1l-1-1 1 1 1 1h1v1h1l3 1 1 2v-1l2-2h2l1 1v1l-2 1v1l2 2h1l2 2h1l-1 1-2 1 1 1h6l2 1 2 1h12l2 1h1l2-1 4-3 4-2 4-1 2 1 2 1h3l1-1 1 1 1 3h1l6 1 2-8c2-4-1-4 0-6l6-3v-3l-1-2Zm582-56 1 2 4 3 3 1h5l2 2 1 1 1 1v-1l6 3a93 93 0 0 1 7 16l-1 3 1 4v1l-2 4 1 2 1 2c1 3 1 3 4 4h20c5 1 8 3 11 5l5 3h3l4-1 2 1-1 1-1 1 1 2c2 0 2 1 2 3l1 3a43 43 0 0 0 8 11v-1h2l2-1h9l5 1h12l6-1 3-1h5l3 1 8 1c1 1 4 4 10 5l3 1v-1h13l2 1-1 1v1c1 1 2 2 6 0l24-12 17-3c3 0 4-1 6-3l3-3 6-5c1-3 7-7 8-8l-5-10 4-6h20l5-2 1-5v-2h8l8-6 6-10h5l2-4h4l6-3 3 1 3 2 7-3 1-1-2-3-3-2-5-5-3-1-3-2c-2-2-3-3-5-2l-3 2-2 1h-14l-5-2v-1l-1-4 2-4 1-2 4-9 2-4 1-2c1-2 3-5 2-6h-3l-6 1-10-1h-9l-5 3-5 5-9 6-4 2c-4 3-7 2-15 2l-4-1h-8l-2-1c-4 0-4-1-5-3l-1-1c-2-3-4-3-8-4h-2l-4-2h-3l-10-2-6-1-4 2c-1 1-2 3-5 3l-6-1-3-1-3-1-3-2-3-3-4-3v-8l-2-1-6-1c-3-2-4-2-6-1h-9l-2-1c-4-1-4-2-8-5l-2-1-1 4v2l-2 6-2 2v2l-2 3-1 2h2l1 3 3 2c2 1 1 2 1 3l-1 3c0 2-2 5-5 5h-1v3l-3 1-4-1h-8l-3-1-2-1-9-1c-3-1-3-3-3-5v-2l-1-1h-1l-4 1h-1c-3 0-6 0-9-2h-2l-4-1-1-1-2 3-1 1-1 2-2 3-2 2-2-1h-2l-2 2-2 2a170 170 0 0 0-11 4l1 1 1 2v2h-1l-2 2-4 1c-2 2-4 1-5 1l-3-1 1 1v10l2 3Z"),m(Gt,"d","M203 316h-1v-3h-1l-2 1-1-2-1-1h-2l-1-1-1-1-2 1-1-1-2-1h-1l-1-1-1-1h-1v1l-1 2-1-1v-1l-2-1-1-1v-2l-1-1-1-1-3 1-3 1-2 1-1-1h-2l-1-2h-3v1h-2l-1-1-1-1v-4l-1-1v-3h-1v-1l-1-2h-2l-1 1-1-1h-4v-5l-2-2 1-1h2v-1l-1-2-2-3-3-3h-3l-1-1-2 1c0 1 0 2-2 1l-4-1-1 3-1 1-1 1-2-1h-2l-2-1-1 1h-4v2l-3 3h-1v3l1 2-1 2h-1v-1h-1l-1-1-1-1h-1l-1 1h-1l-1-1v-1l-1 1-2 2-2-4-3 1-1 2-1-1v-1h-3v-1l-1-1v1l-2 1-1-1-1 1-1 1v-1l-1-1-1 1-3-1v-2h-2l-3-1-1 1v-1l-3-1h-1l-1-1h-2l-2 1v-1h-4l-4 1h-3l-1 1-2 3h-1v1l-2-2-1 1v5h1v1l2 3 1 1v2h-1l1 1v3l-1 1-1 2-3 1a123 123 0 0 1-8 11v5h1l1 1v1l-1 1h-1l-2-1v1l-1 2-1 2-1 2v2h1l1 2 1 1 2 1v1h2v1l1-1 1-1 3 2v-1l3 1h2l3 1 1-1 2 1 1 1 1 1 1 1 3-3 8-2 2-1 1-1 1-1h1l1-1v-1h3l1-1 1 1 1-1 1 1v-1h3l3 3h2v2l1-1v1h4l1 2h3v5l-1 1v1h1l1 1v1h1l1 1v1l-1 1h1v2h1l1 1h1v5l2 1v1h-1l-1 1-2-2v1l-1 1-1-1v-1l-1 1v-1l-2 1-1-2h-1v3l1 1v1l-1 1v2h-1v1l-1 1-1 1v1l-1 1v1l-1 1h-2v1h2l1 1h2l1-1v1h1l1-1 1-1c2-1 3 0 4 1l1 2 1 2c2-3 0-4 0-6l4-2c2-1 3-6 6-10 4-4 4-2 9 0 4 3 2 3 5 3 4 0 9 2 9 4 0 3-2 2-5 4s-2 4 0 4c1 0 6 3 5 6-2 3 4 4 9 4 5 1 4-3 5-4l6-1 4-4h9c4-1 0-3 0-4s-2-2-5-1h-7c-3-1-3-4-4-6-2-2-2-2 0-3 1 0 0-6 2-5 7 1 11-2 15-5 5-3 5-4 8-4l4 1 1-1-1-1v-2l1-1a2 2 0 0 1 0-1l1-1c3 0 4-1 4-2h-1l1-1h6l1 1 2-1 1-2 1-2v-1c-1 0-2-1-1-2l-1-2v-1c-1-1-2-1-1-2l2-1h1l1-1h-3l-1-1v-1l2-1 2-2 1 1v-3Z"),m(xe,"d","m34 325 1-2 1-1v-2l-5-2c0-1 0-2-2-2l-1-1-2 1h-3l-1 1h-1l-1-1h-4l-1 1-1 1v2l-2-1h-2v-3l-2-1-1-2H6l-1 1v1l-2 1v-1h-4l-2 2h-1l-1 1v2l-1 1-1 1-1 1-1 1h-1l-2 1-3-1-1 4-1 2v1l1 2 1 3v-1l2 1 3 2 8 1h3v-4l2-1h3l1-1h7l1-1 2-4 3-1 2 1h3l3 1 1 2 2-1h1l1-2 1-3ZM14 222c4-3 5-3 8-3h1l4 1h1l1-1h3l4 2h3v-1l2-2 1 1v1l1 1 1 1 5 2 1 2 2 2h2l2-1h4l2-1v-2l3-2v-4l-1-2-1-1v-1h-2l1-4v-1l-1-3-1-1v-1h-5l-3-1c-1-1-3-2-3-4-1-1-6-3-7-2l-2 1-4 2v8c-1 6-5 5-7 4l-1-2-4-5c-1-2-3-3-6-3-2 0-6 4-8 6-3 2-2 3-1 4l-1 4-1 11a98 98 0 0 0 7-5Z"),m(qt,"d","M42 196c1 0 6 1 7 3l3 3 3 1h2l2 1-1-1v-1l1-1 2-1 1-1-1-1-1-3v-2l-1-5c0-2 0-4 2-6l1-1 2-4v-2l-1-2-2 1-5-1-6-2c-3 0-5-2-6-1l-3 3-9 2-5 4v9l-3-2-5 2-2 1-2 1-2 2 1 3v5l2 1c2 1 1-2 1-2l1-2 2-2 2-1 1-1v-4h2l2 1 2 2 4 3 3 2v2l3-2 3-1Zm735 465c0-3-1-6 1-7l1-1 1-3v-3l2-1h1l1 1 1 1v-1l1-3v-1l-1-2-1-4-1-2v-3l-2-3-1-3-1-6h-2l-2 3v5l-1 1v1l-1-1-1-3h-1l-1 1v1-4l-1-2v-5h1v-1l2-1h1l1-1 1-2h1l1-2v-1h-6a12 12 0 0 1-2 1l-2 1h-2l-2-1-4 1h-4v-1l-3-3-1-2-1-3v-3l-1 1-2 1-3-2-1-2-1-1h-2l-4-3v4l-2 2v8l1-2h1l6 5v1h-6l1 1 1 2-1 1 2 4 1 2-1 1-2 1v1l1 2 2 3 1 2 2 3 2 6 1-2c2-1 1-3 1-5 1-3 3-1 5 1 1 1 2 2 4 1 1-2 3 2 4 5 1 2 2 4 2 9 0 4 4 8 8 13 2 3 6 4 9 4l-2-4v-1ZM267 446l-1-1h-3l-3-1-1-1h-2l-1 1v3h2l4 3 3 2 3 1 1 1a110 110 0 0 0-2-8Zm261-20-2-2v-2l3-4-2-3-2 1-2 1-2 2-2 1-1 1-1-1-1-1-1-1-1 2v1l1 4v1l-2 1h-7l1 1 2 2-1 1-1 3-1 1h-8l-3 1h1l-1 3-1 1 1 1 1 1h2v1l2 1h3l1 2-1 1 1 5v1l1 1v3l-3 7-1 3-1 1s1 3 3 3h1l1-1 2-1 4-3h2c1 0 0 0 0 0l1 1 2 1h1v-4l2-1h3l2 1h1v-2l1-2v-1l1-1a53 53 0 0 1 1-3l1-2 1-2 1-1 1-1h2l1-1 1 1 1 1v2l1 2v2l1 2v3c-1 2 0 4 1 8l1 2h3v-1l1-1 4-1h2l1-1 1-1 1-1 1-1 3-2c3-2 5-1 6-1l-1 3 3-1 6-2c2 0 3 1 3 2h1l1-2v-6l-1-1-1-2-1-2c0-2-2-2-4-3h-2c-2 0-4 0-5-2v-2l-1-4-2-4h-4l-7 1-2 2-1 1-1-1-1-1h-1l-2-1v-1l-2-1h-3l-1 1c-2 1-4 2-5 1l-2-1v-1l-2 1-2 1h-5l-3-1c-2-1-2-2-2-4l1-3 1-1 1-1v1a20 20 0 0 1 6-2l2 2 1 1h2l2-1 1-1 1 1 2 2h1l-1-2-1-1v-1a44 44 0 0 0-5 1Z"),m(Pt,"d","M382 414v-5l1-2 1-1h2l3-1 1-1h1v-1l1-2h3l1 1-2-3 4-2v-2l2 1 2 2 3 3h5l3 3 1 2c-1 0-1 1 1 1l2 1h1l-1 2-2 3-1 1v1l5 2h9l2-1h2c1 0 2 0 3 2l1 2 1 3 5 11 35 21h3l2 1 3 1 2 3v6l5 1 6 1h1l1-1 1-4 3-6v-4l-1-1v-8h-3l-2-1-1-1h-2l-2-2 2-2v-3h11l1-2 1-2v-1l-2-2v-1l2-1h6v-1l-1-4 1-1 1-2h1l2 2h1l1-2 3-1 1-2h3c2 1 3 2 2 3l-3 4v1l1 1 1 1h5v-1h3c2-1 2 0 2 1l1 1 1-1 1-2 2-2h3l1-1 2-1 2-1 1-1 1-2h-4l-3-1h-2v-2h-3l-1-2a4 4 0 0 0-1-2c0 2-3 4-5 4l-2 1-2-1c-2 0-2-1-2-2v-2l-2 2-1 1-2-4c-1-1 0-2 1-2l1-1 3-1h1v-1l1-2 3-2-3-2-4 5-1-1v-1s-8 11-11 11h-3l-1 1-1 3h-1l-2 2v6h-2l-1-1c-2 0-3-1-3-2v-1l-1-2v-3h-2l-12 1h-1 1s0-9-3-10h-4l-1-2v-3l1-9h-4s-4-10-8-10h-2c-1 1-2 2-4 1h-1a63 63 0 0 0-22 2l-3 1-2-3c-2-4-5-9-10-10l-13-8c-5-4-10-8-13-8l-27 10 3 53 10-1v-3Zm-293-9c0-6 3-5 5-8l2-2-6-1-1-1-2-2v-1l-2 1-1-1h-2l-2-1h-5l-4 2-3 3-3 2h-1l-2-1h-5l-2-1h-5l-2-1h-8l-1-1v-1l1-1 1-1-2-2h-1v1l-2 1-1 2 1 2v1l2 3 2 2v1l1 1c1 1 0 2-1 2l-1 1h-2l-1 1v6l-1 1 2 2 3 2v2l1 1-1 1v2l1 1v1l2 1 1-1h2l1-1h4-1v-1h3l2-1 1 2v1h2v-1l1 1 4 1h4v-1h4l-1-2v-1l1-2h1v-1h2v-1l1-1h1l3-1h3l1 1 1 1 1-1h1v1-1h6l-1-2c-2-4-2-4-2-9Zm185 45h1l-1-2v-2h-1l-1-1-2-1-3-2-1-1-1-1v-1h3l1-1v-1l-2-1-2-1-1-3v-5l-2-1-2-1v-2l-1-1h-3l-13 3h1v7l1 2v2l3 2a50 50 0 0 0 5 1l3 3v1h1l2-1 1 1 3 2h3l1 1 1 1a121 121 0 0 1 3 7l3-2v-2Z"),m(Ut,"d","M499 469h-1l-6-2a71 71 0 0 1-15-3l-2 2-2 2-2 1c-1 0-2 0-2 2l-1 3-1 4c-1 4-4 6-6 6h-4l-1-1v1l-2 2h-6v2l-1 2-4 3c-2 2 0 4 0 4v3l-1 1-2-1-1 9h5l-4 3 1 6v10c0 4-1 5 2 7s8 0 9 0l2 1-2 3c-3 2-4 5-5 7l-1 3c-2 1-3 4-3 7l2 4 2 2 8 1h3a14 14 0 0 1 6 0h4l3-1c1-2 2-3 3-2l2 1 3 1 1-1 4 1h4v-7c-1-1-2-2-1-4l3-4 4-1h4l2-1h2l1 1v-1l-2-3v-1l2-1 5-2c2-1 4-2 5-1v1l1 1 3-1 1-1 1-1v-4l-1-2-1-2h1l4-1-1-1v-2c1-3 2-4 4-4l4-1-1-4-2-5-1-2h11v-5l1-2 5-8-1-1v-2c1-2 2-2 1-3l-1-2-3-4h-1l4-5 1 1v1l2-2 2-4c1-2 1-3 4-2l7-1 2-1 3 1a48 48 0 0 1 5 0h5v-1l-1-2v-2h4v-1l-3-1c-2-1-5 0-6 1l-4 2-1 1 1-1 2-3h-5a41 41 0 0 0-5 3l-1 1-1 1v1l-3 1-4 1v1h-2l-1 1h-1v-1l-1-2c-2-3-2-6-2-8v-1l1-2-2-2v-4l-1-2v-1h-3l-2 2-2 2v2l-1 2-1 1v1l-1 1v3l-1 1h-1l-2-1h-3l-2 1v5h-1l-2-1h-1v-2l-2 1-4 2-2 2h-1l-2 1-2-4-1 1ZM27 430l5-4 1 1h4l1-1 1-1 1-1v-6l-1-2-2-2c-2 0-2-1-3-2h-4l-2 1-2 1-1 1-2-1h-1l-1 1-1 1v2h-2v3l-1 1v1l1 1-1 1v1l1 1 1 1v1h1v1h7Zm714 158h1-1l-1 3 5 3 2 1h4l2-1 1-1 3-1h1l5 2 2 1 3-1h1l5-1 2-1h-1l-1-1v-6l-1-1-2-2-2-1-2-1-2-1-2 1h-16l-2 2-2 2-3 1v2l1 1ZM346 406a456 456 0 0 0 9-1l3 3c6 3 8 9 9 11l5-1-3-53v-1l27-10 14 8c5 4 9 7 13 8 4 2 7 7 9 10l3 3h2l9-2h14l3-1 3-1c4 1 8 9 8 11l4-1v15h4c3 1 3 8 3 10a147 147 0 0 0 14-1v1l1 1v4l3 2a77 77 0 0 1 3 0v-2l-1-3 3-2 2-3v-1l2-1h2c2 0 9-8 10-10h1l1 1 3-5 3-5c2-2 4-2 8-2h3c4 0 7 1 9 3l3 1h1v-5l2-4 3-2c1-2 2-2 3-2l1 1 2 1 3 1 6 2 5-1h31c4 0 5 2 5 2l5 3h1l6 2v-3l-1-2 1-2 2-1h1-1l-1-1 1-2 2-1v-3l-1-2-1-2-2-6-1-5 1-1-2-2-3-2-2-2h1l1-2c1-2 1-2 3-2h4c3 0 4-1 5-2l5-2 3-1v1l1 1h4l2-1v-2l-3-3 7-24 5 2h6l6 2h1l2-1 1-2 2-1 4-3v-2l1-6-1-2-1-6c1-3 1-3 3-3h2a10 10 0 0 0 7-7l2-3 2-1h4l-2-2h-1l-2-2c0-1-1-2-3-2-2-1-2-2-2-3l-1-2-1-1-1 2-2 4h-1c-3 0-5 0-9-2l-3-3 1-1c-1-1-3-3-5-3-3-1-3-3-3-4l-1-1-3-5c-2-4-3-4-4-4h-1l-7 1-4 3-9 1h-1l-2-1v-1l-1-2h-3v-5l-1-1-1 1-2 1-2 2-1 1v2l-3 4h-1l-25-42a155 155 0 0 1-13-12l-1-2h-1v-2l2-2 2-1 2-3-6 2-1 1-2 1-2 1-4 2c-2 0-2 1-3 2v1l-1 2-2 1-2 1-4 3c0 2-1 2-3 2l-1-1-2-1-6 4-1-5 1-1c0-1 0 0 0 0l1-1 2-1h1v-1l-1-2h-2l-1 1-4-1h-1l-2-1v3l-3 1-2-1 1-1v-4l-3-1h-1l1 2v1h-1v-1h-3l-1 2h-3v-1h-4v-3l1-1 1-2v-4l-1-2-2-2-1-3-1-3-1-1-1 1h-2l-1 1h-2l-5-1c-2 0-4 0-7-2h-1l1 1v1h-3l-1 2v1h-3v3l-1 1-9 3-12 5-3-2v1l-1 1h-4l1 2h-5v1l1 2-1 1-1-1h-2l-1 1h-4l-2 1-2 1-6 1-1 1-4 1-2 1-1 1-1 1h-1v-1h-12v1l-1 1v1l1 1-2 1v3h4l2 1v1l-2 1h-2v2l8 2 1 2 1 1v1h-10l-2 1v1l-2 2 1 2 1 3v3l-4 3-2 1-3 1-1 1 1 1 1 1h1l2 1 2 1-1 2h5l2 1 1 1 1 1 3 1c2 1 2 3 1 5a19 19 0 0 0-1 2l-2 3c-1 1-3 2-8 2-3 0-4-1-5-3v3l-3 3h-3l-1-1-3-2-2-1-4-1c-2-1-2-2-1-2v-1l-2-1a89 89 0 0 0-1 0l-1 1h-5l1 2-2 2h-1l-2-2-1-1-2-1h-1l-2 1v1h-2v-1l-1 1v1h-1l-3 1v5c-1 2-2 1-4 1s-2-1-3-2h-1l-1-1-2-1-1-2-3-1-1 1h1v6l-2 1h-1v-5l-2-2-1-1-3-3-3-2-1-1-4-1h-7v-1c0-2-2-3-3-3h-2c-1 1-2 1-2 3v1l-1 1h-1l-2-1-1 1-1-1 1-1-1-2h-6v1l1 1h-1l-2 1c-1 3-2 6-8 7h-3v6l-4 3-5 2a74 74 0 0 0 5 9l-5 5-10-12-3 4-2 5-3 3v1l1 3-1 3h1v1l2 2-6 11 6 2 3 1v7l2 2v-2h5l5 3 2 3 3 4 1 1 2 4v1l-2 1h-1v2l4 2 1 1 2 2 6-4c2-2 9-2 11-1s5-2 8-3c4-1 6 7 7 12 1 4-1 9-5 9-3 0-9 2-12 5-2 2 3 8-1 8s-7 3-5 4c2 0 5 5 7 7l4 8c1 2 8 3 13 4 4 1 2 6 0 13v5l4-4c5-5 5-5 12-7Zm309 145-3 3c-2 1-2 1-2 3v5l-1 2-2 3 3 2 2-1h1l7 4v1l1 2 1 1a42 42 0 0 1 10 4h3l1 1-1 1 2 1h1l3 1 1-1a163 163 0 0 0 6 1l1-1 3 1h1l3 2v3h1l1 1 4 1h4l2-1v1l1 2c1 1 1 0 2-1h2l4 2h3a23 23 0 0 1 1 0l1-1h1l-1 1 2 2c1 1 1 0 2-1l2-1h3l1-1 1-1v-1h1v-1l-1-2v-10h-2l-6 1-7-3-1-1-1 1-1 2h-2v-2l-2 1-2-2-2-3h-2l-1 1-2-1v-1l-2-2h-3l-3-2-1-1c-2-1-2-2-2-3l1-1h-5l-3 1c-2 0-2-2-3-4l-1-2-3-2-3-1-3-1-1-1-1-1v-1l1-1-1-1-1-1h-6l-1 1v1l-1 1-1 1h-1l-1-1-1 1h-1ZM271 416l1 1v1l1 2 2 2 1 2-1 1-2-1-4-1-6-2-1-1-1-1-1 2v2l1 1v1l1 1 2 1v5l2 2 1 1 2 1 1 2h-1l-1 1-2 1v1l2 1 2 2h2l1 1h1v2l1 1v2l-1 2 5-3 3-2 4-3h3l2 1v1l2 1v1l-1 2v2l-1 1v2c1 1 2 3 5 4 2 2 3 1 4 1h1v-1c-2-3 0-8 0-11s3 3 3 3l1-6 1-9c1-2 6-3 8-4 1-1-4-4-7-5-3-2-8-9-11-15l-2 3-2 2-1 2c-1 2-2 4-4 4h-2l-2-2-6-6h-3l-1-1-2 2Z"),m(Wt,"d","m361 458 5 2c2 1 3 1 6-2 3-2 4-4 4-6 1-2 1-3 3-3l3-1h8c1 0 4-4 6-3h6l4 4 4 2 3 1 3 2 3 2 2-1c1 0 3-1 5 1l2 2 1 3 6 3 5 2h7v18l1 2 4-1 1 1 1-1 1-2h6c2 0 5-1 5-5l1-4 1-3c1-3 2-3 3-3h2l1-2c1-1 1-2 3-2l6 1 4 1-1-3v-2l1-1-2-2-3-1-3-2h-3l-34-21-5-11-2-3-1-2-2-1h-4v1h-1l-2-1h-2l-2 1h-2c-2 0-4-2-5-3l-1-1 2-2 2-2 1-2h-4l-1-2v-1c0-2-2-3-3-3h-6l-3-3a72 72 0 0 0-2-3l-1 1-3 2 1 3v1l-2-1-2-1-1 2v1l-1 1h-1l-3 1-1 1-2 1-1 1v3l1 1v1l-1 3-10 2h-6s-2-7-8-10l-3-4c-1-1-1-1-6 1h-3c-6 3-7 3-11 7l-4 5 5 4c3 4 1 4-1 7-1 4 3 10 5 10 1 0 2-3 5-1 3 1 1 3 0 6-1 2 1 3 4 5 2 3 3 5 2 10v1l3-1 7-1Zm382 177-2-3-2-3-1-3-1-2v-1l2-2 1-1-1-1-2-4h-1 1v-2l-1-2 1-1h4l-5-5v1l-2 1v-8l2-3v-4l5 3 1 1c1-1 1 0 1 1l2 2 2 2 2-2 1-1 1 1v3l1 3 1 2 3 3 3 1 3-1h4v1l2-1h1l2-1h6l-1 3v1l-2 1-1 1v1l-2 1h-2v4l1 3v3l1-2h1v1l2 2v1-3l1-1v-2l2-3 1-1 1 1c1 0 2 2 2 6l1 3 1 3v1l1 2v2h2v-12h1s1 2 3 2v-1l2 1 2 1 6-14-2-1s0-3 2-4l1-1 1-1 2-9v-1l8-6c3-2 6-3 8-2l2 1 1 1-1-2-1-1 1-1 2-3-3-1-2-1-2-1-4-2-3-1-2 1a261 261 0 0 1-12 9l-2 1-2 1-1 1-1 1-2 1h-9l-4 1h-1l-5 1h-6l-6-2-2 1h-1l-3 1h-4l-2-1-6-3a144 144 0 0 1 1-3v-3l-2-1-2-1-3 2 1 3v4a34 34 0 0 0-1 1v1h-5l-1 2-2 1h-1l-2-3v-1 1l-1 1h-2l-2-1-4-1-1-1-3 2-1-3-2 1h-4l-4-2h-1l-1-1v-3l-3-2h-1l-3-1-1 1h-3l-3-1-1 1h-3l-1-1-2-1v-1h-2l-1-1c-1 1-1 0-2-1l-8-3h-1l-2-3v-1l-7-4-2 2a28 28 0 0 0-4-3l1-1 2-2v-2l1-5c-1-2-1-2 1-3l3-3 1-1h1l-2-3-1-2-1 1-2 1h-1l-2-4-1-1c0-2-1-2-2-2l-2-1h-3l-2 1c-2 0-2-2-3-3v-5l-1-3-1-1v-1l-3-4v-5c-1 1-2 2-3 1-2 0-2-1-2-3v-2l-2 1-2 1-2-1-2-1h-1l-6-2-2 1-1 1c-2 0-3 1-4 3v4c-1 2-4 3-5 3l-4 3-3 1-2 1v1l1 1v7l-3 4-2 3a37 37 0 0 1-3 3l-4 4c-2 1-3 4-4 7l-2 5-4 5-2 3-1 1-6 4-4 1-4 1c-2 1-3 1-3-1l-1-1-7 3c-6 4-3 12-3 12l1 1 5-1h1l-2 9 3 2h3v4l4 9v4h-10l-3 1-2 1-3-1-2-1h-3v2l-2 2a9 9 0 0 0-4 2v1c0 1-3 3-1 6s8 4 13 3c6-1 5 1 2 3-3 1-10 1-5 10s16 11 17 11l9-2c3-1 3-5 4-7s0-4-1-7c-2-3 1-3 2-3h4c1 1-1 1-2 2v5l3 2c-1 1-2 1-2 3 0 3 2 4 2 10s-1 7 1 10l3 13c0 5 3 10 5 14 1 4 0 8 3 13s9 13 11 21 5 15 9 18c5 4 11 20 12 24s1 12 9 19c7 7 10-2 10-4s2-3 6-4c5-1 3-3 4-7 1-3 4-4 7-6s1-6 0-11l1-9c2-3 4-9 4-13s-3-5-4-12c-2-8 2-10 8-17 7-7 11-5 13-7l3-8c1-2 5-3 7-5l8-8c3-1 2-3 4-6l5-7c2-3 5 0 11-5 7-5 5-8 5-11s2-5 4-6l8-4c3 0 5 1 5 2l7 1 6-3 3-4v-1l-2-5Zm-437-91h-3v-5c0-3 1-3-1-9-2-5-5-6-8-8h-2l-3-1-3-2-1-2 2-1a71 71 0 0 1-7-9l-1-1h1v-3l-1-1v-1l1-1h1l1-1v-2l2-3h1l1-1 1-1-1-2v-3l1-2-5-1-3-2-1-1v-3l-2-1-2-2v-3l-1-3v-2l-1-1-2 1-2 1-1-1-3-1h-9l-3-1v1l-4 2c0 1-4 5-8 7l-3 1v2l1 1v10c0 6-2 11-3 12l-23 14c0 2 3 10 5 12l2 2 2 2v4h2c4 0 15 5 25 11s29 23 31 25h17l10 2 2 4h5v-2l-4-4-2-5v-7l1-4c1-1 2 1 3 2h2l-7-8v-5ZM72 427v-1l1-1 1-1v-3h-1v-1h-2l-1 1 1 1v2l-1 1-2-1h-1v1h-3l-2 1-3-2h-1v1l1 1-1-1-2-1-1-1v-1h-4v2l-1-1h-1l-1 1h-4l-1 1h-4l-1 2h-6l-5 4-2-1-3 1v4l-2 1v1l-1 3h-2l-1 1v2s1 0 0 0v1a3 3 0 0 1-1 0v1h-5l2 5c2 2 6 1 9 4 2 3 1 5 3 6 3 1 4 2 5 5 0 4-2 3-2 5 1 3 5 4 6 8s6 7 7 9c2 2 3-1 3-4 1-3 3 2 5 2 3-1 1-3 0-4s-2-2-1-4c2-1 5-2 2-3-2-1-2-2-2-4 1-2 5 1 8 2 3 2 0-2 0-4-1-2 1-3 1-2 1 2 4 5 6 4 3 0 1-3-1-4s-4-2-4-7c-1-4-4-3-7-3-2 0-3 2-4-3 0-4-4-7-5-10-2-3 0-5 4-4 5 1 2 4 5 4 2 0 0-3 1-3 0 0 2 3 4 2 2-2-2-4-2-4h4c0-2-4-3-3-5l3-3c1-1 4 2 5 0 1-1 4 0 8 1l2-2v-2Z"),m(zt,"d","M179 487h1c3-1 5-1 6-3v-2l1-2 2-1v-5l1-3h1l1 1c1 1 1 2 3 2l6-2 1-1c2-1 4-2 5 0l1 2 1 1 5-1 7-2 9-3 4-1 6 1 5-2 1-1h1v2l1 1 4-3v-1l1 1h2l4 1h5l-5-4-2-3-1-2-1-3-1-1v-3h1l2-1-1-2v-2l-1-2-2-3-3-1h-2c-1-1-3-1-3-3l-1-2v-8h-1c0-2-1-3-2-3l-1-2-1-1h-1l-3-1h-1l-4 1h-6l-1 1c-1 5-7 5-12 6-6 1-13-1-23-2-10-2-11-4-14-6-2-2-5-2-10-4s-8-1-21-1c-12 1-12 4-15 7s-6 5-9 5c-4 1-5-1-10-1l-10-2c-4-1-5-4-6-7h-6v2l-1-1-1-1v1h-1c-1 1-1 0-1-1l-1-1h-3l-3 1h-1v2h-2v2l2 1v4h-2l-1 1v3l-1 2 3 1c6 1 5 4 3 8s1 8 4 8c3 1 4 9 1 11-2 1-3 5-2 6s4 1 5 3c2 2 2 10 5 11 4 2 12 2 15 7 2 4 13 6 17 2s3-8 6-7c4 0 8 2 11 5 4 4 10 3 15 2s5-2 6-5c2-3 4-3 6-3 2 1 3 3 8 1 5-1 2 2 1 3v3h4Z"),m(xt,"d","m452 610 1-6-1-2 1-3h1l2-2 6-4h2c1 0 0 0 0 0v1h2l2-6v-1l-3-2-3-1v-11h-9c-3-1-3-3-4-5l-1-4-2-2-1-2c-2-1-3-2-3-4 0-3 2-6 3-8l1-2c1-2 2-5 5-7l2-3-1-1c-1 0-6 2-9 0s-3-3-2-7v-9l-1-7 2-3h-3l1-9h2l1-3c-1 0-2-2-1-4l5-4v-1c1-2-1-4-1-4v-17l-6-1-5-1s-4-1-6-4l-1-3-2-2h-7l-3-1-4-3h-2l-5-3-3-4h-6c-2 0-5 3-6 4l-4-1-4 1h-3c-1 0-2 1-2 3l-4 7c-3 3-5 2-7 1l-5-1h-7l-3 1c1 5 5 11 5 11 2 6-2 5-5 5l-17 2c-4 0-12-4-16-7-5-4-7-2-13-4-5-2-3-4-4-7h-1l-2 1-2-1-6-5v-2h1v-2l1-2 1-1-1-1-1-1-2-1h-3l-4 3-3 2-8 4v1l-4-2-3-1-3-1-3-3-1-1v3h-3l1 2v2l1 3 1 2 2 3 5 4c3-1 3 0 3 1l1 1 2-1 3-1v1l1 2v6l2 1c1 0 2 0 2 2v3l1 1 3 1 5 2h1l-1 1-1 1 1 3 1 3-2 1h-1v1l-2 2v2l-2 2h-1v6l1 1 7 8-2 2 1 1 3 1a64 64 0 0 1 4 2c3 1 6 2 8 7 2 7 2 7 1 10l1 5h2v5l7 8 2-1c2-1 4 0 8 1 3 0 3 0 5 3 1 2 3 8 7 12 3 5 2 8 4 9l12 2c5 2 3 4 5 6l8 4 8 1c5 1 4 3 9-1s12-5 15-3c4 3 5 11 6 14s8 3 10 2h5c1 2 7 2 12 3 5 0 12 6 18 4l5-2v-1ZM-84 180v1l1 3h1l2-5v-9l3-2v-1c3-2 4-3 3-7l-4-8h1s3 0 3-2c1-2 1-5-3-8h-1v-21c0-1-4-11 4-17 5-3 6-2 7-1h2c2-2 2-5 2-6v-2l-2-1h-1l-1-1 2-3 2-4 1-3 2-18s6 0 7-3v-2l2-5 5-8v-4l-1-2-1-2 1-1 1-1a54 54 0 0 0 5-9c1-2 3-1 3-1l3 2v-2c1-5 1-9 3-9 1-1 5 1 10 2l3 1 2-2-1-1v-2l1-3V7l2-1 2 2 1-2 1-1c1-2 2-3 5-2 2 1 3 3 3 6l1 4c2 3 3 3 4 3l3-1 3-2c2-1 3-2 4-1 2 0 3 2 4 3l2 1 2-3 1-1 1-1 2-3 2-10 2-5 2-4 2-2 4 1c3 0 3-2 4-2l1-1 4 5v1l2 1 3 4c2 3 2 3 0 4l-1 2c-2 2-2 3-1 3l1 2v1l1-1 1-2 1-1 3-4c2 0 2-2 2-3l1-2c2 1 4 3 5 2v-2c-1-2 0-3 1-5l1-2h-5c-2 2-4 1-5 1-1-1 2-3-1-4l-5-3h8c2 0 4-3 5-4 2-1 5-1 5-3 1-2-2-2-4-3-2 0-6-1-10-4-5-2-6-3-8 0s-4 4-5 3c-2-1-7-3-8-1s-3 5-6 3-7-2-10-1-10 3-12 5c-2 3-6 5-13 3-6-2-5 3-2 5 3 3 1 5-3 4-4 0-3 0-5 4s-5 5-7 4c-1-1-3-4-4-3-2 1-1 4-1 4h-3l-1 4-3-1c-1 1 1 3-1 4-1 1-3 1-3 3l-2 4c-1 1-3 1-4 4 0 3 0 6-2 7l-10 4c-4 2-5 5-4 7v9c0 3-3 4-5 4s-1 3-2 5c0 2-2 3-3 5v4l-3-1c-2 1-1 3 0 4s3 1 2 4-3 2-3 6-2 7-3 8l-4 6c-2 2-1 4-2 5s-2-2-4-1l-3 5-5 10-7 6c-3 2-5 7-7 10l-7 4c-2 1-4-2-5-1-1 2 1 3-4 6-4 3-5 8-6 14-1 7-3 5-4 7-1 3 2 7 3 6s3-1 3 1v5c0 1 3 1 4 8s-1 11-2 12-4 1-4 4 2 4 6 6c3 1 3 5 9 7 7 2 10-3 12-3 2-1 7-5 13-13l9-5 2-1Zm931 579v-1l2-2h1v-1l-1-1-1-1-1-4-1-1v-1l-2-4v-1l1-5c1-2-2-4-6-7-3-2-4-7-3-9v-1c2-1 2-2 2-5v-3l2-2 1-1-1-1-2-1v-5l-2-2-2-2-3-4-1-3-4-6v-2l1 1h3l1-1-1-1v-1c2-1 1-1 1-2v-2l1-2v-1l2-2h8v-2c0-2 1-2 3-2h3l-1-1v-1h1l2-1h4v-1s0-2 2-3l1-1 2-1 1-1 1-3 3-2h1l1-1h-2l-3 1-3 2c-3 0-4-1-6-4l-2-4-4-2-1 1h-1l3-10h-6v-5l-1-3 1-3h-4l-2 1-3 1-4 1v-1h-1l1-1 2-3v-1h-1l-2-1h-1l1-2v-1l1-1 2-2 1-4h2v-1l2-2h2l1-2 1-2-1-1 1-2v-1l1-5-1-3-1-6h-1l-2 1h-1v-2l1-2c0-3-1-4-2-4l-3-3-4 3v4l-2 2-2 2v1l1 1v2h-2l-2-1c-1-1-4 0-6 1l-9 7-1 9-2 2h-1l-2 4 2 1-6 14-2-1h-2l-3-1v9l-1 2h-1l1 4v7h-1l-1-1-1-1-1 1-1 1-1 1v4l-1 1-1 1v7l2 5h2l5 9 6 13 1 7c0 1-2 3-2 10-1 6 2 5 6 6 4 0 10-1 16-8 6-6 7-3 8-2 1 2 4 4 5 8 0 3 2 4 2 9 0 4 4 7 4 10s0 6 3 8 2 3 4 8l1 9c1 5 1 9-1 11v3l3-4 4-5Z"),m(Xt,"d","M9 55v-9c-2-2-1-3 0-4v-2c-2-2-3-3-2-6v-6l-1-2-2-2c0-3-8-6-10-7-3-1-5-4-6-7l-2-2-1-1h-1l-1 2v4l-1 3v1l1 1v1l-2 2-4-1-9-2-2 9-1 3-4-3-1 1-2 3-3 6-2 2v2l1 1v5c0 3-3 6-4 8h-1l-1 5-1 2c-1 3-5 3-7 3l-2 18v3l-3 5-1 2v1h1l2 1 1 2-3 6h-2c-1-1-2-2-7 2-8 5-3 15-3 15v21c5 4 4 7 4 9-1 2-3 2-4 2l3 8c2 4 0 5-2 8a54 54 0 0 0-3 3l-1 3v5l-2 5h-1l1 1c2 3 0 6 1 10s2 9 5 12 5 12 8 13c2 2 3 3 2 4-1 2-3 3-1 4s2 4 3 8c1 5 7 3 11 0 3-4 7-7 14-8 6 0 4-6 4-9l2-16 1-9c0-3 1-7 9-10 7-3 6-11 6-16s-9-9-13-12c-4-4-3-8-3-11l2-7v-10c1-6 4-6 5-7l3-2c0-1-1-5 3-5 3-1 3-3 4-4l5-1c2-1 5-3 6-8 1-6 3-6 4-7v-5l-2-4c-1-2 0-4 1-6l2-6 4-6 5-1a56 56 0 0 1 0-11Zm525 343-1 1-3 1v2l-1 1h-1l-2 1-1 1-2 2c0 2 1 3 2 3l3-2 1 1v1c-1 1-1 2 1 2h4l5-4v-1h1v1l1 2v1h2l1 1v1h2l3 2h4v3l-2 1-2 1-2 1-2 1h-2l-2 1v2l-2 1-1-1-2-1h-3l1 2v1l1 2-1 1-2-2-1-1-1 1a4 4 0 0 1-2 1l-2-1-1-1-2-1-4 1h-3v1l-1 1v2l1 3 1 1h9l2-1 3 1 4-1h4l3 1v1l1 1h1l1 1h2c0-1 0-2 2-2l7-1h1l3-1h3l1-1-1-3v-2l1-2 2-1 4-2 1-1 2-2 2-1c2 1 3 1 4-1l1-1v-1l1 1 1 4 5-1c2 0 3-2 4-4l2-3c3-3 5-4 7-3h5l4-5 4-2 7-4 4-3 2-1h3v-2l-1-3-5-1-1-1c-4-1-5-3-5-3s-1-2-5-2h-11l-20 1-5 1-7-2-2-1-2-2-1-1-3 2-3 2-2 3 1 3v3l-2 1-3-2c-2-1-5-3-9-3h-3c-4 0-6 0-7 2l-3 5 4 3Zm-536 9v-3l1-1 1-1v-2l1-1 1-1 1 1v1-2H2v-2h3l1-1h1v1a326 326 0 0 0-1-5l-1-1h2l1 1v-1l-4-3v-4l1-1 1-2v-2l-1 1H1v-1l-1-1-1-1h-6l-1 1-1-1h-2l-2-1h-2l-2-1h-1v1l-2-1-2 3h-1l-2-3h-2a4 4 0 0 1-1 2v1l1 1v1h-1l1 1 1 1 1 1v2h1v1h1v3a108 108 0 0 0 10 10v1l2 2 1 1 1 1v1h-1l-3 1h1l3-1 2 1 2 2 1 1 2 2 1 1v-4h-1Z"),m(Mt,"d","m6 416 1-1H6v-1l-1-1 5-6v1l1 2 1-1h1v-1l-1-1v-1h4v-1h-1v-1h-1l-1-1-2-1-2-1-2-2-1-1-1-1H3v-1H2l1 1v1l1 1-1 1H2v-1l-1 1H0v3h-1l-1 1v2l1 1v4l5 5 2 3v-3Zm341 270-24 3c-5 0-19 2-20 7 0 5-3 8-4 9l-3-1-4-2c-2-1-5 0-8 1a52 52 0 0 1-8 2h-4l-4 1h-3l-1-2-1-1-2 5c1 4-1 8-1 11s3 2 4 4v8c0 2 4 3 3 6 0 4 0 3 2 6s-1 5 8 5c9 1 9-4 13-8 3-3 3-1 8 1 4 2 9-1 11-3 3-1 2-4 5-4 4 0 8 0 10-3 3-3 6-3 10-5l15-4c5-2 6-2 9-8s8-7 11-8l-9-26-13 6Z"),m(Kt,"d","M13 445a12 12 0 0 1 2 0v-1l1-1-1-1v-1l1-1h2l1-3 1-1 2-1v-2l-1-2v-1h-1l-1-1v-1h-1l-1-1v-8l1-2-1-2v-2h-2l-1-2v-1l-1-1-1 1h-1l-1-2-4 5v1h1v3l-1 2 1 5c0 3 0 13 2 16 1 3 3 4 2 5h-1 3Zm377 171-1 1 1 2 1 4-2 3-3 2-2 1v3l-2 12 1 8-6 21-16 7 8 26c3 0 5-1 8-3s5-1 9-1c3 0 2-3 2-5 1-3 3-4 5-4 3 0 5-1 9-4 3-2 2-6 4-8s5 0 9 0c5-1-1-6-2-9-2-3 0-3 2-7 1-3 2-4 3-2 2 2 2 1 3-1l4-7c4-4 4-5 6-11s-1-4-3-5l-5-7c-2-2-2-5-4-5h-11c-6-1-7-5-9-7l-3-5-1-4-3 1-2 4Z"),m(Jt,"d","m381 644 3-12v-3l2-2 3-2 1-2-1-3v-4l2-4h1l3-1-2-4c-2-6-8-2-9 0l-3 5c-2 1-4 1-4 3 0 1-1 5-3 6-1 2-4 1-7 2l-8-1c-2-1-5 1-6 2h-3l8 18 23 2ZM47 286l-1-1 1-1-1-1v-1h2l2 1 1-1 2-2v-1h4l4-1 1-1 3 1h4l1 1h1l3 1 1-1 3 2 2-1 1 3h3s0-1 0 0h1v1h1v-2 1h2l2-1 1 1 1 1 1-1 1 1 1 1 1-1 3-2 2 4 1-1 2-1 1 1h1l2-1 2 2 1 1v1l1-1v-3l-1-2 1-1h1l1-3c-2 0-5-5-6-7l-3-2-3-3v-5l2-3-1-1-3-2h-1l-2-2-2-1h-2l-3-3-2-2-1-3v-2l-4-2 1-1 1-2v-1l-1-2 1-1v-3l-3-2-1-1-5 1h-2v-2l-1-1h-4v-1h-2l-1-1-1-1-2 3-1 1-2 1h-4l-2 1v2l-1 1v2l3 2-2 1h-3l-1 1-1 2-1 1s-1 0 0 0l-1 2v1l-1 2v1l1 1 1 1h-2l-1-1h-1l-1 1-1 1h-2l-2 2-2 1-3-1h-1v1l3 10 3 3c1 1 3 3 3 5l2 3 2 3-1 3-2 3v2l5 4v-2Zm-96 83h2v-2h-1v-3h-1v-1l1-1v-1h-2v-2l1-1h1v-1l-8-2-3-1-2-1v-1l-1-1v-2l-3 1h-6v1h-1v1l-2 1h-1l-1-1h-2v1l-1 1h1v3l-1-1-1-1h-1v4l1 1h-1v1h-1v-1l-1-1h-2l-1 1-1-2-1-2v2l-1 2-1 2-2 1 1 1v2h-2v-2h-1l1-1h-1l-1-1-2-1v-3l-3 2v2l-1 1-1 1v1h-2l-2-1-2 1-1 1-1-1-1 1h-1v2h1l1 1c-1 1-1 1 1 2v1c1 1 0 2-1 2l-2 1-1 1v1l1 1v1l2 2v1h-1l-1 2h1v1l1 2 3 1v1l2-1h1v3l-1 1-1 2 4-2c1-2 3-3 10-3 8 0 9 6 12 13 4 7 8 8 10 11s7 10 13 11c6 0 14 9 15 10 2 1 4-1 6 2l5 6c2 1 4 1 5 4l3 8c1 3 0 4-2 9-3 5-1 6 1 7 1 1 8-1 8-4l3-11c2-4 0-5-2-7-2-3-1-2 0-8 0-6 5-2 6-1l6 6c2 1 3-2 3-4s-1-6-3-7l-7-3-9-6c-3 0-6 0-6-2v-5c-2 0-7 0-11-2-4-1-5-4-7-6-2-3-3-7-6-10l-9-8c-3-2-4-7-5-10s1-8 6-11c2-2 4-1 5-1h1l2-1Zm268 161-3-3-5-11a1190 1190 0 0 1-20 11h-2l-2-1-4-2-4-1v-1c-1 20-5 36-7 39l1 4 1-1v2l15 3 5-5 1-2c2-2 3-2 5-2h3c2 0 3-3 4-5l1-1-6-7-4-5h1s14-3 19-6l3-1v-4l-2-1Z"),m(Qt,"d","M247 467v-1h-1l-1 1-5 1h-10l-9 3a257 257 0 0 0-13 3v-1l-1-2c-1-1-2-1-5 1h-1l-6 2-4-1-1-1v-1 3l-1 2v3l-2 1v2l-1 2c0 3-2 3-6 3h-4v10l1 2h7c2 0 3 1 4 3v4l-1 2-1 1-1 1-2 1-2 4-1 1-1 1v5l4 2 4 2h7a1235 1235 0 0 0 40-25c2-1 4-7 4-12a358 358 0 0 1 0-10l-1-1-1-2 3-2c5-1 8-5 9-6l-1-1Zm84 121 1 6v3c0 2-2 0 0 2 1 2 0 3 1 2 1 0 1 1 2-1v-2l1-3 1-1v-5l-2-1-2-1-1 1h-1ZM79 671h-9v45H60s-2 2-1 4-1 4-3 6l-1 1-1 5c1 1-1 2-2 3l-1 1v3c1 2 2 3-1 5l-3 4 1 1 3-1h2l1 3v3l1 2c1 2 1 4 3 5v5l2 2 2 2 4 6 1 3c3 1 7 0 10-1l2-2 2-3c2-2 4-2 6-2l3 3 2 3c0 2 1 4 5 4h14c3 2 5 2 8 0l5-2h1v-2l1-3h1c0-1 1-2 3 0l8 4 6 1 11-14-1-5-1-2-1-1v-1l5-1v-2h6l-1 5v3c0 4 0 7 2 9l3 2c2 2 4 4 4 6v2l1-1 1-4 1-2 1-5v-1h1l1-1 1 1c1 0 1 1 2-1 2-1 1-6 0-8 0-2 7-9 7-10h5l4-16-1-3c-1-1 1-10 2-13l2-2 1-3v-8h4l1-2c0-2 1-2 3-2 2-1 4-1 5-3l2-3 3-3c-3-3-14-5-15-13l-1-12-2-8-1-8H79v22Zm119-24c-1-2-6-7-9-8s-7-6-6-9c0-4-1-8-3-11-3-2-14-15-14-23-1-8-5-9-5-12l-4-6-7-8-3-7c1-1 1-1 4 3l8 11 6 5c2 0 4 2 5-5l2-10 1-2-7-28-3 5-8 2-8 1c-3-1-5 0-7-2s-7-3-11-2-3-1-8 2c-5 4-9 5-21 1-11-3-15-2-19-3h-2v3l-1 8v2c-1 3-2 7 2 14v81h119l-1-2Z"),m(Ct,"d","M259 751c2 0 3-2 4-4v-1l-10-14-13-9c-3-2-12-7-14-12-2-4-2-7-2-10-1-3-3-8-6-11l-2 4-3 2c-1 2-3 3-5 3l-3 2v2h-5v8l-1 3-2 3c-1 2-2 11-1 12l1 3h4l3-2 1 1 2 1 2-6 1-1 5 5v1l4-2 2-1h2l1 1v-1h3l5 1 7 4 3 2 4 5 10 11h3ZM-21 639v1l2 9 1 9 1 3 4 4 1 2-1 3-1 3v16l-1 8-1 7-6 7-9 11c-1 4-3 5-5 6l-1 2 1 3 1 4 1 2 4 5 3-1 3 4 2 5 2 8c0 7 1 11 3 13l4 4h1l-17-1-2 4 1 1 2 2c3 2 8 5 10 10l1 8c4 0 7-1 9-3h2l2 2 1 1 1-1c1-1 3-3 9-3 8 0 12-2 12-5l-1-3v-2l4-1c6-1 10-2 17-7 6-5 8-6 8-8v-4l6-1h5c0-1 1-2-1-4l-2-6-1-2v-3l-1-3h-2c-1 1-2 2-3 1h-1c-1-2 2-4 3-5 2-2 2-3 1-5v-1h-1l1-3h1l2-3c-1-1 0-4 1-6l1-1c1-1 3-3 2-5l2-4h9v-39l-81-43-9 5Z"),m(Dt,"d","m-56 531-5 4-5 3c-2 2-4 5-4 8 1 4-2 9-4 10l-1 1c-2 0-3 0-3 2l3 6 1 1v9h1l1 1-1 10v1l-1 1v12l-4 4 2 2 5 7 1 3c0 4 1 6 3 6l4 2a11 11 0 0 0 5 1c2 1 4 1 5 3v3l1 2h3c3 0 8 1 12 4l3 2c3 3 4 4 9 1l13-7h1l80 43v-6h10v-21h1l-1-81c-4-7-3-11-2-14l1-2v-8l1-3-8-4c-1-3-14-1-17-4-2-3 0-4-4-5s-24-4-26 2c-3 7-5 10-3 13 1 4 2 11-4 13-5 2-13 0-18-7-6-7-20-3-21-5s1-7-4-11c-5-3-17-6-21-6h-9v4Z"),m(pe,"opacity",".1"),m(pe,"stroke","#272D2E"),m(pe,"stroke-width","1.2"),m(pe,"stroke-miterlimit","10"),m(pe,"mask","url(#c)"),m(jt,"d","M96 394v1l-2 2c-2 3-5 2-5 7 0 6 0 5 2 10l1 2c2 3 3 6 7 7l10 2c5 0 6 2 10 1 3 0 6-2 9-5s3-6 15-7c13-1 16-1 20 1 5 2 9 1 11 4 2 2 4 4 14 5 10 2 17 3 23 2 5-1 11 0 12-5l1-1v-1c2-4 3-7-2-13-6-7-9-8-15-12h-1c-6-4-5-7-12-9s-9-2-13-5-5-2-6-5-4-6 0-6c5-1 6-4 6-5v-5c0-1-5-1-2-4 4-3 8-5 7-6l-1-2h-1l-4-1c-3 0-3 1-8 4-4 3-8 6-15 5-2-1-1 5-3 5v3c2 2 2 5 5 6h7c3-1 5 0 5 1s4 3 0 4h-9l-4 4-6 1c-1 1 0 5-5 4-5 0-11-1-9-4 1-3-4-6-5-6-2 0-3-2 0-4 2-2 5-1 5-4 0-2-5-4-9-4-3 0-1 0-6-3-5-2-4-4-8 0-3 4-4 9-6 10s-4 0-4 2 2 3 0 6l-1 1-6 3c-1 1 2 2 0 6l-2 8Zm210 42-1 8-1 6s-3-5-3-2c-1 3-2 7-1 11l1 1c1 3-1 5 4 7 6 2 8 0 13 4 4 3 12 7 16 7l17-2c3 0 7 1 5-5 0 0-5-6-5-11v-1c1-5 0-7-3-10-2-2-4-3-3-5 1-3 3-5 0-6-3-2-4 0-5 0-2 0-6-6-5-9 2-3 4-3 1-7l-5-4-1-1v-5c2-7 4-12 0-13-5-1-12-2-13-4l-4-8-7-7c-2-1 1-4 5-4s-1-6 1-8c3-3 9-5 12-5 4 0 6-5 5-10-1-4-3-12-7-11-3 1-6 4-8 3s-9-1-11 1l-6 4-7 6-10 6c-3 2-9 5-7 11 1 7 6 11 7 14 0 3-1 8 3 13 4 4 9 5 12 11l1 1c3 6 8 13 11 14 3 2 8 5 6 6-1 1-6 2-7 4Zm499 274c-2 2-5 2-7 2-4-1-7 0-7-6 1-7 3-9 3-10l-1-7-6-13c-1-2-4-8-6-9l-2-1c-3 0-7-1-10-4-4-5-7-9-7-13l-2-9c-1-3-3-7-4-6-2 2-3 1-4 0-2-2-5-4-5-1 0 2 1 4-1 5l-1 2v1l-3 4c-1 1-4 3-6 2h-7c-1-1-2-3-5-2l-8 4c-2 1-4 3-4 6s2 6-5 11c-6 4-9 2-11 5l-5 7c-2 3-1 5-4 6l-8 8c-3 2-6 2-7 5l-4 7c-1 2-6 1-12 8l-4 4h153v-6ZM261-1c0 1 0 3 3 3l3-3h-6Zm-46 0-2 1c-2 1-3 0-3-1h-95l15 9c13 9 18 11 21 12l6 6c1 2 7 10-1 18-7 9-12 12-21 11l-15-2c-4-1-5-1-7-3-3-2-4-1-7-1s-3-2-4-3c-1-2-5-3-5 0 0 2-1 5 2 7 2 1 12 3 11 10s1 11 2 12c2 2 0 7 2 10 2 2 7 2 12 6 4 4 14 7 15 1 2-6-2-5-6-6s-5-2-7-4-3-4-2-5c2-2 1-4 2-6h5l6 4c3 1 6 0 9 3 2 2 1 5 4 5s10-4 5-11-5-10 0-15c5-6 8-13 12-13l12 2c3 1 8 2 7-5s0-8-4-10c-4-3-4-4-4-11s0-13-4-14c-4-2-7-6-1-4h12c5-1 6 0 7 3s2 2 4 5c2 2 6 4 3 6l-6 2c-1 0-2 0-3 2 0 2-2 2-1 4l5 6c2 3 5 4 7 4 3 0 7 1 9-2l2-11c-1-2 0-4 5-3 4 0 3-2 1-4-1-2 1-2 2-1 1 2 2-1 4-3l6-7c1-1 2-3 5-4h-22Zm-38 501v-1l-1-2v-8l-1-2v-3c0-1 4-4-1-3-5 2-6 0-8-1-2 0-4 0-6 3-1 3-1 4-6 5s-11 2-15-2c-3-3-7-5-11-6-3 0-2 4-6 8s-15 2-17-2c-3-5-11-6-15-7-3-1-3-9-5-11-1-2-4-2-5-3s-1-5 2-6c3-2 2-10-1-11s-6-4-4-8 2-7-3-8l-3-1h-1c-4-1-7-2-8-1-1 2-4-1-5 0l-4 3c0 2 4 3 4 4 1 2-3 1-4 1 0 0 4 2 2 3-3 2-4-1-5-1 0 0 2 3-1 3-2 0 0-3-4-4s-6 1-4 4c1 3 5 6 5 10 1 5 2 3 4 3 3 0 6-1 7 3 0 5 2 5 4 7 1 1 4 4 1 4s-5-2-6-4c-1-1-2 0-1 2 0 2 3 5 0 4s-8-4-8-2c-1 2 0 3 2 4 3 1 0 2-2 3-1 1 0 3 1 4s2 3 0 4c-2 0-5-6-5-2 0 3-1 6-3 4s-6-5-7-9-5-5-6-8c0-2 2-1 1-5 0-3-1-4-4-5-2-1-1-3-3-6-3-3-7-2-9-5l-2-4 1-1c1-1-1-1-2-4-2-3-2-13-2-16l-1-5v-1l-2-2-5-5v25l1 5-1 4v104c5 7 13 9 18 7 5-3 5-10 3-13-1-3 1-6 3-13 3-6 23-4 27-3 3 2 2 3 4 6s16 1 17 3 4 4 7 5h3c4 1 8 0 19 3 11 4 16 3 21-1 5-3 4-2 8-2 4-1 9 0 11 2s3 1 7 1h8c4 0 7-3 8-3v1l3-5 2-4c1-4 0-7 2-9l3-5v-1l1-2 4-13-1-3Zm-95 1c-1 2-4 2-8 2l-6 3c-2 0-4-4-6-4h-7c-1 0-3-4-1-5 4-2 5-1 7 0s1-3 7-1l9 3c3 0 7 0 5 2Zm80-3c-2 1-2 4-2 5 0 2-3 1-5 1-2 1-4 3-7 3l-7-2c-2-2 0-4 3-5 3 0 3-2 7-3l2 1c2 1 3 0 6-1l5-3c1 1-1 2-2 4Z"),m(jt,"fill","#1B253A"),m(t,"clip-path","url(#a)"),m(st,"fill","#fff"),m(st,"d","M0 0h804v715H0z"),m(Lt,"id","a"),m(e,"viewBox","0 0 804 715"),m(e,"fill","none"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"class","svelte-1fqtuea")},m(Ft,Yt){P(Ft,e,Yt),A(e,t),A(t,r),A(t,l),A(l,s),A(t,i),A(i,c),A(i,a),A(i,f),A(i,v),A(i,o),A(i,u),A(i,h),A(i,p),A(i,d),A(i,y),A(i,_),A(i,b),A(i,T),A(i,M),A(i,I),A(i,D),A(i,B),A(i,C),A(i,L),A(i,j),A(i,k),A(i,O),A(i,X),A(i,x),A(i,oe),A(i,ie),A(i,ke),A(i,_e),A(i,G),A(i,J),A(i,me),A(i,Fe),A(i,Ne),A(i,Re),A(i,Ye),A(i,dt),A(i,et),A(i,tt),A(i,Tt),A(i,Je),A(i,vt),A(i,nt),A(i,qe),A(i,ge),A(i,pt),A(i,rt),A(i,lt),A(t,Ze),A(Ze,Qe),A(t,pe),A(pe,It),A(pe,_t),A(pe,be),A(pe,Ue),A(pe,Ot),A(pe,Ae),A(pe,We),A(pe,mt),A(pe,gt),A(pe,Gt),A(pe,xe),A(pe,qt),A(pe,Pt),A(pe,Ut),A(pe,Wt),A(pe,zt),A(pe,xt),A(pe,Xt),A(pe,Mt),A(pe,Kt),A(pe,Jt),A(pe,Qt),A(pe,Ct),A(pe,Dt),A(t,jt),A(e,it),A(it,Lt),A(Lt,st)},p:ne,i:ne,o:ne,d(Ft){Ft&&g(e)}}}class Kp extends de{constructor(e){super(),ve(this,e,null,Xp,he,{})}}const Dn=n=>Object.entries(n);function Oi(n){let e;return{c(){e=H("div"),this.h()},l(t){e=V(t,"DIV",{class:!0}),S(e).forEach(g),this.h()},h(){m(e,"class","online-status svelte-9z74xo"),Y(e,"connected",n[2])},m(t,r){P(t,e,r)},p(t,r){r&4&&Y(e,"connected",t[2])},d(t){t&&g(e)}}}function Jp(n){let e,t,r,l,s,i,c,a,f;r=new vr({props:{faceId:n[1]??0}});let v=n[2]!==void 0&&Oi(n);return{c(){e=H("div"),t=H("div"),q(r.$$.fragment),l=Z(),s=H("div"),i=ee(n[0]),c=Z(),v&&v.c(),this.h()},l(o){e=V(o,"DIV",{class:!0});var u=S(e);t=V(u,"DIV",{class:!0});var h=S(t);U(r.$$.fragment,h),h.forEach(g),l=N(u),s=V(u,"DIV",{class:!0});var p=S(s);i=te(p,n[0]),p.forEach(g),c=N(u),v&&v.l(u),u.forEach(g),this.h()},h(){m(t,"class","face svelte-9z74xo"),m(s,"class","name svelte-9z74xo"),m(e,"class",a="player side-"+n[4]+" svelte-9z74xo"),Y(e,"playing",n[3])},m(o,u){P(o,e,u),A(e,t),W(r,t,null),A(e,l),A(e,s),A(s,i),A(e,c),v&&v.m(e,null),f=!0},p(o,[u]){const h={};u&2&&(h.faceId=o[1]??0),r.$set(h),(!f||u&1)&&Ie(i,o[0]),o[2]!==void 0?v?v.p(o,u):(v=Oi(o),v.c(),v.m(e,null)):v&&(v.d(1),v=null),(!f||u&16&&a!==(a="player side-"+o[4]+" svelte-9z74xo"))&&m(e,"class",a),(!f||u&24)&&Y(e,"playing",o[3])},i(o){f||($(r.$$.fragment,o),f=!0)},o(o){E(r.$$.fragment,o),f=!1},d(o){o&&g(e),z(r),v&&v.d()}}}function Qp(n,e,t){let{name:r}=e,{faceId:l=void 0}=e,{isConnected:s=void 0}=e,{isPlaying:i=!1}=e,{side:c}=e;return n.$$set=a=>{"name"in a&&t(0,r=a.name),"faceId"in a&&t(1,l=a.faceId),"isConnected"in a&&t(2,s=a.isConnected),"isPlaying"in a&&t(3,i=a.isPlaying),"side"in a&&t(4,c=a.side)},[r,l,s,i,c]}class Wn extends de{constructor(e){super(),ve(this,e,Qp,Jp,he,{name:0,faceId:1,isConnected:2,isPlaying:3,side:4})}}const[Yp,e_]=F3({duration:n=>Math.sqrt(n*1500),fallback(n){const e=getComputedStyle(n),t=e.transform==="none"?"":e.transform;return{duration:600,easing:j3,css:r=>`
				transform: ${t} scale(${r});
				opacity: ${r}
			`}}});function Pi(n,e,t){const r=n.slice();return r[24]=e[t],r}function Mi(n,e,t){const r=n.slice();return r[27]=e[t],r}function Ci(n){let e,t,r;return t=new hr({props:{itemId:n[27].id}}),{c(){e=H("div"),q(t.$$.fragment),this.h()},l(l){e=V(l,"DIV",{class:!0});var s=S(e);U(t.$$.fragment,s),s.forEach(g),this.h()},h(){m(e,"class","item svelte-py9bsy")},m(l,s){P(l,e,s),W(t,e,null),r=!0},p(l,s){const i={};s&64&&(i.itemId=l[27].id),t.$set(i)},i(l){r||($(t.$$.fragment,l),r=!0)},o(l){E(t.$$.fragment,l),r=!1},d(l){l&&g(e),z(t)}}}function Di(n,e){let t,r,l,s,i;return r=new Wn({props:{name:e[24].user.name,side:e[24].side,faceId:e[24].faceId,isPlaying:e[24].isPlaying}}),{key:n,first:null,c(){t=H("div"),q(r.$$.fragment),this.h()},l(c){t=V(c,"DIV",{class:!0});var a=S(t);U(r.$$.fragment,a),a.forEach(g),this.h()},h(){m(t,"class","player svelte-py9bsy"),this.first=t},m(c,a){P(c,t,a),W(r,t,null),i=!0},p(c,a){e=c;const f={};a&128&&(f.name=e[24].user.name),a&128&&(f.side=e[24].side),a&128&&(f.faceId=e[24].faceId),a&128&&(f.isPlaying=e[24].isPlaying),r.$set(f)},i(c){i||($(r.$$.fragment,c),c&&Bn(()=>{i&&(s&&s.end(1),l=ar(t,e_,{key:`board-player-${e[24].id}`}),l.start())}),i=!0)},o(c){E(r.$$.fragment,c),l&&l.invalidate(),c&&(s=cr(t,Yp,{key:`board-player-${e[24].id}`})),i=!1},d(c){c&&g(t),z(r),c&&s&&s.end()}}}function ji(n){let e,t='<span class="svelte-py9bsy">Move</span>',r,l;return{c(){e=H("button"),e.innerHTML=t,this.h()},l(s){e=V(s,"BUTTON",{class:!0,"data-svelte-h":!0}),Vt(e)!=="svelte-1xw0taw"&&(e.innerHTML=t),this.h()},h(){m(e,"class","move-button unstyled svelte-py9bsy")},m(s,i){P(s,e,i),r||(l=we(e,"click",n[19]),r=!0)},p:ne,d(s){s&&g(e),r=!1,l()}}}function Li(n){let e,t='<span class="svelte-py9bsy">Place</span>',r,l;return{c(){e=H("button"),e.innerHTML=t,this.h()},l(s){e=V(s,"BUTTON",{class:!0,"data-svelte-h":!0}),Vt(e)!=="svelte-4t2lbw"&&(e.innerHTML=t),this.h()},h(){m(e,"class","move-button unstyled svelte-py9bsy")},m(s,i){P(s,e,i),r||(l=we(e,"click",n[20]),r=!0)},p:ne,d(s){s&&g(e),r=!1,l()}}}function t_(n){let e,t,r=[],l=new Map,s,i,c,a=fe(n[6]),f=[];for(let d=0;d<a.length;d+=1)f[d]=Ci(Mi(n,a,d));const v=d=>E(f[d],1,1,()=>{f[d]=null});let o=fe(n[7]);const u=d=>`board-player-${d[24].id}`;for(let d=0;d<o.length;d+=1){let y=Pi(n,o,d),_=u(y);l.set(_,r[d]=Di(_,y))}let h=n[8]&&n[2]&&ji(n),p=n[9]&&n[4]&&Li(n);return{c(){e=H("div");for(let d=0;d<f.length;d+=1)f[d].c();t=Z();for(let d=0;d<r.length;d+=1)r[d].c();s=Z(),h&&h.c(),i=Z(),p&&p.c(),this.h()},l(d){e=V(d,"DIV",{class:!0});var y=S(e);for(let _=0;_<f.length;_+=1)f[_].l(y);t=N(y);for(let _=0;_<r.length;_+=1)r[_].l(y);s=N(y),h&&h.l(y),i=N(y),p&&p.l(y),y.forEach(g),this.h()},h(){m(e,"class","square svelte-py9bsy"),Y(e,"possible-move",n[1]&&n[2]||n[3]&&n[4]),Y(e,"impossible-move",n[1]&&!n[2]||n[3]&&!n[4]),Y(e,"current-position",n[1]&&n[5]),De(e,"--_row",n[0][1]+1),De(e,"--_column",n[0][0]+1)},m(d,y){P(d,e,y);for(let _=0;_<f.length;_+=1)f[_]&&f[_].m(e,null);A(e,t);for(let _=0;_<r.length;_+=1)r[_]&&r[_].m(e,null);A(e,s),h&&h.m(e,null),A(e,i),p&&p.m(e,null),c=!0},p(d,[y]){if(y&64){a=fe(d[6]);let _;for(_=0;_<a.length;_+=1){const b=Mi(d,a,_);f[_]?(f[_].p(b,y),$(f[_],1)):(f[_]=Ci(b),f[_].c(),$(f[_],1),f[_].m(e,t))}for(ae(),_=a.length;_<f.length;_+=1)v(_);ce()}y&128&&(o=fe(d[7]),ae(),r=fr(r,y,u,1,d,o,l,e,ur,Di,s,Pi),ce()),d[8]&&d[2]?h?h.p(d,y):(h=ji(d),h.c(),h.m(e,i)):h&&(h.d(1),h=null),d[9]&&d[4]?p?p.p(d,y):(p=Li(d),p.c(),p.m(e,null)):p&&(p.d(1),p=null),(!c||y&30)&&Y(e,"possible-move",d[1]&&d[2]||d[3]&&d[4]),(!c||y&30)&&Y(e,"impossible-move",d[1]&&!d[2]||d[3]&&!d[4]),(!c||y&34)&&Y(e,"current-position",d[1]&&d[5]),y&1&&De(e,"--_row",d[0][1]+1),y&1&&De(e,"--_column",d[0][0]+1)},i(d){if(!c){for(let y=0;y<a.length;y+=1)$(f[y]);for(let y=0;y<o.length;y+=1)$(r[y]);c=!0}},o(d){f=f.filter(Boolean);for(let y=0;y<f.length;y+=1)E(f[y]);for(let y=0;y<r.length;y+=1)E(r[y]);c=!1},d(d){d&&g(e),je(f,d);for(let y=0;y<r.length;y+=1)r[y].d();h&&h.d(),p&&p.d()}}}function n_(n,e,t){let r,l,s,i,c,a,f,v,o,{coordinate:u}=e;const{machine:h}=Ve(),p=ue(h.service,({context:k})=>k.items.filter(O=>He(O.position,u)),He);se(n,p,k=>t(6,a=k));const d=ue(h.service,({context:k})=>{const O=Te.fromContext(k),X=Bt(k),{playerPositions:x}=O;return Dn(x).filter(([oe,ie])=>He(ie,u)).map(([oe])=>Gs(oe,k)).filter(oe=>nr(oe.id)===X.side).filter(oe=>O.isPlaced(oe.id)).map(oe=>{const ie=qs(oe.userId,k);return{...oe,user:ie,side:nr(oe.id),isPlaying:O.activePlayer.id===oe.id}})},He);se(n,d,k=>t(7,f=k));const y=ue(h.service,k=>k.matches("Playing.Gameloop.Playing.Moving"));se(n,y,k=>t(1,r=k));const _=ue(h.service,k=>k.matches("Playing.Gameloop.Playing.Placing"));se(n,_,k=>t(3,s=k));const b=ue(h.service,k=>k.matches("Playing.Gameloop.Playing.Moving")?He(Te.fromContext(k.context).activePlayerPosition,u):!1);se(n,b,k=>t(5,c=k));const T=ue(h.service,k=>k.matches("Playing.Gameloop.Playing.Moving")?Te.fromContext(k.context).isValidMove(u):!1);se(n,T,k=>t(2,l=k));const M=ue(h.service,k=>k.matches("Playing.Gameloop.Playing.Placing")?(u[0]+u[1]%2)%2==0:!1);se(n,M,k=>t(4,i=k));const I=(k,O)=>({type:"apply game event",gameEvent:{type:"move",finalized:!0,playerId:Te.fromContext(O).activePlayer.id,to:k}}),D=(k,O)=>({type:"apply game event",gameEvent:{type:"placement",finalized:!0,playerId:Te.fromContext(O).activePlayer.id,coordinate:k}}),B=ue(h.service,k=>k.can(I(u,h.service.getSnapshot().context)));se(n,B,k=>t(8,v=k));const C=ue(h.service,k=>k.can(D(u,h.service.getSnapshot().context)));se(n,C,k=>t(9,o=k));const L=()=>{h.send(I(u,h.service.getSnapshot().context))},j=()=>{h.send(D(u,h.service.getSnapshot().context))};return n.$$set=k=>{"coordinate"in k&&t(0,u=k.coordinate)},[u,r,l,s,i,c,a,f,v,o,p,d,y,_,b,T,M,B,C,L,j]}class r_ extends de{constructor(e){super(),ve(this,e,n_,t_,he,{coordinate:0})}}function Fi(n,e,t){const r=n.slice();return r[0]=e[t],r[2]=t,r}function l_(n,e,t){const r=n.slice();return r[0]=e[t],r[4]=t,r}function i_(n){let e,t;return e=new r_({props:{coordinate:[n[4],n[2]]}}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,l){W(e,r,l),t=!0},p:ne,i(r){t||($(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function Ri(n){let e,t,r=fe([...new Array(os)]),l=[];for(let s=0;s<r.length;s+=1)l[s]=i_(l_(n,r,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=ye()},l(s){for(let i=0;i<l.length;i+=1)l[i].l(s);e=ye()},m(s,i){for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(s,i);P(s,e,i),t=!0},p:ne,i(s){if(!t){for(let i=0;i<r.length;i+=1)$(l[i]);t=!0}},o(s){l=l.filter(Boolean);for(let i=0;i<l.length;i+=1)E(l[i]);t=!1},d(s){s&&g(e),je(l,s)}}}function s_(n){let e,t,r,l;t=new Kp({});let s=fe([...new Array(q1)]),i=[];for(let a=0;a<s.length;a+=1)i[a]=Ri(Fi(n,s,a));const c=a=>E(i[a],1,1,()=>{i[a]=null});return{c(){e=H("div"),q(t.$$.fragment),r=Z();for(let a=0;a<i.length;a+=1)i[a].c();this.h()},l(a){e=V(a,"DIV",{class:!0});var f=S(e);U(t.$$.fragment,f),r=N(f);for(let v=0;v<i.length;v+=1)i[v].l(f);f.forEach(g),this.h()},h(){m(e,"class","board svelte-h3xvzy")},m(a,f){P(a,e,f),W(t,e,null),A(e,r);for(let v=0;v<i.length;v+=1)i[v]&&i[v].m(e,null);l=!0},p(a,[f]){if(f&0){s=fe([...new Array(q1)]);let v;for(v=0;v<s.length;v+=1){const o=Fi(a,s,v);i[v]?(i[v].p(o,f),$(i[v],1)):(i[v]=Ri(o),i[v].c(),$(i[v],1),i[v].m(e,null))}for(ae(),v=s.length;v<i.length;v+=1)c(v);ce()}},i(a){if(!l){$(t.$$.fragment,a);for(let f=0;f<s.length;f+=1)$(i[f]);l=!0}},o(a){E(t.$$.fragment,a),i=i.filter(Boolean);for(let f=0;f<i.length;f+=1)E(i[f]);l=!1},d(a){a&&g(e),z(t),je(i,a)}}}class o_ extends de{constructor(e){super(),ve(this,e,null,s_,he,{})}}function Bi(n,e,t){const r=n.slice();return r[14]=e[t],r}function Hi(n,e,t){const r=n.slice();r[17]=e[t];const l=r[11](r[17],r[1]);return r[18]=l,r}function Vi(n,e,t){const r=n.slice();return r[14]=e[t],r}function Zi(n,e,t){const r=n.slice();r[17]=e[t];const l=r[11](r[17],r[1]);return r[18]=l,r}function Ni(n){let e,t;return e=new Wn({props:{faceId:n[17].faceId,name:n[18].name,isConnected:n[18].isConnected,isPlaying:n[2]===n[17].id,side:"defense"}}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,l){W(e,r,l),t=!0},p(r,l){const s={};l&1&&(s.faceId=r[17].faceId),l&3&&(s.name=r[18].name),l&3&&(s.isConnected=r[18].isConnected),l&5&&(s.isPlaying=r[2]===r[17].id),e.$set(s)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function Gi(n){let e,t;return e=new Wn({props:{name:n[14].name,side:"admin",isConnected:n[14].isConnected}}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,l){W(e,r,l),t=!0},p(r,l){const s={};l&8&&(s.name=r[14].name),l&8&&(s.isConnected=r[14].isConnected),e.$set(s)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function qi(n){let e,t;return e=new Wn({props:{faceId:n[17].faceId,name:n[18].name,isConnected:n[18].isConnected,isPlaying:n[2]===n[17].id,side:"attack"}}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,l){W(e,r,l),t=!0},p(r,l){const s={};l&16&&(s.faceId=r[17].faceId),l&18&&(s.name=r[18].name),l&18&&(s.isConnected=r[18].isConnected),l&20&&(s.isPlaying=r[2]===r[17].id),e.$set(s)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function Ui(n){let e,t;return e=new Wn({props:{name:n[14].name,side:"admin",isConnected:n[14].isConnected}}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,l){W(e,r,l),t=!0},p(r,l){const s={};l&32&&(s.name=r[14].name),l&32&&(s.isConnected=r[14].isConnected),e.$set(s)},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function a_(n){let e,t,r="Verteidiger:innen",l,s,i,c,a,f="Angreifer:innen",v,o,u,h,p=fe(n[0]),d=[];for(let j=0;j<p.length;j+=1)d[j]=Ni(Zi(n,p,j));const y=j=>E(d[j],1,1,()=>{d[j]=null});let _=fe(n[3]),b=[];for(let j=0;j<_.length;j+=1)b[j]=Gi(Vi(n,_,j));const T=j=>E(b[j],1,1,()=>{b[j]=null});let M=fe(n[4]),I=[];for(let j=0;j<M.length;j+=1)I[j]=qi(Hi(n,M,j));const D=j=>E(I[j],1,1,()=>{I[j]=null});let B=fe(n[5]),C=[];for(let j=0;j<B.length;j+=1)C[j]=Ui(Bi(n,B,j));const L=j=>E(C[j],1,1,()=>{C[j]=null});return{c(){e=H("div"),t=H("h3"),t.textContent=r,l=Z(),s=H("div");for(let j=0;j<d.length;j+=1)d[j].c();i=Z();for(let j=0;j<b.length;j+=1)b[j].c();c=Z(),a=H("h3"),a.textContent=f,v=Z(),o=H("div");for(let j=0;j<I.length;j+=1)I[j].c();u=Z();for(let j=0;j<C.length;j+=1)C[j].c();this.h()},l(j){e=V(j,"DIV",{class:!0});var k=S(e);t=V(k,"H3",{class:!0,"data-svelte-h":!0}),Vt(t)!=="svelte-1krh9a0"&&(t.textContent=r),l=N(k),s=V(k,"DIV",{class:!0});var O=S(s);for(let x=0;x<d.length;x+=1)d[x].l(O);i=N(O);for(let x=0;x<b.length;x+=1)b[x].l(O);O.forEach(g),c=N(k),a=V(k,"H3",{class:!0,"data-svelte-h":!0}),Vt(a)!=="svelte-1fki2a7"&&(a.textContent=f),v=N(k),o=V(k,"DIV",{class:!0});var X=S(o);for(let x=0;x<I.length;x+=1)I[x].l(X);u=N(X);for(let x=0;x<C.length;x+=1)C[x].l(X);X.forEach(g),k.forEach(g),this.h()},h(){m(t,"class","svelte-j1ncfg"),m(s,"class","players svelte-j1ncfg"),m(a,"class","svelte-j1ncfg"),m(o,"class","players svelte-j1ncfg"),m(e,"class","players-container svelte-j1ncfg")},m(j,k){P(j,e,k),A(e,t),A(e,l),A(e,s);for(let O=0;O<d.length;O+=1)d[O]&&d[O].m(s,null);A(s,i);for(let O=0;O<b.length;O+=1)b[O]&&b[O].m(s,null);A(e,c),A(e,a),A(e,v),A(e,o);for(let O=0;O<I.length;O+=1)I[O]&&I[O].m(o,null);A(o,u);for(let O=0;O<C.length;O+=1)C[O]&&C[O].m(o,null);h=!0},p(j,[k]){if(k&2055){p=fe(j[0]);let O;for(O=0;O<p.length;O+=1){const X=Zi(j,p,O);d[O]?(d[O].p(X,k),$(d[O],1)):(d[O]=Ni(X),d[O].c(),$(d[O],1),d[O].m(s,i))}for(ae(),O=p.length;O<d.length;O+=1)y(O);ce()}if(k&8){_=fe(j[3]);let O;for(O=0;O<_.length;O+=1){const X=Vi(j,_,O);b[O]?(b[O].p(X,k),$(b[O],1)):(b[O]=Gi(X),b[O].c(),$(b[O],1),b[O].m(s,null))}for(ae(),O=_.length;O<b.length;O+=1)T(O);ce()}if(k&2070){M=fe(j[4]);let O;for(O=0;O<M.length;O+=1){const X=Hi(j,M,O);I[O]?(I[O].p(X,k),$(I[O],1)):(I[O]=qi(X),I[O].c(),$(I[O],1),I[O].m(o,u))}for(ae(),O=M.length;O<I.length;O+=1)D(O);ce()}if(k&32){B=fe(j[5]);let O;for(O=0;O<B.length;O+=1){const X=Bi(j,B,O);C[O]?(C[O].p(X,k),$(C[O],1)):(C[O]=Ui(X),C[O].c(),$(C[O],1),C[O].m(o,null))}for(ae(),O=B.length;O<C.length;O+=1)L(O);ce()}},i(j){if(!h){for(let k=0;k<p.length;k+=1)$(d[k]);for(let k=0;k<_.length;k+=1)$(b[k]);for(let k=0;k<M.length;k+=1)$(I[k]);for(let k=0;k<B.length;k+=1)$(C[k]);h=!0}},o(j){d=d.filter(Boolean);for(let k=0;k<d.length;k+=1)E(d[k]);b=b.filter(Boolean);for(let k=0;k<b.length;k+=1)E(b[k]);I=I.filter(Boolean);for(let k=0;k<I.length;k+=1)E(I[k]);C=C.filter(Boolean);for(let k=0;k<C.length;k+=1)E(C[k]);h=!1},d(j){j&&g(e),je(d,j),je(b,j),je(I,j),je(C,j)}}}function c_(n,e,t){let r,l,s,i,c,a;const{machine:f}=Ve(),v=ue(f.service,({context:_})=>[_.attack.attacker],He);se(n,v,_=>t(4,c=_));const o=ue(f.service,({context:_})=>_.defense.defenders,He);se(n,o,_=>t(0,r=_));const u=ue(f.service,({context:_})=>_.users.filter(b=>b.side==="attack"&&b.isAdmin),He);se(n,u,_=>t(5,a=_));const h=ue(f.service,({context:_})=>_.users.filter(b=>b.side==="defense"&&b.isAdmin),He);se(n,h,_=>t(3,i=_));const p=ue(f.service,({context:_})=>_.users,He);se(n,p,_=>t(1,l=_));const d=(_,b)=>b.find(M=>M.id===_.userId)??{name:"Unbekannt",isConnected:!1},y=ue(f.service,({context:_})=>Te.fromContext(_).activePlayer.id);return se(n,y,_=>t(2,s=_)),[r,l,s,i,c,a,v,o,u,h,p,d,y]}class f_ extends de{constructor(e){super(),ve(this,e,c_,a_,he,{})}}function Wi(n,e,t){const r=n.slice();return r[3]=e[t],r[5]=t,r}function u_(n){let e,t,r;return t=new cs({props:{color:"orange"}}),{c(){e=H("div"),q(t.$$.fragment),this.h()},l(l){e=V(l,"DIV",{class:!0});var s=S(e);U(t.$$.fragment,s),s.forEach(g),this.h()},h(){m(e,"class","global-attack svelte-190qug7")},m(l,s){P(l,e,s),W(t,e,null),r=!0},i(l){r||($(t.$$.fragment,l),r=!0)},o(l){E(t.$$.fragment,l),r=!1},d(l){l&&g(e),z(t)}}}function h_(n){let e,t,r,l,s,i,c,a,f,v,o,u,h,p;return t=new cs({props:{color:"red-angriff"}}),{c(){e=H("div"),q(t.$$.fragment),r=Z(),l=F("svg"),s=F("g"),i=F("path"),c=F("path"),a=F("path"),f=F("path"),v=F("path"),o=F("defs"),u=F("clipPath"),h=F("path"),this.h()},l(d){e=V(d,"DIV",{class:!0});var y=S(e);U(t.$$.fragment,y),r=N(y),l=R(y,"svg",{class:!0,fill:!0,xmlns:!0,viewBox:!0});var _=S(l);s=R(_,"g",{"clip-path":!0});var b=S(s);i=R(b,"path",{d:!0,stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),S(i).forEach(g),c=R(b,"path",{d:!0,fill:!0}),S(c).forEach(g),a=R(b,"path",{d:!0,stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),S(a).forEach(g),f=R(b,"path",{d:!0,stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),S(f).forEach(g),v=R(b,"path",{d:!0,fill:!0}),S(v).forEach(g),b.forEach(g),o=R(_,"defs",{});var T=S(o);u=R(T,"clipPath",{id:!0});var M=S(u);h=R(M,"path",{fill:!0,d:!0}),S(h).forEach(g),M.forEach(g),T.forEach(g),_.forEach(g),y.forEach(g),this.h()},h(){m(i,"d","M25.5 12.9c.4 0 .7 0 1-.2.3-.3.6-.8.1-1.3-.8-.9-7.9-7.4-16.3-5.1-8.5 2.2-9.8 6-9.8 6s1.7 4.2 10.3 5.4A17.5 17.5 0 0 0 24.9 13s.3-.3.6-.2Z"),m(i,"stroke","#fff"),m(i,"stroke-linecap","round"),m(i,"stroke-linejoin","round"),m(c,"d","M13 7.3s-2.6.6-3 2.3c-.4 1.7-.7 5.3 2.5 6.4 3.2 1.2 6-3.1 4.8-6.4-1-3.3-4.2-2.3-4.2-2.3Z"),m(c,"fill","#fff"),m(a,"d","M1.5 5S4 7 5 8.3M13.9.5l-.2 5.3M22 8l3.2-2.5M6.7 1.8 9 6.6m9.7-.2L20.5 2m5.1 12.4s0 2.4-3.3 4m-2.4 1.2s-1 .5-2.4.8"),m(a,"stroke","#fff"),m(a,"stroke-linecap","round"),m(a,"stroke-linejoin","round"),m(f,"d","M13.5 8.6s-2.4.4-2.3 2.8"),m(f,"stroke","#1F2134"),m(f,"stroke-linecap","round"),m(f,"stroke-linejoin","round"),m(v,"d","M13.5 10s-1 .3-1.2.9c-.1.6-.3 2 1 2.4 1.2.5 2.2-1.2 1.8-2.4-.4-1.3-1.6-.9-1.6-.9Z"),m(v,"fill","#1F2134"),m(s,"clip-path","url(#a)"),m(h,"fill","#fff"),m(h,"d","M0 0h27.4v20.9H0z"),m(u,"id","a"),m(l,"class","eye svelte-190qug7"),m(l,"fill","none"),m(l,"xmlns","http://www.w3.org/2000/svg"),m(l,"viewBox","0 0 28 21"),m(e,"class","attacker-reveal svelte-190qug7")},m(d,y){P(d,e,y),W(t,e,null),A(e,r),A(e,l),A(l,s),A(s,i),A(s,c),A(s,a),A(s,f),A(s,v),A(l,o),A(o,u),A(u,h),p=!0},i(d){p||($(t.$$.fragment,d),p=!0)},o(d){E(t.$$.fragment,d),p=!1},d(d){d&&g(e),z(t)}}}function zi(n){let e,t,r=n[5]+1+"",l,s,i=No.includes(n[5]),c,a=Go.includes(n[5]),f,v,o=i&&u_(),u=a&&h_();return{c(){e=H("div"),t=H("span"),l=ee(r),s=Z(),o&&o.c(),c=Z(),u&&u.c(),f=Z(),this.h()},l(h){e=V(h,"DIV",{class:!0});var p=S(e);t=V(p,"SPAN",{class:!0});var d=S(t);l=te(d,r),d.forEach(g),s=N(p),o&&o.l(p),c=N(p),u&&u.l(p),f=N(p),p.forEach(g),this.h()},h(){m(t,"class","svelte-190qug7"),m(e,"class","round svelte-190qug7"),Y(e,"current",n[0]===n[5]),De(e,"--round",n[5])},m(h,p){P(h,e,p),A(e,t),A(t,l),A(e,s),o&&o.m(e,null),A(e,c),u&&u.m(e,null),A(e,f),v=!0},p(h,p){(!v||p&1)&&Y(e,"current",h[0]===h[5])},i(h){v||($(o),$(u),v=!0)},o(h){E(o),E(u),v=!1},d(h){h&&g(e),o&&o.d(),u&&u.d()}}}function d_(n){let e,t,r=fe(new Array(Rr)),l=[];for(let i=0;i<r.length;i+=1)l[i]=zi(Wi(n,r,i));const s=i=>E(l[i],1,1,()=>{l[i]=null});return{c(){e=H("div");for(let i=0;i<l.length;i+=1)l[i].c();this.h()},l(i){e=V(i,"DIV",{class:!0});var c=S(e);for(let a=0;a<l.length;a+=1)l[a].l(c);c.forEach(g),this.h()},h(){m(e,"class","rounds svelte-190qug7")},m(i,c){P(i,e,c);for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(e,null);t=!0},p(i,[c]){if(c&1){r=fe(new Array(Rr));let a;for(a=0;a<r.length;a+=1){const f=Wi(i,r,a);l[a]?(l[a].p(f,c),$(l[a],1)):(l[a]=zi(f),l[a].c(),$(l[a],1),l[a].m(e,null))}for(ae(),a=r.length;a<l.length;a+=1)s(a);ce()}},i(i){if(!t){for(let c=0;c<r.length;c+=1)$(l[c]);t=!0}},o(i){l=l.filter(Boolean);for(let c=0;c<l.length;c+=1)E(l[c]);t=!1},d(i){i&&g(e),je(l,i)}}}function v_(n,e,t){let r;const{machine:l}=Ve(),s=ue(l.service,({context:i})=>Te.fromContext(i).currentRound);return se(n,s,i=>t(0,r=i)),[r,s]}class p_ extends de{constructor(e){super(),ve(this,e,v_,d_,he,{})}}function __(n){let e,t;return e=new p_({}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,l){W(e,r,l),t=!0},p:ne,i(r){t||($(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}class m_ extends de{constructor(e){super(),ve(this,e,null,__,he,{})}}function xi(n,e,t){const r=n.slice();return r[3]=e[t][0],r[4]=e[t][1],r}function Xi(n,e,t){const r=n.slice();return r[3]=e[t][0],r[4]=e[t][1],r}function Ki(n){let e,t,r,l=n[4]+"",s,i;return t=new hr({props:{itemId:n[3]}}),{c(){e=H("div"),q(t.$$.fragment),r=ee(": "),s=ee(l)},l(c){e=V(c,"DIV",{});var a=S(e);U(t.$$.fragment,a),r=te(a,": "),s=te(a,l),a.forEach(g)},m(c,a){P(c,e,a),W(t,e,null),A(e,r),A(e,s),i=!0},p(c,a){const f={};a&1&&(f.itemId=c[3]),t.$set(f),(!i||a&1)&&l!==(l=c[4]+"")&&Ie(s,l)},i(c){i||($(t.$$.fragment,c),i=!0)},o(c){E(t.$$.fragment,c),i=!1},d(c){c&&g(e),z(t)}}}function Ji(n){let e,t,r=n[4]>0&&Ki(n);return{c(){r&&r.c(),e=ye()},l(l){r&&r.l(l),e=ye()},m(l,s){r&&r.m(l,s),P(l,e,s),t=!0},p(l,s){l[4]>0?r?(r.p(l,s),s&1&&$(r,1)):(r=Ki(l),r.c(),$(r,1),r.m(e.parentNode,e)):r&&(ae(),E(r,1,1,()=>{r=null}),ce())},i(l){t||($(r),t=!0)},o(l){E(r),t=!1},d(l){l&&g(e),r&&r.d(l)}}}function Qi(n){let e,t,r,l=n[4]+"",s,i;return t=new hr({props:{itemId:n[3]}}),{c(){e=H("div"),q(t.$$.fragment),r=ee(": "),s=ee(l)},l(c){e=V(c,"DIV",{});var a=S(e);U(t.$$.fragment,a),r=te(a,": "),s=te(a,l),a.forEach(g)},m(c,a){P(c,e,a),W(t,e,null),A(e,r),A(e,s),i=!0},p(c,a){const f={};a&1&&(f.itemId=c[3]),t.$set(f),(!i||a&1)&&l!==(l=c[4]+"")&&Ie(s,l)},i(c){i||($(t.$$.fragment,c),i=!0)},o(c){E(t.$$.fragment,c),i=!1},d(c){c&&g(e),z(t)}}}function Yi(n){let e,t,r=n[4]>0&&Qi(n);return{c(){r&&r.c(),e=ye()},l(l){r&&r.l(l),e=ye()},m(l,s){r&&r.m(l,s),P(l,e,s),t=!0},p(l,s){l[4]>0?r?(r.p(l,s),s&1&&$(r,1)):(r=Qi(l),r.c(),$(r,1),r.m(e.parentNode,e)):r&&(ae(),E(r,1,1,()=>{r=null}),ce())},i(l){t||($(r),t=!0)},o(l){E(r),t=!1},d(l){l&&g(e),r&&r.d(l)}}}function g_(n){let e,t,r,l,s=fe(Dn(n[0].defense)),i=[];for(let o=0;o<s.length;o+=1)i[o]=Ji(Xi(n,s,o));const c=o=>E(i[o],1,1,()=>{i[o]=null});let a=fe(Dn(n[0].attack)),f=[];for(let o=0;o<a.length;o+=1)f[o]=Yi(xi(n,a,o));const v=o=>E(f[o],1,1,()=>{f[o]=null});return{c(){e=ee(`Defense:
`);for(let o=0;o<i.length;o+=1)i[o].c();t=ee(`

Attack:
`);for(let o=0;o<f.length;o+=1)f[o].c();r=ye()},l(o){e=te(o,`Defense:
`);for(let u=0;u<i.length;u+=1)i[u].l(o);t=te(o,`

Attack:
`);for(let u=0;u<f.length;u+=1)f[u].l(o);r=ye()},m(o,u){P(o,e,u);for(let h=0;h<i.length;h+=1)i[h]&&i[h].m(o,u);P(o,t,u);for(let h=0;h<f.length;h+=1)f[h]&&f[h].m(o,u);P(o,r,u),l=!0},p(o,[u]){if(u&1){s=fe(Dn(o[0].defense));let h;for(h=0;h<s.length;h+=1){const p=Xi(o,s,h);i[h]?(i[h].p(p,u),$(i[h],1)):(i[h]=Ji(p),i[h].c(),$(i[h],1),i[h].m(t.parentNode,t))}for(ae(),h=s.length;h<i.length;h+=1)c(h);ce()}if(u&1){a=fe(Dn(o[0].attack));let h;for(h=0;h<a.length;h+=1){const p=xi(o,a,h);f[h]?(f[h].p(p,u),$(f[h],1)):(f[h]=Yi(p),f[h].c(),$(f[h],1),f[h].m(r.parentNode,r))}for(ae(),h=a.length;h<f.length;h+=1)v(h);ce()}},i(o){if(!l){for(let u=0;u<s.length;u+=1)$(i[u]);for(let u=0;u<a.length;u+=1)$(f[u]);l=!0}},o(o){i=i.filter(Boolean);for(let u=0;u<i.length;u+=1)E(i[u]);f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)E(f[u]);l=!1},d(o){o&&(g(e),g(t),g(r)),je(i,o),je(f,o)}}}function y_(n,e,t){let r;const{machine:l}=Ve(),s=ue(l.service,i=>{const c=Te.fromContext(i.context);return{attack:c.attackInventory,defense:c.defenseInventory}},He);return se(n,s,i=>t(0,r=i)),[r,s]}class b_ extends de{constructor(e){super(),ve(this,e,y_,g_,he,{})}}function w_(n){let e,t,r,l,s,i,c,a,f,v,o,u,h,p;return r=new f_({}),s=new b_({}),a=new o_({}),v=new xp({}),h=new m_({}),{c(){e=H("div"),t=H("div"),q(r.$$.fragment),l=Z(),q(s.$$.fragment),i=Z(),c=H("div"),q(a.$$.fragment),f=Z(),q(v.$$.fragment),o=Z(),u=H("div"),q(h.$$.fragment),this.h()},l(d){e=V(d,"DIV",{class:!0});var y=S(e);t=V(y,"DIV",{class:!0});var _=S(t);U(r.$$.fragment,_),l=N(_),U(s.$$.fragment,_),_.forEach(g),i=N(y),c=V(y,"DIV",{class:!0});var b=S(c);U(a.$$.fragment,b),f=N(b),U(v.$$.fragment,b),b.forEach(g),o=N(y),u=V(y,"DIV",{class:!0});var T=S(u);U(h.$$.fragment,T),T.forEach(g),y.forEach(g),this.h()},h(){m(t,"class","actions"),m(c,"class","board svelte-s1m360"),m(u,"class","status"),m(e,"class","playing svelte-s1m360")},m(d,y){P(d,e,y),A(e,t),W(r,t,null),A(t,l),W(s,t,null),A(e,i),A(e,c),W(a,c,null),A(c,f),W(v,c,null),A(e,o),A(e,u),W(h,u,null),p=!0},p:ne,i(d){p||($(r.$$.fragment,d),$(s.$$.fragment,d),$(a.$$.fragment,d),$(v.$$.fragment,d),$(h.$$.fragment,d),p=!0)},o(d){E(r.$$.fragment,d),E(s.$$.fragment,d),E(a.$$.fragment,d),E(v.$$.fragment,d),E(h.$$.fragment,d),p=!1},d(d){d&&g(e),z(r),z(s),z(a),z(v),z(h)}}}class k_ extends de{constructor(e){super(),ve(this,e,null,w_,he,{})}}const A_=n=>({}),es=n=>({});function $_(n){let e;return{c(){e=ee("Unknown state")},l(t){e=te(t,"Unknown state")},m(t,r){P(t,e,r)},i:ne,o:ne,d(t){t&&g(e)}}}function S_(n){let e,t;return e=new Z3({}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,l){W(e,r,l),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function E_(n){let e,t;return e=new k_({}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,l){W(e,r,l),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function T_(n){let e,t;return e=new Rp({}),{c(){q(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,l){W(e,r,l),t=!0},i(r){t||($(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function I_(n){let e,t,r,l,s,i,c,a,f,v,o,u,h;r=new wv({});const p=[T_,E_,S_,$_],d=[];function y(T,M){return T[3]==="Lobby"?0:T[3]==="Playing"?1:T[3]==="Finished"?2:3}i=y(n),c=d[i]=p[i](n);const _=n[8].overlays,b=Oe(_,n,n[7],es);return{c(){e=H("div"),t=H("div"),q(r.$$.fragment),l=Z(),s=H("div"),c.c(),a=Z(),b&&b.c(),this.h()},l(T){e=V(T,"DIV",{class:!0});var M=S(e);t=V(M,"DIV",{class:!0});var I=S(t);U(r.$$.fragment,I),l=N(I),s=V(I,"DIV",{class:!0});var D=S(s);c.l(D),D.forEach(g),a=N(I),b&&b.l(I),I.forEach(g),M.forEach(g),this.h()},h(){var T;m(s,"class","content"),m(t,"class",f="game section-"+((T=n[3])==null?void 0:T.toLowerCase())+" svelte-1j0d4w3"),Bn(()=>n[10].call(t)),m(e,"class","game-wrapper svelte-1j0d4w3")},m(T,M){P(T,e,M),A(e,t),W(r,t,null),A(t,l),A(t,s),d[i].m(s,null),A(t,a),b&&b.m(t,null),n[9](t),v=is(t,n[10].bind(t)),o=!0,u||(h=we(t,"mousemove",n[4]),u=!0)},p(T,[M]){var D;let I=i;i=y(T),i!==I&&(ae(),E(d[I],1,1,()=>{d[I]=null}),ce(),c=d[i],c||(c=d[i]=p[i](T),c.c()),$(c,1),c.m(s,null)),b&&b.p&&(!o||M&128)&&Pe(b,_,T,T[7],o?Ce(_,T[7],M,A_):Me(T[7]),es),(!o||M&8&&f!==(f="game section-"+((D=T[3])==null?void 0:D.toLowerCase())+" svelte-1j0d4w3"))&&m(t,"class",f)},i(T){o||($(r.$$.fragment,T),$(c),$(b,T),o=!0)},o(T){E(r.$$.fragment,T),E(c),E(b,T),o=!1},d(T){T&&g(e),z(r),d[i].d(),b&&b.d(T),n[9](null),v(),u=!1,h()}}}function O_(n,e,t){let r,{$$slots:l={},$$scope:s}=e;const{machine:i}=Ve();let{reportMousePosition:c}=e,a,f=1,v=1;const o=d=>{const y=window.matchMedia("(width < 1200px) or (height < 675px)").matches?.6:window.matchMedia("(width < 1200px) or (height < 675px)").matches?.8:1,_=(d.clientX-a.offsetLeft)/f,b=(d.clientY-a.offsetTop)/v;c([(_-(1-y)/2)/y,(b-(1-y)/2)/y])},u=ue(i.service,d=>{let y;return d.matches("Lobby")?y="Lobby":d.matches("Playing")?y="Playing":d.matches("Finished")&&(y="Finished"),y});se(n,u,d=>t(3,r=d));function h(d){nn[d?"unshift":"push"](()=>{a=d,t(0,a)})}function p(){f=this.clientWidth,v=this.clientHeight,t(1,f),t(2,v)}return n.$$set=d=>{"reportMousePosition"in d&&t(6,c=d.reportMousePosition),"$$scope"in d&&t(7,s=d.$$scope)},[a,f,v,r,o,u,c,s,l,h,p]}class P_ extends de{constructor(e){super(),ve(this,e,O_,I_,he,{reportMousePosition:6})}}var lo={};/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(n){(function(){var e=function(){this.init()};e.prototype={init:function(){var o=this||t;return o._counter=1e3,o._html5AudioPool=[],o.html5PoolSize=10,o._codecs={},o._howls=[],o._muted=!1,o._volume=1,o._canPlayEvent="canplaythrough",o._navigator=typeof window<"u"&&window.navigator?window.navigator:null,o.masterGain=null,o.noAudio=!1,o.usingWebAudio=!0,o.autoSuspend=!0,o.ctx=null,o.autoUnlock=!0,o._setup(),o},volume:function(o){var u=this||t;if(o=parseFloat(o),u.ctx||v(),typeof o<"u"&&o>=0&&o<=1){if(u._volume=o,u._muted)return u;u.usingWebAudio&&u.masterGain.gain.setValueAtTime(o,t.ctx.currentTime);for(var h=0;h<u._howls.length;h++)if(!u._howls[h]._webAudio)for(var p=u._howls[h]._getSoundIds(),d=0;d<p.length;d++){var y=u._howls[h]._soundById(p[d]);y&&y._node&&(y._node.volume=y._volume*o)}return u}return u._volume},mute:function(o){var u=this||t;u.ctx||v(),u._muted=o,u.usingWebAudio&&u.masterGain.gain.setValueAtTime(o?0:u._volume,t.ctx.currentTime);for(var h=0;h<u._howls.length;h++)if(!u._howls[h]._webAudio)for(var p=u._howls[h]._getSoundIds(),d=0;d<p.length;d++){var y=u._howls[h]._soundById(p[d]);y&&y._node&&(y._node.muted=o?!0:y._muted)}return u},stop:function(){for(var o=this||t,u=0;u<o._howls.length;u++)o._howls[u].stop();return o},unload:function(){for(var o=this||t,u=o._howls.length-1;u>=0;u--)o._howls[u].unload();return o.usingWebAudio&&o.ctx&&typeof o.ctx.close<"u"&&(o.ctx.close(),o.ctx=null,v()),o},codecs:function(o){return(this||t)._codecs[o.replace(/^x-/,"")]},_setup:function(){var o=this||t;if(o.state=o.ctx&&o.ctx.state||"suspended",o._autoSuspend(),!o.usingWebAudio)if(typeof Audio<"u")try{var u=new Audio;typeof u.oncanplaythrough>"u"&&(o._canPlayEvent="canplay")}catch{o.noAudio=!0}else o.noAudio=!0;try{var u=new Audio;u.muted&&(o.noAudio=!0)}catch{}return o.noAudio||o._setupCodecs(),o},_setupCodecs:function(){var o=this||t,u=null;try{u=typeof Audio<"u"?new Audio:null}catch{return o}if(!u||typeof u.canPlayType!="function")return o;var h=u.canPlayType("audio/mpeg;").replace(/^no$/,""),p=o._navigator?o._navigator.userAgent:"",d=p.match(/OPR\/([0-6].)/g),y=d&&parseInt(d[0].split("/")[1],10)<33,_=p.indexOf("Safari")!==-1&&p.indexOf("Chrome")===-1,b=p.match(/Version\/(.*?) /),T=_&&b&&parseInt(b[1],10)<15;return o._codecs={mp3:!!(!y&&(h||u.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!h,opus:!!u.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!u.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!u.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(u.canPlayType('audio/wav; codecs="1"')||u.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!u.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!u.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(u.canPlayType("audio/x-m4a;")||u.canPlayType("audio/m4a;")||u.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(u.canPlayType("audio/x-m4b;")||u.canPlayType("audio/m4b;")||u.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(u.canPlayType("audio/x-mp4;")||u.canPlayType("audio/mp4;")||u.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!T&&u.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!T&&u.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!u.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(u.canPlayType("audio/x-flac;")||u.canPlayType("audio/flac;")).replace(/^no$/,"")},o},_unlockAudio:function(){var o=this||t;if(!(o._audioUnlocked||!o.ctx)){o._audioUnlocked=!1,o.autoUnlock=!1,!o._mobileUnloaded&&o.ctx.sampleRate!==44100&&(o._mobileUnloaded=!0,o.unload()),o._scratchBuffer=o.ctx.createBuffer(1,1,22050);var u=function(h){for(;o._html5AudioPool.length<o.html5PoolSize;)try{var p=new Audio;p._unlocked=!0,o._releaseHtml5Audio(p)}catch{o.noAudio=!0;break}for(var d=0;d<o._howls.length;d++)if(!o._howls[d]._webAudio)for(var y=o._howls[d]._getSoundIds(),_=0;_<y.length;_++){var b=o._howls[d]._soundById(y[_]);b&&b._node&&!b._node._unlocked&&(b._node._unlocked=!0,b._node.load())}o._autoResume();var T=o.ctx.createBufferSource();T.buffer=o._scratchBuffer,T.connect(o.ctx.destination),typeof T.start>"u"?T.noteOn(0):T.start(0),typeof o.ctx.resume=="function"&&o.ctx.resume(),T.onended=function(){T.disconnect(0),o._audioUnlocked=!0,document.removeEventListener("touchstart",u,!0),document.removeEventListener("touchend",u,!0),document.removeEventListener("click",u,!0),document.removeEventListener("keydown",u,!0);for(var M=0;M<o._howls.length;M++)o._howls[M]._emit("unlock")}};return document.addEventListener("touchstart",u,!0),document.addEventListener("touchend",u,!0),document.addEventListener("click",u,!0),document.addEventListener("keydown",u,!0),o}},_obtainHtml5Audio:function(){var o=this||t;if(o._html5AudioPool.length)return o._html5AudioPool.pop();var u=new Audio().play();return u&&typeof Promise<"u"&&(u instanceof Promise||typeof u.then=="function")&&u.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(o){var u=this||t;return o._unlocked&&u._html5AudioPool.push(o),u},_autoSuspend:function(){var o=this;if(!(!o.autoSuspend||!o.ctx||typeof o.ctx.suspend>"u"||!t.usingWebAudio)){for(var u=0;u<o._howls.length;u++)if(o._howls[u]._webAudio){for(var h=0;h<o._howls[u]._sounds.length;h++)if(!o._howls[u]._sounds[h]._paused)return o}return o._suspendTimer&&clearTimeout(o._suspendTimer),o._suspendTimer=setTimeout(function(){if(o.autoSuspend){o._suspendTimer=null,o.state="suspending";var p=function(){o.state="suspended",o._resumeAfterSuspend&&(delete o._resumeAfterSuspend,o._autoResume())};o.ctx.suspend().then(p,p)}},3e4),o}},_autoResume:function(){var o=this;if(!(!o.ctx||typeof o.ctx.resume>"u"||!t.usingWebAudio))return o.state==="running"&&o.ctx.state!=="interrupted"&&o._suspendTimer?(clearTimeout(o._suspendTimer),o._suspendTimer=null):o.state==="suspended"||o.state==="running"&&o.ctx.state==="interrupted"?(o.ctx.resume().then(function(){o.state="running";for(var u=0;u<o._howls.length;u++)o._howls[u]._emit("resume")}),o._suspendTimer&&(clearTimeout(o._suspendTimer),o._suspendTimer=null)):o.state==="suspending"&&(o._resumeAfterSuspend=!0),o}};var t=new e,r=function(o){var u=this;if(!o.src||o.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}u.init(o)};r.prototype={init:function(o){var u=this;return t.ctx||v(),u._autoplay=o.autoplay||!1,u._format=typeof o.format!="string"?o.format:[o.format],u._html5=o.html5||!1,u._muted=o.mute||!1,u._loop=o.loop||!1,u._pool=o.pool||5,u._preload=typeof o.preload=="boolean"||o.preload==="metadata"?o.preload:!0,u._rate=o.rate||1,u._sprite=o.sprite||{},u._src=typeof o.src!="string"?o.src:[o.src],u._volume=o.volume!==void 0?o.volume:1,u._xhr={method:o.xhr&&o.xhr.method?o.xhr.method:"GET",headers:o.xhr&&o.xhr.headers?o.xhr.headers:null,withCredentials:o.xhr&&o.xhr.withCredentials?o.xhr.withCredentials:!1},u._duration=0,u._state="unloaded",u._sounds=[],u._endTimers={},u._queue=[],u._playLock=!1,u._onend=o.onend?[{fn:o.onend}]:[],u._onfade=o.onfade?[{fn:o.onfade}]:[],u._onload=o.onload?[{fn:o.onload}]:[],u._onloaderror=o.onloaderror?[{fn:o.onloaderror}]:[],u._onplayerror=o.onplayerror?[{fn:o.onplayerror}]:[],u._onpause=o.onpause?[{fn:o.onpause}]:[],u._onplay=o.onplay?[{fn:o.onplay}]:[],u._onstop=o.onstop?[{fn:o.onstop}]:[],u._onmute=o.onmute?[{fn:o.onmute}]:[],u._onvolume=o.onvolume?[{fn:o.onvolume}]:[],u._onrate=o.onrate?[{fn:o.onrate}]:[],u._onseek=o.onseek?[{fn:o.onseek}]:[],u._onunlock=o.onunlock?[{fn:o.onunlock}]:[],u._onresume=[],u._webAudio=t.usingWebAudio&&!u._html5,typeof t.ctx<"u"&&t.ctx&&t.autoUnlock&&t._unlockAudio(),t._howls.push(u),u._autoplay&&u._queue.push({event:"play",action:function(){u.play()}}),u._preload&&u._preload!=="none"&&u.load(),u},load:function(){var o=this,u=null;if(t.noAudio){o._emit("loaderror",null,"No audio support.");return}typeof o._src=="string"&&(o._src=[o._src]);for(var h=0;h<o._src.length;h++){var p,d;if(o._format&&o._format[h])p=o._format[h];else{if(d=o._src[h],typeof d!="string"){o._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}p=/^data:audio\/([^;,]+);/i.exec(d),p||(p=/\.([^.]+)$/.exec(d.split("?",1)[0])),p&&(p=p[1].toLowerCase())}if(p||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),p&&t.codecs(p)){u=o._src[h];break}}if(!u){o._emit("loaderror",null,"No codec support for selected audio sources.");return}return o._src=u,o._state="loading",window.location.protocol==="https:"&&u.slice(0,5)==="http:"&&(o._html5=!0,o._webAudio=!1),new l(o),o._webAudio&&i(o),o},play:function(o,u){var h=this,p=null;if(typeof o=="number")p=o,o=null;else{if(typeof o=="string"&&h._state==="loaded"&&!h._sprite[o])return null;if(typeof o>"u"&&(o="__default",!h._playLock)){for(var d=0,y=0;y<h._sounds.length;y++)h._sounds[y]._paused&&!h._sounds[y]._ended&&(d++,p=h._sounds[y]._id);d===1?o=null:p=null}}var _=p?h._soundById(p):h._inactiveSound();if(!_)return null;if(p&&!o&&(o=_._sprite||"__default"),h._state!=="loaded"){_._sprite=o,_._ended=!1;var b=_._id;return h._queue.push({event:"play",action:function(){h.play(b)}}),b}if(p&&!_._paused)return u||h._loadQueue("play"),_._id;h._webAudio&&t._autoResume();var T=Math.max(0,_._seek>0?_._seek:h._sprite[o][0]/1e3),M=Math.max(0,(h._sprite[o][0]+h._sprite[o][1])/1e3-T),I=M*1e3/Math.abs(_._rate),D=h._sprite[o][0]/1e3,B=(h._sprite[o][0]+h._sprite[o][1])/1e3;_._sprite=o,_._ended=!1;var C=function(){_._paused=!1,_._seek=T,_._start=D,_._stop=B,_._loop=!!(_._loop||h._sprite[o][2])};if(T>=B){h._ended(_);return}var L=_._node;if(h._webAudio){var j=function(){h._playLock=!1,C(),h._refreshBuffer(_);var x=_._muted||h._muted?0:_._volume;L.gain.setValueAtTime(x,t.ctx.currentTime),_._playStart=t.ctx.currentTime,typeof L.bufferSource.start>"u"?_._loop?L.bufferSource.noteGrainOn(0,T,86400):L.bufferSource.noteGrainOn(0,T,M):_._loop?L.bufferSource.start(0,T,86400):L.bufferSource.start(0,T,M),I!==1/0&&(h._endTimers[_._id]=setTimeout(h._ended.bind(h,_),I)),u||setTimeout(function(){h._emit("play",_._id),h._loadQueue()},0)};t.state==="running"&&t.ctx.state!=="interrupted"?j():(h._playLock=!0,h.once("resume",j),h._clearTimer(_._id))}else{var k=function(){L.currentTime=T,L.muted=_._muted||h._muted||t._muted||L.muted,L.volume=_._volume*t.volume(),L.playbackRate=_._rate;try{var x=L.play();if(x&&typeof Promise<"u"&&(x instanceof Promise||typeof x.then=="function")?(h._playLock=!0,C(),x.then(function(){h._playLock=!1,L._unlocked=!0,u?h._loadQueue():h._emit("play",_._id)}).catch(function(){h._playLock=!1,h._emit("playerror",_._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),_._ended=!0,_._paused=!0})):u||(h._playLock=!1,C(),h._emit("play",_._id)),L.playbackRate=_._rate,L.paused){h._emit("playerror",_._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}o!=="__default"||_._loop?h._endTimers[_._id]=setTimeout(h._ended.bind(h,_),I):(h._endTimers[_._id]=function(){h._ended(_),L.removeEventListener("ended",h._endTimers[_._id],!1)},L.addEventListener("ended",h._endTimers[_._id],!1))}catch(oe){h._emit("playerror",_._id,oe)}};L.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(L.src=h._src,L.load());var O=window&&window.ejecta||!L.readyState&&t._navigator.isCocoonJS;if(L.readyState>=3||O)k();else{h._playLock=!0,h._state="loading";var X=function(){h._state="loaded",k(),L.removeEventListener(t._canPlayEvent,X,!1)};L.addEventListener(t._canPlayEvent,X,!1),h._clearTimer(_._id)}}return _._id},pause:function(o){var u=this;if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"pause",action:function(){u.pause(o)}}),u;for(var h=u._getSoundIds(o),p=0;p<h.length;p++){u._clearTimer(h[p]);var d=u._soundById(h[p]);if(d&&!d._paused&&(d._seek=u.seek(h[p]),d._rateSeek=0,d._paused=!0,u._stopFade(h[p]),d._node))if(u._webAudio){if(!d._node.bufferSource)continue;typeof d._node.bufferSource.stop>"u"?d._node.bufferSource.noteOff(0):d._node.bufferSource.stop(0),u._cleanBuffer(d._node)}else(!isNaN(d._node.duration)||d._node.duration===1/0)&&d._node.pause();arguments[1]||u._emit("pause",d?d._id:null)}return u},stop:function(o,u){var h=this;if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"stop",action:function(){h.stop(o)}}),h;for(var p=h._getSoundIds(o),d=0;d<p.length;d++){h._clearTimer(p[d]);var y=h._soundById(p[d]);y&&(y._seek=y._start||0,y._rateSeek=0,y._paused=!0,y._ended=!0,h._stopFade(p[d]),y._node&&(h._webAudio?y._node.bufferSource&&(typeof y._node.bufferSource.stop>"u"?y._node.bufferSource.noteOff(0):y._node.bufferSource.stop(0),h._cleanBuffer(y._node)):(!isNaN(y._node.duration)||y._node.duration===1/0)&&(y._node.currentTime=y._start||0,y._node.pause(),y._node.duration===1/0&&h._clearSound(y._node))),u||h._emit("stop",y._id))}return h},mute:function(o,u){var h=this;if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"mute",action:function(){h.mute(o,u)}}),h;if(typeof u>"u")if(typeof o=="boolean")h._muted=o;else return h._muted;for(var p=h._getSoundIds(u),d=0;d<p.length;d++){var y=h._soundById(p[d]);y&&(y._muted=o,y._interval&&h._stopFade(y._id),h._webAudio&&y._node?y._node.gain.setValueAtTime(o?0:y._volume,t.ctx.currentTime):y._node&&(y._node.muted=t._muted?!0:o),h._emit("mute",y._id))}return h},volume:function(){var o=this,u=arguments,h,p;if(u.length===0)return o._volume;if(u.length===1||u.length===2&&typeof u[1]>"u"){var d=o._getSoundIds(),y=d.indexOf(u[0]);y>=0?p=parseInt(u[0],10):h=parseFloat(u[0])}else u.length>=2&&(h=parseFloat(u[0]),p=parseInt(u[1],10));var _;if(typeof h<"u"&&h>=0&&h<=1){if(o._state!=="loaded"||o._playLock)return o._queue.push({event:"volume",action:function(){o.volume.apply(o,u)}}),o;typeof p>"u"&&(o._volume=h),p=o._getSoundIds(p);for(var b=0;b<p.length;b++)_=o._soundById(p[b]),_&&(_._volume=h,u[2]||o._stopFade(p[b]),o._webAudio&&_._node&&!_._muted?_._node.gain.setValueAtTime(h,t.ctx.currentTime):_._node&&!_._muted&&(_._node.volume=h*t.volume()),o._emit("volume",_._id))}else return _=p?o._soundById(p):o._sounds[0],_?_._volume:0;return o},fade:function(o,u,h,p){var d=this;if(d._state!=="loaded"||d._playLock)return d._queue.push({event:"fade",action:function(){d.fade(o,u,h,p)}}),d;o=Math.min(Math.max(0,parseFloat(o)),1),u=Math.min(Math.max(0,parseFloat(u)),1),h=parseFloat(h),d.volume(o,p);for(var y=d._getSoundIds(p),_=0;_<y.length;_++){var b=d._soundById(y[_]);if(b){if(p||d._stopFade(y[_]),d._webAudio&&!b._muted){var T=t.ctx.currentTime,M=T+h/1e3;b._volume=o,b._node.gain.setValueAtTime(o,T),b._node.gain.linearRampToValueAtTime(u,M)}d._startFadeInterval(b,o,u,h,y[_],typeof p>"u")}}return d},_startFadeInterval:function(o,u,h,p,d,y){var _=this,b=u,T=h-u,M=Math.abs(T/.01),I=Math.max(4,M>0?p/M:p),D=Date.now();o._fadeTo=h,o._interval=setInterval(function(){var B=(Date.now()-D)/p;D=Date.now(),b+=T*B,b=Math.round(b*100)/100,T<0?b=Math.max(h,b):b=Math.min(h,b),_._webAudio?o._volume=b:_.volume(b,o._id,!0),y&&(_._volume=b),(h<u&&b<=h||h>u&&b>=h)&&(clearInterval(o._interval),o._interval=null,o._fadeTo=null,_.volume(h,o._id),_._emit("fade",o._id))},I)},_stopFade:function(o){var u=this,h=u._soundById(o);return h&&h._interval&&(u._webAudio&&h._node.gain.cancelScheduledValues(t.ctx.currentTime),clearInterval(h._interval),h._interval=null,u.volume(h._fadeTo,o),h._fadeTo=null,u._emit("fade",o)),u},loop:function(){var o=this,u=arguments,h,p,d;if(u.length===0)return o._loop;if(u.length===1)if(typeof u[0]=="boolean")h=u[0],o._loop=h;else return d=o._soundById(parseInt(u[0],10)),d?d._loop:!1;else u.length===2&&(h=u[0],p=parseInt(u[1],10));for(var y=o._getSoundIds(p),_=0;_<y.length;_++)d=o._soundById(y[_]),d&&(d._loop=h,o._webAudio&&d._node&&d._node.bufferSource&&(d._node.bufferSource.loop=h,h&&(d._node.bufferSource.loopStart=d._start||0,d._node.bufferSource.loopEnd=d._stop,o.playing(y[_])&&(o.pause(y[_],!0),o.play(y[_],!0)))));return o},rate:function(){var o=this,u=arguments,h,p;if(u.length===0)p=o._sounds[0]._id;else if(u.length===1){var d=o._getSoundIds(),y=d.indexOf(u[0]);y>=0?p=parseInt(u[0],10):h=parseFloat(u[0])}else u.length===2&&(h=parseFloat(u[0]),p=parseInt(u[1],10));var _;if(typeof h=="number"){if(o._state!=="loaded"||o._playLock)return o._queue.push({event:"rate",action:function(){o.rate.apply(o,u)}}),o;typeof p>"u"&&(o._rate=h),p=o._getSoundIds(p);for(var b=0;b<p.length;b++)if(_=o._soundById(p[b]),_){o.playing(p[b])&&(_._rateSeek=o.seek(p[b]),_._playStart=o._webAudio?t.ctx.currentTime:_._playStart),_._rate=h,o._webAudio&&_._node&&_._node.bufferSource?_._node.bufferSource.playbackRate.setValueAtTime(h,t.ctx.currentTime):_._node&&(_._node.playbackRate=h);var T=o.seek(p[b]),M=(o._sprite[_._sprite][0]+o._sprite[_._sprite][1])/1e3-T,I=M*1e3/Math.abs(_._rate);(o._endTimers[p[b]]||!_._paused)&&(o._clearTimer(p[b]),o._endTimers[p[b]]=setTimeout(o._ended.bind(o,_),I)),o._emit("rate",_._id)}}else return _=o._soundById(p),_?_._rate:o._rate;return o},seek:function(){var o=this,u=arguments,h,p;if(u.length===0)o._sounds.length&&(p=o._sounds[0]._id);else if(u.length===1){var d=o._getSoundIds(),y=d.indexOf(u[0]);y>=0?p=parseInt(u[0],10):o._sounds.length&&(p=o._sounds[0]._id,h=parseFloat(u[0]))}else u.length===2&&(h=parseFloat(u[0]),p=parseInt(u[1],10));if(typeof p>"u")return 0;if(typeof h=="number"&&(o._state!=="loaded"||o._playLock))return o._queue.push({event:"seek",action:function(){o.seek.apply(o,u)}}),o;var _=o._soundById(p);if(_)if(typeof h=="number"&&h>=0){var b=o.playing(p);b&&o.pause(p,!0),_._seek=h,_._ended=!1,o._clearTimer(p),!o._webAudio&&_._node&&!isNaN(_._node.duration)&&(_._node.currentTime=h);var T=function(){b&&o.play(p,!0),o._emit("seek",p)};if(b&&!o._webAudio){var M=function(){o._playLock?setTimeout(M,0):T()};setTimeout(M,0)}else T()}else if(o._webAudio){var I=o.playing(p)?t.ctx.currentTime-_._playStart:0,D=_._rateSeek?_._rateSeek-_._seek:0;return _._seek+(D+I*Math.abs(_._rate))}else return _._node.currentTime;return o},playing:function(o){var u=this;if(typeof o=="number"){var h=u._soundById(o);return h?!h._paused:!1}for(var p=0;p<u._sounds.length;p++)if(!u._sounds[p]._paused)return!0;return!1},duration:function(o){var u=this,h=u._duration,p=u._soundById(o);return p&&(h=u._sprite[p._sprite][1]/1e3),h},state:function(){return this._state},unload:function(){for(var o=this,u=o._sounds,h=0;h<u.length;h++)u[h]._paused||o.stop(u[h]._id),o._webAudio||(o._clearSound(u[h]._node),u[h]._node.removeEventListener("error",u[h]._errorFn,!1),u[h]._node.removeEventListener(t._canPlayEvent,u[h]._loadFn,!1),u[h]._node.removeEventListener("ended",u[h]._endFn,!1),t._releaseHtml5Audio(u[h]._node)),delete u[h]._node,o._clearTimer(u[h]._id);var p=t._howls.indexOf(o);p>=0&&t._howls.splice(p,1);var d=!0;for(h=0;h<t._howls.length;h++)if(t._howls[h]._src===o._src||o._src.indexOf(t._howls[h]._src)>=0){d=!1;break}return s&&d&&delete s[o._src],t.noAudio=!1,o._state="unloaded",o._sounds=[],o=null,null},on:function(o,u,h,p){var d=this,y=d["_on"+o];return typeof u=="function"&&y.push(p?{id:h,fn:u,once:p}:{id:h,fn:u}),d},off:function(o,u,h){var p=this,d=p["_on"+o],y=0;if(typeof u=="number"&&(h=u,u=null),u||h)for(y=0;y<d.length;y++){var _=h===d[y].id;if(u===d[y].fn&&_||!u&&_){d.splice(y,1);break}}else if(o)p["_on"+o]=[];else{var b=Object.keys(p);for(y=0;y<b.length;y++)b[y].indexOf("_on")===0&&Array.isArray(p[b[y]])&&(p[b[y]]=[])}return p},once:function(o,u,h){var p=this;return p.on(o,u,h,1),p},_emit:function(o,u,h){for(var p=this,d=p["_on"+o],y=d.length-1;y>=0;y--)(!d[y].id||d[y].id===u||o==="load")&&(setTimeout((function(_){_.call(this,u,h)}).bind(p,d[y].fn),0),d[y].once&&p.off(o,d[y].fn,d[y].id));return p._loadQueue(o),p},_loadQueue:function(o){var u=this;if(u._queue.length>0){var h=u._queue[0];h.event===o&&(u._queue.shift(),u._loadQueue()),o||h.action()}return u},_ended:function(o){var u=this,h=o._sprite;if(!u._webAudio&&o._node&&!o._node.paused&&!o._node.ended&&o._node.currentTime<o._stop)return setTimeout(u._ended.bind(u,o),100),u;var p=!!(o._loop||u._sprite[h][2]);if(u._emit("end",o._id),!u._webAudio&&p&&u.stop(o._id,!0).play(o._id),u._webAudio&&p){u._emit("play",o._id),o._seek=o._start||0,o._rateSeek=0,o._playStart=t.ctx.currentTime;var d=(o._stop-o._start)*1e3/Math.abs(o._rate);u._endTimers[o._id]=setTimeout(u._ended.bind(u,o),d)}return u._webAudio&&!p&&(o._paused=!0,o._ended=!0,o._seek=o._start||0,o._rateSeek=0,u._clearTimer(o._id),u._cleanBuffer(o._node),t._autoSuspend()),!u._webAudio&&!p&&u.stop(o._id,!0),u},_clearTimer:function(o){var u=this;if(u._endTimers[o]){if(typeof u._endTimers[o]!="function")clearTimeout(u._endTimers[o]);else{var h=u._soundById(o);h&&h._node&&h._node.removeEventListener("ended",u._endTimers[o],!1)}delete u._endTimers[o]}return u},_soundById:function(o){for(var u=this,h=0;h<u._sounds.length;h++)if(o===u._sounds[h]._id)return u._sounds[h];return null},_inactiveSound:function(){var o=this;o._drain();for(var u=0;u<o._sounds.length;u++)if(o._sounds[u]._ended)return o._sounds[u].reset();return new l(o)},_drain:function(){var o=this,u=o._pool,h=0,p=0;if(!(o._sounds.length<u)){for(p=0;p<o._sounds.length;p++)o._sounds[p]._ended&&h++;for(p=o._sounds.length-1;p>=0;p--){if(h<=u)return;o._sounds[p]._ended&&(o._webAudio&&o._sounds[p]._node&&o._sounds[p]._node.disconnect(0),o._sounds.splice(p,1),h--)}}},_getSoundIds:function(o){var u=this;if(typeof o>"u"){for(var h=[],p=0;p<u._sounds.length;p++)h.push(u._sounds[p]._id);return h}else return[o]},_refreshBuffer:function(o){var u=this;return o._node.bufferSource=t.ctx.createBufferSource(),o._node.bufferSource.buffer=s[u._src],o._panner?o._node.bufferSource.connect(o._panner):o._node.bufferSource.connect(o._node),o._node.bufferSource.loop=o._loop,o._loop&&(o._node.bufferSource.loopStart=o._start||0,o._node.bufferSource.loopEnd=o._stop||0),o._node.bufferSource.playbackRate.setValueAtTime(o._rate,t.ctx.currentTime),u},_cleanBuffer:function(o){var u=this,h=t._navigator&&t._navigator.vendor.indexOf("Apple")>=0;if(t._scratchBuffer&&o.bufferSource&&(o.bufferSource.onended=null,o.bufferSource.disconnect(0),h))try{o.bufferSource.buffer=t._scratchBuffer}catch{}return o.bufferSource=null,u},_clearSound:function(o){var u=/MSIE |Trident\//.test(t._navigator&&t._navigator.userAgent);u||(o.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var l=function(o){this._parent=o,this.init()};l.prototype={init:function(){var o=this,u=o._parent;return o._muted=u._muted,o._loop=u._loop,o._volume=u._volume,o._rate=u._rate,o._seek=0,o._paused=!0,o._ended=!0,o._sprite="__default",o._id=++t._counter,u._sounds.push(o),o.create(),o},create:function(){var o=this,u=o._parent,h=t._muted||o._muted||o._parent._muted?0:o._volume;return u._webAudio?(o._node=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),o._node.gain.setValueAtTime(h,t.ctx.currentTime),o._node.paused=!0,o._node.connect(t.masterGain)):t.noAudio||(o._node=t._obtainHtml5Audio(),o._errorFn=o._errorListener.bind(o),o._node.addEventListener("error",o._errorFn,!1),o._loadFn=o._loadListener.bind(o),o._node.addEventListener(t._canPlayEvent,o._loadFn,!1),o._endFn=o._endListener.bind(o),o._node.addEventListener("ended",o._endFn,!1),o._node.src=u._src,o._node.preload=u._preload===!0?"auto":u._preload,o._node.volume=h*t.volume(),o._node.load()),o},reset:function(){var o=this,u=o._parent;return o._muted=u._muted,o._loop=u._loop,o._volume=u._volume,o._rate=u._rate,o._seek=0,o._rateSeek=0,o._paused=!0,o._ended=!0,o._sprite="__default",o._id=++t._counter,o},_errorListener:function(){var o=this;o._parent._emit("loaderror",o._id,o._node.error?o._node.error.code:0),o._node.removeEventListener("error",o._errorFn,!1)},_loadListener:function(){var o=this,u=o._parent;u._duration=Math.ceil(o._node.duration*10)/10,Object.keys(u._sprite).length===0&&(u._sprite={__default:[0,u._duration*1e3]}),u._state!=="loaded"&&(u._state="loaded",u._emit("load"),u._loadQueue()),o._node.removeEventListener(t._canPlayEvent,o._loadFn,!1)},_endListener:function(){var o=this,u=o._parent;u._duration===1/0&&(u._duration=Math.ceil(o._node.duration*10)/10,u._sprite.__default[1]===1/0&&(u._sprite.__default[1]=u._duration*1e3),u._ended(o)),o._node.removeEventListener("ended",o._endFn,!1)}};var s={},i=function(o){var u=o._src;if(s[u]){o._duration=s[u].duration,f(o);return}if(/^data:[^;]+;base64,/.test(u)){for(var h=atob(u.split(",")[1]),p=new Uint8Array(h.length),d=0;d<h.length;++d)p[d]=h.charCodeAt(d);a(p.buffer,o)}else{var y=new XMLHttpRequest;y.open(o._xhr.method,u,!0),y.withCredentials=o._xhr.withCredentials,y.responseType="arraybuffer",o._xhr.headers&&Object.keys(o._xhr.headers).forEach(function(_){y.setRequestHeader(_,o._xhr.headers[_])}),y.onload=function(){var _=(y.status+"")[0];if(_!=="0"&&_!=="2"&&_!=="3"){o._emit("loaderror",null,"Failed loading audio file with status: "+y.status+".");return}a(y.response,o)},y.onerror=function(){o._webAudio&&(o._html5=!0,o._webAudio=!1,o._sounds=[],delete s[u],o.load())},c(y)}},c=function(o){try{o.send()}catch{o.onerror()}},a=function(o,u){var h=function(){u._emit("loaderror",null,"Decoding audio data failed.")},p=function(d){d&&u._sounds.length>0?(s[u._src]=d,f(u,d)):h()};typeof Promise<"u"&&t.ctx.decodeAudioData.length===1?t.ctx.decodeAudioData(o).then(p).catch(h):t.ctx.decodeAudioData(o,p,h)},f=function(o,u){u&&!o._duration&&(o._duration=u.duration),Object.keys(o._sprite).length===0&&(o._sprite={__default:[0,o._duration*1e3]}),o._state!=="loaded"&&(o._state="loaded",o._emit("load"),o._loadQueue())},v=function(){if(t.usingWebAudio){try{typeof AudioContext<"u"?t.ctx=new AudioContext:typeof webkitAudioContext<"u"?t.ctx=new webkitAudioContext:t.usingWebAudio=!1}catch{t.usingWebAudio=!1}t.ctx||(t.usingWebAudio=!1);var o=/iP(hone|od|ad)/.test(t._navigator&&t._navigator.platform),u=t._navigator&&t._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),h=u?parseInt(u[1],10):null;if(o&&h&&h<9){var p=/safari/.test(t._navigator&&t._navigator.userAgent.toLowerCase());t._navigator&&!p&&(t.usingWebAudio=!1)}t.usingWebAudio&&(t.masterGain=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),t.masterGain.gain.setValueAtTime(t._muted?0:t._volume,t.ctx.currentTime),t.masterGain.connect(t.ctx.destination)),t._setup()}};n.Howler=t,n.Howl=r,typeof kt<"u"?(kt.HowlerGlobal=e,kt.Howler=t,kt.Howl=r,kt.Sound=l):typeof window<"u"&&(window.HowlerGlobal=e,window.Howler=t,window.Howl=r,window.Sound=l)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var l=r._howls.length-1;l>=0;l--)r._howls[l].stereo(t);return r},HowlerGlobal.prototype.pos=function(t,r,l){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(r=typeof r!="number"?s._pos[1]:r,l=typeof l!="number"?s._pos[2]:l,typeof t=="number")s._pos=[t,r,l],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(t,r,l,s,i,c){var a=this;if(!a.ctx||!a.ctx.listener)return a;var f=a._orientation;if(r=typeof r!="number"?f[1]:r,l=typeof l!="number"?f[2]:l,s=typeof s!="number"?f[3]:s,i=typeof i!="number"?f[4]:i,c=typeof c!="number"?f[5]:c,typeof t=="number")a._orientation=[t,r,l,s,i,c],typeof a.ctx.listener.forwardX<"u"?(a.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),a.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),a.ctx.listener.forwardZ.setTargetAtTime(l,Howler.ctx.currentTime,.1),a.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),a.ctx.listener.upY.setTargetAtTime(i,Howler.ctx.currentTime,.1),a.ctx.listener.upZ.setTargetAtTime(c,Howler.ctx.currentTime,.1)):a.ctx.listener.setOrientation(t,r,l,s,i,c);else return f;return a},Howl.prototype.init=function(t){return function(r){var l=this;return l._orientation=r.orientation||[1,0,0],l._stereo=r.stereo||null,l._pos=r.pos||null,l._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},l._onstereo=r.onstereo?[{fn:r.onstereo}]:[],l._onpos=r.onpos?[{fn:r.onpos}]:[],l._onorientation=r.onorientation?[{fn:r.onorientation}]:[],t.call(this,r)}}(Howl.prototype.init),Howl.prototype.stereo=function(t,r){var l=this;if(!l._webAudio)return l;if(l._state!=="loaded")return l._queue.push({event:"stereo",action:function(){l.stereo(t,r)}}),l;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof t=="number")l._stereo=t,l._pos=[t,0,0];else return l._stereo;for(var i=l._getSoundIds(r),c=0;c<i.length;c++){var a=l._soundById(i[c]);if(a)if(typeof t=="number")a._stereo=t,a._pos=[t,0,0],a._node&&(a._pannerAttr.panningModel="equalpower",(!a._panner||!a._panner.pan)&&e(a,s),s==="spatial"?typeof a._panner.positionX<"u"?(a._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),a._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),a._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):a._panner.setPosition(t,0,0):a._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),l._emit("stereo",a._id);else return a._stereo}return l},Howl.prototype.pos=function(t,r,l,s){var i=this;if(!i._webAudio)return i;if(i._state!=="loaded")return i._queue.push({event:"pos",action:function(){i.pos(t,r,l,s)}}),i;if(r=typeof r!="number"?0:r,l=typeof l!="number"?-.5:l,typeof s>"u")if(typeof t=="number")i._pos=[t,r,l];else return i._pos;for(var c=i._getSoundIds(s),a=0;a<c.length;a++){var f=i._soundById(c[a]);if(f)if(typeof t=="number")f._pos=[t,r,l],f._node&&((!f._panner||f._panner.pan)&&e(f,"spatial"),typeof f._panner.positionX<"u"?(f._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),f._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),f._panner.positionZ.setValueAtTime(l,Howler.ctx.currentTime)):f._panner.setPosition(t,r,l)),i._emit("pos",f._id);else return f._pos}return i},Howl.prototype.orientation=function(t,r,l,s){var i=this;if(!i._webAudio)return i;if(i._state!=="loaded")return i._queue.push({event:"orientation",action:function(){i.orientation(t,r,l,s)}}),i;if(r=typeof r!="number"?i._orientation[1]:r,l=typeof l!="number"?i._orientation[2]:l,typeof s>"u")if(typeof t=="number")i._orientation=[t,r,l];else return i._orientation;for(var c=i._getSoundIds(s),a=0;a<c.length;a++){var f=i._soundById(c[a]);if(f)if(typeof t=="number")f._orientation=[t,r,l],f._node&&(f._panner||(f._pos||(f._pos=i._pos||[0,0,-.5]),e(f,"spatial")),typeof f._panner.orientationX<"u"?(f._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),f._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),f._panner.orientationZ.setValueAtTime(l,Howler.ctx.currentTime)):f._panner.setOrientation(t,r,l)),i._emit("orientation",f._id);else return f._orientation}return i},Howl.prototype.pannerAttr=function(){var t=this,r=arguments,l,s,i;if(!t._webAudio)return t;if(r.length===0)return t._pannerAttr;if(r.length===1)if(typeof r[0]=="object")l=r[0],typeof s>"u"&&(l.pannerAttr||(l.pannerAttr={coneInnerAngle:l.coneInnerAngle,coneOuterAngle:l.coneOuterAngle,coneOuterGain:l.coneOuterGain,distanceModel:l.distanceModel,maxDistance:l.maxDistance,refDistance:l.refDistance,rolloffFactor:l.rolloffFactor,panningModel:l.panningModel}),t._pannerAttr={coneInnerAngle:typeof l.pannerAttr.coneInnerAngle<"u"?l.pannerAttr.coneInnerAngle:t._coneInnerAngle,coneOuterAngle:typeof l.pannerAttr.coneOuterAngle<"u"?l.pannerAttr.coneOuterAngle:t._coneOuterAngle,coneOuterGain:typeof l.pannerAttr.coneOuterGain<"u"?l.pannerAttr.coneOuterGain:t._coneOuterGain,distanceModel:typeof l.pannerAttr.distanceModel<"u"?l.pannerAttr.distanceModel:t._distanceModel,maxDistance:typeof l.pannerAttr.maxDistance<"u"?l.pannerAttr.maxDistance:t._maxDistance,refDistance:typeof l.pannerAttr.refDistance<"u"?l.pannerAttr.refDistance:t._refDistance,rolloffFactor:typeof l.pannerAttr.rolloffFactor<"u"?l.pannerAttr.rolloffFactor:t._rolloffFactor,panningModel:typeof l.pannerAttr.panningModel<"u"?l.pannerAttr.panningModel:t._panningModel});else return i=t._soundById(parseInt(r[0],10)),i?i._pannerAttr:t._pannerAttr;else r.length===2&&(l=r[0],s=parseInt(r[1],10));for(var c=t._getSoundIds(s),a=0;a<c.length;a++)if(i=t._soundById(c[a]),i){var f=i._pannerAttr;f={coneInnerAngle:typeof l.coneInnerAngle<"u"?l.coneInnerAngle:f.coneInnerAngle,coneOuterAngle:typeof l.coneOuterAngle<"u"?l.coneOuterAngle:f.coneOuterAngle,coneOuterGain:typeof l.coneOuterGain<"u"?l.coneOuterGain:f.coneOuterGain,distanceModel:typeof l.distanceModel<"u"?l.distanceModel:f.distanceModel,maxDistance:typeof l.maxDistance<"u"?l.maxDistance:f.maxDistance,refDistance:typeof l.refDistance<"u"?l.refDistance:f.refDistance,rolloffFactor:typeof l.rolloffFactor<"u"?l.rolloffFactor:f.rolloffFactor,panningModel:typeof l.panningModel<"u"?l.panningModel:f.panningModel};var v=i._panner;v?(v.coneInnerAngle=f.coneInnerAngle,v.coneOuterAngle=f.coneOuterAngle,v.coneOuterGain=f.coneOuterGain,v.distanceModel=f.distanceModel,v.maxDistance=f.maxDistance,v.refDistance=f.refDistance,v.rolloffFactor=f.rolloffFactor,v.panningModel=f.panningModel):(i._pos||(i._pos=t._pos||[0,0,-.5]),e(i,"spatial"))}return t},Sound.prototype.init=function(t){return function(){var r=this,l=r._parent;r._orientation=l._orientation,r._stereo=l._stereo,r._pos=l._pos,r._pannerAttr=l._pannerAttr,t.call(this),r._stereo?l.stereo(r._stereo):r._pos&&l.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var r=this,l=r._parent;return r._orientation=l._orientation,r._stereo=l._stereo,r._pos=l._pos,r._pannerAttr=l._pannerAttr,r._stereo?l.stereo(r._stereo):r._pos?l.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,l._refreshBuffer(r)),t.call(this)}}(Sound.prototype.reset);var e=function(t,r){r=r||"spatial",r==="spatial"?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,typeof t._panner.positionX<"u"?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),typeof t._panner.orientationX<"u"?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}})()})(lo);let Z1;const ts={capture:[0,204],move:[704,316],select:[1519,153],silence:[2172,500]},M_=()=>{if(!Z1){const n=Object.values(ts).map(e=>window.btoa(`${e[0]}:${e[1]}`)).join("-");Z1??(Z1=new lo.Howl({src:[`/audio/sprite.mp3?v=${n}`],sprite:ts}))}return Z1},C_=n=>{M_().play(n)};var D_=ht,j_=function(){return D_.Date.now()},L_=j_,F_=/\s/;function R_(n){for(var e=n.length;e--&&F_.test(n.charAt(e)););return e}var B_=R_,H_=B_,V_=/^\s+/;function Z_(n){return n&&n.slice(0,H_(n)+1).replace(V_,"")}var N_=Z_,G_=Nn,q_=qn,U_="[object Symbol]";function W_(n){return typeof n=="symbol"||q_(n)&&G_(n)==U_}var z_=W_,x_=N_,ns=Gn,X_=z_,rs=0/0,K_=/^[-+]0x[0-9a-f]+$/i,J_=/^0b[01]+$/i,Q_=/^0o[0-7]+$/i,Y_=parseInt;function em(n){if(typeof n=="number")return n;if(X_(n))return rs;if(ns(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=ns(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=x_(n);var t=J_.test(n);return t||Q_.test(n)?Y_(n.slice(2),t?2:8):K_.test(n)?rs:+n}var tm=em,nm=Gn,N1=L_,ls=tm,rm="Expected a function",lm=Math.max,im=Math.min;function sm(n,e,t){var r,l,s,i,c,a,f=0,v=!1,o=!1,u=!0;if(typeof n!="function")throw new TypeError(rm);e=ls(e)||0,nm(t)&&(v=!!t.leading,o="maxWait"in t,s=o?lm(ls(t.maxWait)||0,e):s,u="trailing"in t?!!t.trailing:u);function h(D){var B=r,C=l;return r=l=void 0,f=D,i=n.apply(C,B),i}function p(D){return f=D,c=setTimeout(_,e),v?h(D):i}function d(D){var B=D-a,C=D-f,L=e-B;return o?im(L,s-C):L}function y(D){var B=D-a,C=D-f;return a===void 0||B>=e||B<0||o&&C>=s}function _(){var D=N1();if(y(D))return b(D);c=setTimeout(_,d(D))}function b(D){return c=void 0,u&&r?h(D):(r=l=void 0,i)}function T(){c!==void 0&&clearTimeout(c),f=0,r=a=l=c=void 0}function M(){return c===void 0?i:b(N1())}function I(){var D=N1(),B=y(D);if(r=arguments,l=this,a=D,B){if(c===void 0)return p(a);if(o)return clearTimeout(c),c=setTimeout(_,e),h(a)}return c===void 0&&(c=setTimeout(_,e)),i}return I.cancel=T,I.flush=M,I}var om=sm,am=om,cm=Gn,fm="Expected a function";function um(n,e,t){var r=!0,l=!0;if(typeof n!="function")throw new TypeError(fm);return cm(t)&&(r="leading"in t?!!t.leading:r,l="trailing"in t?!!t.trailing:l),am(n,e,{leading:r,maxWait:e,trailing:l})}var hm=um;const dm=Os(hm);function vm(n){let e,t,r,l,s;e=new D3({props:{mousePositions:n[0]}});function i(a){n[8](a)}let c={};return n[1]!==void 0&&(c.showEmoji=n[1]),r=new H3({props:c}),nn.push(()=>Bo(r,"showEmoji",i)),{c(){q(e.$$.fragment),t=Z(),q(r.$$.fragment)},l(a){U(e.$$.fragment,a),t=N(a),U(r.$$.fragment,a)},m(a,f){W(e,a,f),P(a,t,f),W(r,a,f),s=!0},p(a,f){const v={};f&1&&(v.mousePositions=a[0]),e.$set(v);const o={};!l&&f&2&&(l=!0,o.showEmoji=a[1],Ro(()=>l=!1)),r.$set(o)},i(a){s||($(e.$$.fragment,a),$(r.$$.fragment,a),s=!0)},o(a){E(e.$$.fragment,a),E(r.$$.fragment,a),s=!1},d(a){a&&g(t),z(e,a),z(r,a)}}}function pm(n){let e,t,r,l,s,i=n[2].log.join(`
`)+"",c,a,f=JSON.stringify(n[3],null,2)+"",v,o,u;return e=new P_({props:{reportMousePosition:n[6],$$slots:{overlays:[vm]},$$scope:{ctx:n}}}),{c(){t=H("div"),q(e.$$.fragment),r=Z(),l=H("pre"),s=ee(""),c=ee(i),a=ee(`

`),v=ee(f),o=ee(`
`),this.h()},l(h){t=V(h,"DIV",{style:!0});var p=S(t);U(e.$$.fragment,p),r=N(h),l=V(h,"PRE",{});var d=S(l);s=te(d,""),c=te(d,i),a=te(d,`

`),v=te(d,f),o=te(d,`
`),d.forEach(g),this.h()},h(){De(t,"display","contents"),De(t,"--row-count",q1),De(t,"--column-count",os)},m(h,p){P(h,t,p),W(e,t,null),P(h,r,p),P(h,l,p),A(l,s),A(l,c),A(l,a),A(l,v),A(l,o),u=!0},p(h,[p]){const d={};p&32771&&(d.$$scope={dirty:p,ctx:h}),e.$set(d),(!u||p&4)&&i!==(i=h[2].log.join(`
`)+"")&&Ie(c,i),(!u||p&8)&&f!==(f=JSON.stringify(h[3],null,2)+"")&&Ie(v,f)},i(h){u||($(e.$$.fragment,h),u=!0)},o(h){E(e.$$.fragment,h),u=!1},d(h){h&&(g(r),g(l)),h&&e&&g(t),z(e,h)}}}function _m(n,e,t){let r,l,{data:s}=e;const i=s.machineInput,c=i.gameId,a=i.userId,f=i.hostUserId,v={},o=E3({gameId:c,userId:a,onMessage:b=>{b.type==="mouse position"?t(0,v[b.userId]=b.position,v):u.send(b)}});se(n,o,b=>t(2,r=b));const u=qa(S3({send:o.send,actions:{playSound:C_,showEmoji:({userId:b,emoji:T})=>y==null?void 0:y({userId:b,emoji:T})}}),{input:i}),h=ue(u.service,({context:b})=>Bt(b),He);Wa({gameId:c,userId:a,user:h,hostUserId:f,machine:u});const p=u.state;se(n,p,b=>t(3,l=b)),or(()=>(o.open(),()=>{o.close()}));const d=dm(b=>{o.send({type:"mouse position",position:b})},50,{leading:!0,trailing:!0});let y;function _(b){y=b,t(1,y)}return n.$$set=b=>{"data"in b&&t(7,s=b.data)},[v,y,r,l,o,p,d,s,_]}class Im extends de{constructor(e){super(),ve(this,e,_m,pm,he,{data:7})}}export{Im as component,Tm as universal};
