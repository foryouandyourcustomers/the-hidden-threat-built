import{H as Bl,J as Gl,K as Vl,s as ue,n as se,o as Yr,k as y1,p as K1,c as J,q as Nl,a as a1,u as o1,g as c1,b as u1,l as ql}from"../chunks/scheduler.2144c616.js";import{S as fe,i as he,e as F,u as O,s as G,t as X,c as R,a as T,v as D,d as y,f as V,b as K,q as g,g as j,h as w,j as me,L as el,w as le,x as ie,n as I,o as P,C as de,k as N,l as q,m as U,p as W,y as ge,D as Ae,F as De,M as Ul,N as Wl,r as Ze,K as H1,O as dn,z as Le}from"../chunks/index.32c38c06.js";import{r as tl,w as Xl}from"../chunks/index.26cc3723.js";import{a as vn,i as pn,b as Kl,e as ee,u as nl,o as rl,I as Q1,F as _n}from"../chunks/constants.048b6b4a.js";import{A as z1,P as mn}from"../chunks/Paragraph.d5dae1f0.js";import{B as Re}from"../chunks/Button.6a14a5df.js";import{H as zt}from"../chunks/Heading.9360fa0a.js";import{F as b1}from"../chunks/Face.5794671b.js";const Ql=!1,ud=Object.freeze(Object.defineProperty({__proto__:null,ssr:Ql},Symbol.toStringTag,{value:"Module"}));function zl(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function Jl(){const n=zl();if(n.__xstate__)return n.__xstate__}const Yl=n=>{if(typeof window>"u")return;const e=Jl();e&&e.register(n)};let je=function(n){return n.After="xstate.after",n.DoneState="done.state",n.DoneInvoke="done.invoke",n.ErrorExecution="error.execution",n.ErrorCommunication="error.communication",n.ErrorPlatform="error.platform",n.ErrorCustom="xstate.error",n}({});je.After;je.DoneState;const ei=je.ErrorExecution,ti=je.ErrorPlatform;je.ErrorCustom;const pt=".",ni="",ll="",ri="#",li="*",il="xstate.init",gn=new WeakMap;function xe(n,e,t){let r=gn.get(n);return r?e in r||(r[e]=t()):(r={[e]:t()},gn.set(n,r)),r[e]}function ii(n,e,t,{sendId:r}){const l=typeof r=="function"?r(t):r;return[e,l]}function si(n,e){n.self.cancel(e)}function ai(n){function e(t){}return e.type="xstate.cancel",e.sendId=n,e.resolve=ii,e.execute=si,e}class yn{constructor(e){this._process=e,this._active=!1,this._current=null,this._last=null}start(){this._active=!0,this.flush()}clear(){this._current&&(this._current.next=null,this._last=this._current)}prepend(e){if(!this._current){this.enqueue(e);return}this._current={value:e,next:this._current}}enqueue(e){const t={value:e,next:null};if(this._current){this._last.next=t,this._last=t;return}this._current=t,this._last=t,this._active&&this.flush()}flush(){for(;this._current;){const e=this._current;this._process(e.value),e===this._current&&(this._current=this._current.next)}this._last=null}}const oi=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")();function sl(n,e){const t=x1(n),r=x1(e);return typeof r=="string"?typeof t=="string"?r===t:!1:typeof t=="string"?t in r:Object.keys(t).every(l=>l in r?sl(t[l],r[l]):!1)}function al(n){try{return t1(n)?n:n.toString().split(pt)}catch{throw new Error(`'${n}' is not a valid state path.`)}}function ci(n){return typeof n=="object"&&"value"in n&&"context"in n&&"event"in n}function x1(n){if(ci(n))return n.value;if(t1(n))return bn(n);if(typeof n!="string")return n;const e=al(n);return bn(e)}function bn(n){if(n.length===1)return n[0];const e={};let t=e;for(let r=0;r<n.length-1;r++)if(r===n.length-2)t[n[r]]=n[r+1];else{const l=t;t={},l[n[r]]=t}return e}function $n(n,e){const t={},r=Object.keys(n);for(let l=0;l<r.length;l++){const s=r[l];t[s]=e(n[s],s,n,l)}return t}function F1(n){return[].concat(...n)}function ol(n){return t1(n)?n:[n]}function Oe(n){return n===void 0?[]:ol(n)}function cl(n,e,t){if(typeof n=="function")return n({context:e,event:t});const r={},l={context:e,event:t};for(const s of Object.keys(n)){const a=n[s];typeof a=="function"?r[s]=a(l):r[s]=a}return r}function t1(n){return Array.isArray(n)}function ui(n){return typeof n.type=="string"&&(n.type===ei||n.type.startsWith(ti))}function ct(n){return ol(n).map(e=>typeof e>"u"||typeof e=="string"?{target:e}:e)}function ul(n){if(!(n===void 0||n===ni))return Oe(n)}function fi(n,e){if(typeof n=="object"){if("src"in n)return n;if("transition"in n)return{id:e,src:n}}return{id:e,src:n}}function hi(n,e,t){const r=()=>{},l=typeof n=="object",s=l?n:null;return{next:((l?n.next:n)||r).bind(s),error:((l?n.error:e)||r).bind(s),complete:((l?n.complete:t)||r).bind(s)}}function di(n,e){return`${n}:invocation[${e}]`}function d1(n){return n?"transition"in n?{src:n,input:void 0}:n:void 0}const R1="xstate.stop";function vi(){let n=0;const e=new Map,t=new Map,r=new WeakMap;return{_bookId:()=>`x:${n++}`,_register:(s,a)=>(e.set(s,a),s),_unregister:s=>{e.delete(s.sessionId);const a=r.get(s);a!==void 0&&(t.delete(a),r.delete(s))},get:s=>t.get(s),_set:(s,a)=>{const h=t.get(s);if(h&&h!==a)throw new Error(`Actor with system ID '${s}' already exists.`);t.set(s,a),r.set(a,s)}}}let _e=function(n){return n[n.NotStarted=0]="NotStarted",n[n.Running=1]="Running",n[n.Stopped=2]="Stopped",n}({});const pi={deferEvents:!0,clock:{setTimeout:(n,e)=>setTimeout(n,e),clearTimeout:n=>clearTimeout(n)},logger:console.log.bind(console),devTools:!1};class _i{constructor(e,t){this.logic=e,this._state=void 0,this.clock=void 0,this.options=void 0,this.id=void 0,this.mailbox=new yn(this._process.bind(this)),this.delayedEventsMap={},this.observers=new Set,this.logger=void 0,this.status=_e.NotStarted,this._parent=void 0,this.ref=void 0,this._actorContext=void 0,this._systemId=void 0,this.sessionId=void 0,this.system=void 0,this._doneEvent=void 0,this.src=void 0,this._deferred=[];const r={...pi,...t},{clock:l,logger:s,parent:a,id:h,systemId:f}=r,u=this;this.system=(a==null?void 0:a.system)??vi(),f&&(this._systemId=f,this.system._set(f,this)),this.sessionId=this.system._bookId(),this.id=h??this.sessionId,this.logger=s,this.clock=l,this._parent=a,this.options=r,this.src=r.src,this.ref=this,this._actorContext={self:u,id:this.id,sessionId:this.sessionId,logger:this.logger,defer:v=>{this._deferred.push(v)},system:this.system,stopChild:v=>{if(v._parent!==this)throw new Error(`Cannot stop child actor ${v.id} of ${this.id} because it is not a child`);v._stop()}},this.send=this.send.bind(this),this._initState()}_initState(){var e;this._state=this.options.state?this.logic.restoreState?this.logic.restoreState(this.options.state,this._actorContext):this.options.state:this.logic.getInitialState(this._actorContext,(e=this.options)==null?void 0:e.input)}update(e){var s,a,h,f,u;this._state=e;const t=this.getSnapshot();let r;for(;r=this._deferred.shift();)r();for(const v of this.observers)(s=v.next)==null||s.call(v,t);const l=(h=(a=this.logic).getStatus)==null?void 0:h.call(a,e);switch(l==null?void 0:l.status){case"done":this._stopProcedure(),this._doneEvent=qi(this.id,l.data),(f=this._parent)==null||f.send(this._doneEvent),this._complete();break;case"error":this._stopProcedure(),(u=this._parent)==null||u.send(S1(this.id,l.data)),this._error(l.data);break}}subscribe(e,t,r){var s;const l=hi(e,t,r);return this.observers.add(l),this.status===_e.Stopped&&((s=l.complete)==null||s.call(l),this.observers.delete(l)),{unsubscribe:()=>{this.observers.delete(l)}}}start(){return this.status===_e.Running?this:(this.system._register(this.sessionId,this),this._systemId&&this.system._set(this._systemId,this),this.status=_e.Running,this.logic.start&&this.logic.start(this._state,this._actorContext),this.update(this._state),this.options.devTools&&this.attachDevTools(),this.mailbox.start(),this)}_process(e){try{const t=this.logic.transition(this._state,e,this._actorContext);this.update(t),e.type===R1&&(this._stopProcedure(),this._complete())}catch(t){if(this.observers.size>0)this.observers.forEach(r=>{var l;(l=r.error)==null||l.call(r,t)}),this.stop();else throw t}}_stop(){return this.status===_e.Stopped?this:(this.mailbox.clear(),this.status===_e.NotStarted?(this.status=_e.Stopped,this):(this.mailbox.enqueue({type:R1}),this))}stop(){if(this._parent)throw new Error("A non-root actor cannot be stopped directly.");return this._stop()}_complete(){var e;for(const t of this.observers)(e=t.complete)==null||e.call(t);this.observers.clear()}_error(e){var t;for(const r of this.observers)(t=r.error)==null||t.call(r,e);this.observers.clear()}_stopProcedure(){if(this.status!==_e.Running)return this;for(const e of Object.keys(this.delayedEventsMap))this.clock.clearTimeout(this.delayedEventsMap[e]);return this.mailbox.clear(),this.mailbox=new yn(this._process.bind(this)),this.status=_e.Stopped,this.system._unregister(this),this}send(e){if(typeof e=="string")throw new Error(`Only event objects may be sent to actors; use .send({ type: "${e}" }) instead`);if(this.status!==_e.Stopped){if(this.status!==_e.Running&&!this.options.deferEvents)throw new Error(`Event "${e.type}" was sent to uninitialized actor "${this.id}". Make sure .start() is called for this actor, or set { deferEvents: true } in the actor options.
Event: ${JSON.stringify(e)}`);this.mailbox.enqueue(e)}}delaySend({event:e,id:t,delay:r,to:l}){const s=this.clock.setTimeout(()=>{l?l.send(e):this.send(e)},r);t&&(this.delayedEventsMap[t]=s)}cancel(e){this.clock.clearTimeout(this.delayedEventsMap[e]),delete this.delayedEventsMap[e]}attachDevTools(){const{devTools:e}=this.options;e&&(typeof e=="function"?e:Yl)(this)}toJSON(){return{id:this.id}}getPersistedState(){var e,t;return(t=(e=this.logic).getPersistedState)==null?void 0:t.call(e,this._state)}[oi](){return this}getSnapshot(){return this.logic.getSnapshot?this.logic.getSnapshot(this._state):this._state}}function ht(n,e){return new _i(n,e)}function mi(n,e,t,{id:r,systemId:l,src:s,input:a}){const h=d1(e.machine.implementations.actors[s]);let f;if(h){const u=a||h.input;f=ht(h.src,{id:r,src:s,parent:n==null?void 0:n.self,systemId:l,input:typeof u=="function"?u({context:e.context,event:t.event,self:n==null?void 0:n.self}):u})}return[Ve(e,{children:{...e.children,[r]:f}}),{id:r,actorRef:f}]}function gi(n,{id:e,actorRef:t}){t&&n.defer(()=>{var r;if(t.status!==_e.Stopped)try{(r=t.start)==null||r.call(t)}catch(l){n.self.send(S1(e,l));return}})}function yi({id:n,systemId:e,src:t,input:r}){function l(s){}return l.type="xstate.invoke",l.id=n,l.systemId=e,l.src=t,l.input=r,l.resolve=mi,l.execute=gi,l}function wn(n){return{type:"xstate.boolean",params:{op:"not"},children:[Jt(n)],predicate:({evaluate:e,guard:t,context:r,event:l,state:s})=>!e(t.children[0],r,l,s)}}function An(n){return{type:"xstate.boolean",params:{op:"and"},children:n.map(e=>Jt(e)),predicate:({evaluate:e,guard:t,context:r,event:l,state:s})=>t.children.every(a=>e(a,r,l,s))}}function J1(n,e,t,r){var a,h;const{machine:l}=r,s=((h=(a=l==null?void 0:l.implementations)==null?void 0:a.guards)==null?void 0:h[n.type])??n.predicate;if(!s)throw new Error(`Guard '${n.type}' is not implemented.'.`);return s({context:e,event:t,state:r,guard:n,evaluate:J1})}function Jt(n,e){var r,l;if(typeof n=="string"){const s=e==null?void 0:e(n);return typeof s=="function"?{type:n,predicate:s,params:{type:n}}:s||{type:n,params:{type:n}}}if(typeof n=="function")return{type:n.name,predicate:n,params:{type:n.name,name:n.name}};const t=e==null?void 0:e(n.type);return typeof t=="function"?{type:n.type,params:n.params||n,children:(r=n.children)==null?void 0:r.map(s=>Jt(s,e)),predicate:(e==null?void 0:e(n.type))||n.predicate}:t||{type:n.type,params:n.params||n,children:(l=n.children)==null?void 0:l.map(s=>Jt(s,e)),predicate:n.predicate}}function bi(n,e,t){const r=n[0].machine,l=n.find(s=>s.type==="final"&&s.parent===r.root);return l&&l.output?cl(l.output,e,t):void 0}const $1=n=>n.type==="atomic"||n.type==="final";function Be(n){return Object.values(n.states).filter(e=>e.type!=="history")}function Y1(n,e){const t=[];let r=n.parent;for(;r&&r!==e;)t.push(r),r=r.parent;return t}function Yt(n){const e=new Set(n),t=new Set(n),r=hl(t);for(const l of e)if(l.type==="compound"&&(!r.get(l)||!r.get(l).length))Sn(l).forEach(s=>t.add(s));else if(l.type==="parallel"){for(const s of Be(l))if(s.type!=="history"&&!t.has(s))for(const a of Sn(s))t.add(a)}for(const l of t){let s=l.parent;for(;s;)t.add(s),s=s.parent}return t}function fl(n,e){const t=e.get(n);if(!t)return{};if(n.type==="compound"){const l=t[0];if(l){if($1(l))return l.key}else return{}}const r={};for(const l of t)r[l.key]=fl(l,e);return r}function hl(n){const e=new Map;for(const t of n)e.has(t)||e.set(t,[]),t.parent&&(e.has(t.parent)||e.set(t.parent,[]),e.get(t.parent).push(t));return e}function dl(n,e){const t=Yt(e);return fl(n,hl(t))}function w1(n,e=n[0].machine.root){return e.type==="compound"?Be(e).some(t=>t.type==="final"&&n.includes(t)):e.type==="parallel"?Be(e).every(t=>w1(n,t)):!1}const dt=n=>n[0]===ri;function $i(n,e){return n.transitions.get(e)||[...n.transitions.keys()].filter(r=>{if(r===li)return!0;if(!r.endsWith(".*"))return!1;const l=r.split("."),s=e.split(".");for(let a=0;a<l.length;a++){const h=l[a],f=s[a];if(h==="*")return a===l.length-1;if(h!==f)return!1}return!0}).sort((r,l)=>l.length-r.length).flatMap(r=>n.transitions.get(r))}function wi(n){const e=n.config.after;if(!e)return[];const t=(l,s)=>{const a=typeof l=="function"?`${n.id}:delay[${s}]`:l,h=Ni(a,n.id);return n.entry.push(Vi({type:h},{id:h,delay:l})),n.exit.push(ai(h)),h};return(t1(e)?e.map((l,s)=>{const a=t(l.delay,s);return{...l,event:a}}):Object.keys(e).flatMap((l,s)=>{const a=e[l],h=typeof a=="string"?{target:a}:a,f=isNaN(+l)?l:+l,u=t(f,s);return Oe(h).map(v=>({...v,event:u,delay:f}))})).map(l=>{const{delay:s}=l;return{...Ce(n,l.event,l),delay:s}})}function Ce(n,e,t){const r=ul(t.target),l=t.reenter??!1,{guards:s}=n.machine.implementations,a=vl(n,r),h={...t,actions:Oe(t.actions),guard:t.guard?Jt(t.guard,f=>s[f]):void 0,target:a,source:n,reenter:l,eventType:e,toJSON:()=>({...h,source:`#${n.id}`,target:a?a.map(f=>`#${f.id}`):void 0})};return h}function Ai(n){const e=new Map;if(n.config.on)for(const t of Object.keys(n.config.on)){if(t===ll)throw new Error('Null events ("") cannot be specified as a transition key. Use `always: { ... }` instead.');const r=n.config.on[t];e.set(t,ct(r).map(l=>Ce(n,t,l)))}if(n.config.onDone){const t=String(G1(n.id));e.set(t,ct(n.config.onDone).map(r=>Ce(n,t,r)))}for(const t of n.invoke){if(t.onDone){const r=`done.invoke.${t.id}`;e.set(r,ct(t.onDone).map(l=>Ce(n,r,l)))}if(t.onError){const r=`error.platform.${t.id}`;e.set(r,ct(t.onError).map(l=>Ce(n,r,l)))}if(t.onSnapshot){const r=`xstate.snapshot.${t.id}`;e.set(r,ct(t.onSnapshot).map(l=>Ce(n,r,l)))}}for(const t of n.after){let r=e.get(t.eventType);r||(r=[],e.set(t.eventType,r)),r.push(t)}return e}function Si(n,e){if(typeof e=="string"||t1(e)){const t=Oe(e).map(s=>{const a=typeof s=="string"?dt(s)?n.machine.getStateNodeById(s):n.states[s]:s;if(!a)throw new Error(`Initial state node "${s}" not found on parent state node #${n.id}`);if(!Ge(a,n))throw new Error(`Invalid initial target: state node #${a.id} is not a descendant of #${n.id}`);return a}),r=vl(n,t),l={source:n,actions:[],eventType:null,reenter:!1,target:r,toJSON:()=>({...l,source:`#${n.id}`,target:r?r.map(s=>`#${s.id}`):void 0})};return l}return Ce(n,"__INITIAL__",{target:Oe(e.target).map(t=>typeof t=="string"?dt(t)?t:`${pt}${t}`:t),actions:e.actions})}function vl(n,e){if(e!==void 0)return e.map(t=>{if(typeof t!="string")return t;if(dt(t))return n.machine.getStateNodeById(t);const r=t[0]===pt;if(r&&!n.parent)return p1(n,t.slice(1));const l=r?n.key+t:t;if(n.parent)try{return p1(n.parent,l)}catch(s){throw new Error(`Invalid transition definition for state node '${n.id}':
${s.message}`)}else throw new Error(`Invalid target: "${t}" is not a valid target from the root node. Did you mean ".${t}"?`)})}function pl(n){const e=ul(n.target);return e?e.map(t=>typeof t=="string"?p1(n.parent,t):t):n.parent.initial.target}function v1(n){return n.type==="history"}function Sn(n){const e=new Set;function t(r){if(!e.has(r)){if(e.add(r),r.type==="compound")for(const l of r.initial.target){for(const s of Y1(l,n))e.add(s);t(l)}else if(r.type==="parallel")for(const l of Be(r))t(l)}}return t(n),[...e]}function vt(n,e){if(dt(e))return n.machine.getStateNodeById(e);if(!n.states)throw new Error(`Unable to retrieve child state '${e}' from '${n.id}'; no child states exist.`);const t=n.states[e];if(!t)throw new Error(`Child state '${e}' does not exist on '${n.id}'`);return t}function p1(n,e){if(typeof e=="string"&&dt(e))try{return n.machine.getStateNodeById(e)}catch{}const t=al(e).slice();let r=n;for(;t.length;){const l=t.shift();if(!l.length)break;r=vt(r,l)}return r}function e1(n,e){const t=e instanceof Te?e.value:x1(e);if(typeof t=="string")return[n,n.states[t]];const r=Object.keys(t),l=r.map(s=>vt(n,s)).filter(Boolean);return[n.machine.root,n].concat(l,r.reduce((s,a)=>{const h=vt(n,a);if(!h)return s;const f=e1(h,t[a]);return s.concat(f)},[]))}function Ti(n,e,t,r){const s=vt(n,e).next(t,r);return!s||!s.length?n.next(t,r):s}function ki(n,e,t,r){const l=Object.keys(e),s=vt(n,l[0]),a=en(s,e[l[0]],t,r);return!a||!a.length?n.next(t,r):a}function Ei(n,e,t,r){const l=[];for(const s of Object.keys(e)){const a=e[s];if(!a)continue;const h=vt(n,s),f=en(h,a,t,r);f&&l.push(...f)}return l.length?l:n.next(t,r)}function en(n,e,t,r){return typeof e=="string"?Ti(n,e,t,r):Object.keys(e).length===1?ki(n,e,t,r):Ei(n,e,t,r)}function Ii(n){return Object.keys(n.states).map(e=>n.states[e]).filter(e=>e.type==="history")}function Ge(n,e){let t=n;for(;t.parent&&t.parent!==e;)t=t.parent;return t.parent===e}function Tn(n){const e=[];let t=n.parent;for(;t;)e.unshift(t),t=t.parent;return e}function Mi(n,e){const t=new Set(n),r=new Set(e);for(const l of t)if(r.has(l))return!0;for(const l of r)if(t.has(l))return!0;return!1}function _l(n,e,t){const r=new Set;for(const l of n){let s=!1;const a=new Set;for(const h of r)if(Mi(B1([l],e,t),B1([h],e,t)))if(Ge(l.source,h.source))a.add(h);else{s=!0;break}if(!s){for(const h of a)r.delete(h);r.add(l)}}return Array.from(r)}function Pi(n){const[e]=n;let t=Tn(e),r=[];for(const l of n){const s=Tn(l);r=t.filter(a=>s.includes(a)),t=r,r=[]}return t[t.length-1]}function tn(n,e){if(!n.target)return[];const t=new Set;for(const r of n.target)if(v1(r))if(e[r.id])for(const l of e[r.id])t.add(l);else for(const l of tn({target:pl(r)},e))t.add(l);else t.add(r);return[...t]}function ml(n,e){const t=tn(n,e);return t?!n.reenter&&n.source.type!=="parallel"&&t.every(l=>Ge(l,n.source))?n.source:Pi(t.concat(n.source)):null}function B1(n,e,t){var l;const r=new Set;for(const s of n)if((l=s.target)!=null&&l.length){const a=ml(s,t);for(const h of e)Ge(h,a)&&r.add(h)}return[...r]}function f1(n,e,t,r,l){const s=new Set(e.configuration);if(!n.length)return e;const a=Oi(n,e,s,r,t,l);return Ve(a,{value:{}})}function Oi(n,e,t,r,l,s){const a=[],h={...e.historyValue},f=_l(n,t,h),u=[...e._internalQueue];s||ji(f,t,h,a),a.push(...f.flatMap(o=>o.actions)),Di(r,f,t,a,u,e,h,s);const v=[...t],i=w1(v);if(i){const o=v.sort((c,d)=>d.order-c.order).flatMap(c=>c.exit);a.push(...o)}try{const o=A1(a,r,e,l),c=i?bi(v,o.context,r):void 0;return u.push(...o._internalQueue),Ve(e,{configuration:v,historyValue:h,_internalQueue:u,context:o.context,done:i,output:c,children:o.children})}catch(o){throw o}}function Di(n,e,t,r,l,s,a,h){const f=new Set,u=new Set;gl(e,a,u,f),h&&u.add(s.machine.root);for(const v of[...f].sort((i,o)=>i.order-o.order)){t.add(v);for(const i of v.invoke)r.push(yi(i));if(r.push(...v.entry),u.has(v))for(const i of u){const o=i.initial.actions;r.push(...o)}if(v.type==="final"){const i=v.parent;if(!i.parent)continue;if(l.push(G1(i.id,v.output?cl(v.output,s.context,n):void 0)),i.parent){const o=i.parent;o.type==="parallel"&&Be(o).every(c=>w1([...t],c))&&l.push(G1(o.id))}}}}function gl(n,e,t,r){for(const l of n){for(const h of l.target||[])ft(h,e,t,r);const s=ml(l,e),a=tn(l,e);for(const h of a)h1(h,s,r,e,t)}}function ft(n,e,t,r){if(v1(n))if(e[n.id]){const l=e[n.id];for(const s of l)ft(s,e,t,r);for(const s of l){h1(s,n.parent,r,e,t);for(const a of t)t.add(a)}}else{const l=pl(n);for(const s of l)ft(s,e,t,r);for(const s of l){h1(s,n,r,e,t);for(const a of t)t.add(a)}}else if(r.add(n),n.type==="compound"){t.add(n);const l=n.initial.target;for(const s of l)ft(s,e,t,r);for(const s of l)h1(s,n,r,e,t)}else if(n.type==="parallel")for(const l of Be(n).filter(s=>!v1(s)))[...r].some(s=>Ge(s,l))||ft(l,e,t,r)}function h1(n,e,t,r,l){const s=Y1(n,e);for(const a of s)if(t.add(a),a.type==="parallel")for(const h of Be(a).filter(f=>!v1(f)))[...t].some(f=>Ge(f,h))||ft(h,r,l,t)}function ji(n,e,t,r){const l=B1(n,e,t);l.sort((s,a)=>a.order-s.order);for(const s of l)for(const a of Ii(s)){let h;a.history==="deep"?h=f=>$1(f)&&Ge(f,s):h=f=>f.parent===s,t[a.id]=Array.from(e).filter(h)}for(const s of l)r.push(...s.exit,...s.invoke.map(a=>yl(a.id))),e.delete(s)}function A1(n,e,t,r){const{machine:l}=t;let s=Ve(t,{_internalQueue:[]});for(const a of n){const h=typeof a=="function"?a:l.implementations.actions[typeof a=="string"?a:a.type];if(!h)continue;const f={context:s.context,event:e,self:r==null?void 0:r.self,system:r==null?void 0:r.system,action:typeof a=="string"?{type:a}:a};if(!("resolve"in h)){(r==null?void 0:r.self.status)===_e.Running?h(f):r==null||r.defer(()=>h(f));continue}const u=h,[v,i,o]=u.resolve(r,s,f,h);s=v,"execute"in h&&((r==null?void 0:r.self.status)===_e.Running?u.execute(r,i):r==null||r.defer(u.execute.bind(null,r,i))),o&&(s=A1(o,e,s,r))}return s}function P1(n,e,t){let r=n;const l=[];if(e.type===R1)return r=kn(e,r,t),l.push(r),{state:r,microstates:l};let s=e;if(s.type!==il){const a=En(s,r);r=f1(a,n,t,s,!1),l.push(r)}for(;!r.done;){let a=Ci(r,s);if(a.length)r=f1(a,r,t,s,!1),l.push(r);else if(r._internalQueue.length){s=r._internalQueue[0];const h=En(s,r);r=f1(h,r,t,s,!1),r._internalQueue.shift(),l.push(r)}else break}return r.done&&kn(s,r,t),{state:r,microstates:l}}function kn(n,e,t){const r=[];for(const l of e.configuration.sort((s,a)=>a.order-s.order))r.push(...l.exit);for(const l of Object.values(e.children))r.push(yl(l));return A1(r,n,e,t)}function En(n,e){return e.machine.getTransitionData(e,n)}function Ci(n,e){const t=new Set,r=n.configuration.filter($1);for(const l of r)e:for(const s of[l].concat(Y1(l,null)))if(s.always){for(const a of s.always)if(a.guard===void 0||J1(a.guard,n.context,e,n)){t.add(a);break e}}return _l(Array.from(t),new Set(n.configuration),n.historyValue)}function In(n,e){const t=Yt(e1(n,e));return dl(n,[...t])}function Li(n){const e=[],t=n.initial,r=new Set;gl([t],{},new Set([n]),r);for(const s of[...r].sort((a,h)=>a.order-h.order))e.push(s);return e}class Te{static from(e,t={},r){if(e instanceof Te)return e.context!==t?new Te({value:e.value,context:t,meta:{},configuration:[],children:{}},r):e;const l=Yt(e1(r.root,e));return new Te({value:e,context:t,meta:void 0,configuration:Array.from(l),children:{}},r)}constructor(e,t){this.machine=t,this.tags=void 0,this.value=void 0,this.done=void 0,this.output=void 0,this.context=void 0,this.historyValue={},this._internalQueue=void 0,this.configuration=void 0,this.children=void 0,this.context=e.context,this._internalQueue=e._internalQueue??[],this.historyValue=e.historyValue||{},this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=e.configuration??Array.from(Yt(e1(t.root,e.value))),this.children=e.children,this.value=dl(t.root,this.configuration),this.tags=new Set(F1(this.configuration.map(r=>r.tags))),this.done=e.done??!1,this.output=e.output}toStrings(e=this.value){if(typeof e=="string")return[e];const t=Object.keys(e);return t.concat(...t.map(r=>this.toStrings(e[r]).map(l=>r+pt+l)))}toJSON(){const{configuration:e,tags:t,machine:r,...l}=this;return{...l,tags:Array.from(t),meta:this.meta}}matches(e){return sl(e,this.value)}hasTag(e){return this.tags.has(e)}can(e){const t=this.machine.getTransitionData(this,e);return!!(t!=null&&t.length)&&t.some(r=>r.target!==void 0||r.actions.length)}get nextEvents(){return xe(this,"nextEvents",()=>[...new Set(F1([...this.configuration.map(e=>e.ownEvents)]))])}get meta(){return this.configuration.reduce((e,t)=>(t.meta!==void 0&&(e[t.id]=t.meta),e),{})}}function Ve(n,e={}){return new Te({...n,...e},n.machine)}function Zi(n){var h,f;const{configuration:e,tags:t,machine:r,children:l,...s}=n,a={};for(const u in l)a[u]={state:(f=(h=l[u]).getPersistedState)==null?void 0:f.call(h),src:l[u].src};return{...s,children:a}}function Hi(n,e,t,{actorRef:r}){const l=typeof r=="function"?r(t):r,s=typeof l=="string"?e.children[l]:l;let a=e.children;return s&&(a={...a},delete a[s.id]),[Ve(e,{children:a}),s]}function xi(n,e){if(e){if(e.status!==_e.Running){n.stopChild(e);return}n.defer(()=>{n.stopChild(e)})}}function yl(n){function e(t){}return e.type="xstate.stop",e.actorRef=n,e.resolve=Hi,e.execute=xi,e}function Fi(n,{machine:e,context:t},r,l){const s=(a,h={})=>{const{systemId:f}=h;if(typeof a=="string"){const u=d1(e.implementations.actors[a]);if(!u)throw new Error(`Actor logic '${a}' not implemented in machine '${e.id}'`);const v="input"in h?h.input:u.input,i=ht(u.src,{id:h.id,parent:n.self,input:typeof v=="function"?v({context:t,event:r,self:n.self}):v,systemId:f});return l[i.id]=i,i}else return ht(a,{id:h.id,parent:n.self,input:h.input,systemId:f})};return(a,h)=>{const f=s(a,h);return l[f.id]=f,n.defer(()=>{var u;if(f.status!==_e.Stopped)try{(u=f.start)==null||u.call(f)}catch(v){n.self.send(S1(f.id,v));return}}),f}}function Ri(n,e,t,{assignment:r}){if(!e.context)throw new Error("Cannot assign to undefined `context`. Ensure that `context` is defined in the machine config.");const l={},s={context:e.context,event:t.event,action:t.action,spawn:Fi(n,e,t.event,l),self:n==null?void 0:n.self,system:n==null?void 0:n.system};let a={};if(typeof r=="function")a=r(s);else for(const f of Object.keys(r)){const u=r[f];a[f]=typeof u=="function"?u(s):u}const h=Object.assign({},e.context,a);return[Ve(e,{context:h,children:Object.keys(l).length?{...e.children,...l}:e.children})]}function bl(n){function e(t){}return e.type="xstate.assign",e.assignment=n,e.resolve=Ri,e}function Bi(n,e,t,{event:r,id:l,delay:s}){const a=e.machine.implementations.delays;if(typeof r=="string")throw new Error(`Only event objects may be used with raise; use raise({ type: "${r}" }) instead`);const h=typeof r=="function"?r(t):r;let f;if(typeof s=="string"){const u=a&&a[s];f=typeof u=="function"?u(t):u}else f=typeof s=="function"?s(t):s;return[typeof f!="number"?Ve(e,{_internalQueue:e._internalQueue.concat(h)}):e,{event:h,id:l,delay:f}]}function Gi(n,e){if(typeof e.delay=="number"){n.self.delaySend(e);return}}function Vi(n,e){function t(r){}return t.type="xstate.raise",t.event=n,t.id=e==null?void 0:e.id,t.delay=e==null?void 0:e.delay,t.resolve=Bi,t.execute=Gi,t}function Ni(n,e){const t=e?`#${e}`:"";return`${je.After}(${n})${t}`}function G1(n,e){const t=`${je.DoneState}.${n}`,r={type:t,output:e};return r.toString=()=>t,r}function qi(n,e){const t=`${je.DoneInvoke}.${n}`,r={type:t,output:e};return r.toString=()=>t,r}function S1(n,e){const t=`${je.ErrorPlatform}.${n}`,r={type:t,data:e};return r.toString=()=>t,r}function Ui(n){return{type:il,input:n}}const Wi={},Kt=n=>typeof n=="string"?{type:n}:typeof n=="function"?"resolve"in n?{type:n.type}:{type:n.name}:n;class nn{constructor(e,t){if(this.config=e,this.key=void 0,this.id=void 0,this.type=void 0,this.path=void 0,this.states=void 0,this.history=void 0,this.entry=void 0,this.exit=void 0,this.parent=void 0,this.machine=void 0,this.meta=void 0,this.output=void 0,this.order=-1,this.description=void 0,this.tags=[],this.transitions=void 0,this.always=void 0,this.parent=t._parent,this.key=t._key,this.machine=t._machine,this.path=this.parent?this.parent.path.concat(this.key):[],this.id=this.config.id||[this.machine.id,...this.path].join(pt),this.type=this.config.type||(this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.description=this.config.description,this.order=this.machine.idMap.size,this.machine.idMap.set(this.id,this),this.states=this.config.states?$n(this.config.states,(r,l)=>new nn(r,{_parent:this,_key:l,_machine:this.machine})):Wi,this.type==="compound"&&!this.config.initial)throw new Error(`No initial state specified for compound state node "#${this.id}". Try adding { initial: "${Object.keys(this.states)[0]}" } to the state config.`);this.history=this.config.history===!0?"shallow":this.config.history||!1,this.entry=Oe(this.config.entry),this.exit=Oe(this.config.exit),this.meta=this.config.meta,this.output=this.type==="final"?this.config.output:void 0,this.tags=Oe(e.tags)}_initialize(){this.transitions=Ai(this),this.config.always&&(this.always=ct(this.config.always).map(e=>Ce(this,ll,e))),Object.keys(this.states).forEach(e=>{this.states[e]._initialize()})}get definition(){return{id:this.id,key:this.key,version:this.machine.version,type:this.type,initial:this.initial?{target:this.initial.target,source:this,actions:this.initial.actions.map(Kt),eventType:null,reenter:!1,toJSON:()=>({target:this.initial.target.map(e=>`#${e.id}`),source:`#${this.id}`,actions:this.initial.actions.map(Kt),eventType:null})}:void 0,history:this.history,states:$n(this.states,e=>e.definition),on:this.on,transitions:[...this.transitions.values()].flat().map(e=>({...e,actions:e.actions.map(Kt)})),entry:this.entry.map(Kt),exit:this.exit.map(Kt),meta:this.meta,order:this.order||-1,output:this.output,invoke:this.invoke,description:this.description,tags:this.tags}}toJSON(){return this.definition}get invoke(){return xe(this,"invoke",()=>Oe(this.config.invoke).map((e,t)=>{const r=di(this.id,t),l=fi(e,r),s=l.id||r,a=l.src,{systemId:h}=l,f=typeof a=="string"||"type"in a?a:s;return!this.machine.implementations.actors[s]&&typeof a!="string"&&!("type"in a)&&(this.machine.implementations.actors={...this.machine.implementations.actors,[s]:a}),{type:"xstate.invoke",...l,src:f,id:s,systemId:h,toJSON(){const{onDone:u,onError:v,...i}=l;return{...i,type:"xstate.invoke",src:f,id:s}}}}))}get on(){return xe(this,"on",()=>[...this.transitions].flatMap(([t,r])=>r.map(l=>[t,l])).reduce((t,[r,l])=>(t[r]=t[r]||[],t[r].push(l),t),{}))}get after(){return xe(this,"delayedTransitions",()=>wi(this))}get initial(){return xe(this,"initial",()=>Si(this,this.config.initial||[]))}next(e,t){const r=t.type,l=[];let s;const a=xe(this,`candidates-${r}`,()=>$i(this,r));for(const h of a){const{guard:f}=h,u=e.context;let v=!1;try{v=!f||J1(f,u,t,e)}catch(i){throw new Error(`Unable to evaluate guard '${f.type}' in transition for event '${r}' in state node '${this.id}':
${i.message}`)}if(v){l.push(...h.actions),s=h;break}}return s?[s]:void 0}get target(){if(this.type==="history")return this.config.target}get stateIds(){const e=F1(Object.keys(this.states).map(t=>this.states[t].stateIds));return[this.id].concat(e)}get events(){return xe(this,"events",()=>{const{states:e}=this,t=new Set(this.ownEvents);if(e)for(const r of Object.keys(e)){const l=e[r];if(l.states)for(const s of l.events)t.add(`${s}`)}return Array.from(t)})}get ownEvents(){const e=new Set([...this.transitions.keys()].filter(t=>this.transitions.get(t).some(r=>!(!r.target&&!r.actions.length&&!r.reenter))));return Array.from(e)}}const Xi="#";class rn{constructor(e,t){this.config=e,this.version=void 0,this.implementations=void 0,this.types=void 0,this.__xstatenode=!0,this.idMap=new Map,this.root=void 0,this.id=void 0,this.states=void 0,this.events=void 0,this.__TContext=void 0,this.__TEvent=void 0,this.__TAction=void 0,this.__TActorMap=void 0,this.__TResolvedTypesMeta=void 0,this.id=e.id||"(machine)",this.implementations={actors:(t==null?void 0:t.actors)??{},actions:(t==null?void 0:t.actions)??{},delays:(t==null?void 0:t.delays)??{},guards:(t==null?void 0:t.guards)??{}},this.version=this.config.version,this.types=this.config.types??{},this.transition=this.transition.bind(this),this.root=new nn(e,{_key:this.id,_machine:this}),this.root._initialize(),this.states=this.root.states,this.events=this.root.events}provide(e){const{actions:t,guards:r,actors:l,delays:s}=this.implementations;return new rn(this.config,{actions:{...t,...e.actions},guards:{...r,...e.guards},actors:{...l,...e.actors},delays:{...s,...e.delays}})}resolveState(e){const t=Yt(e1(this.root,e.value)),r=Array.from(t);return this.createState({...e,value:In(this.root,e.value),configuration:r,done:w1(r)})}resolveStateValue(e,...[t]){const r=In(this.root,e);return this.resolveState(Te.from(r,t,this))}transition(e,t,r){if(ui(t)&&!e.nextEvents.some(s=>s===t.type))throw t.data;const{state:l}=P1(e,t,r);return l}microstep(e,t,r){return P1(e,t,r).microstates}getTransitionData(e,t){return en(this.root,e.value,e,t)||[]}getPreInitialState(e,t){const{context:r}=this.config,l=this.resolveState(this.createState({value:{},context:typeof r!="function"&&r?r:{},meta:void 0,configuration:Li(this.root),children:{}}));return typeof r=="function"?A1([bl(({spawn:a,event:h})=>r({spawn:a,input:h.input}))],t,l,e):l}getInitialState(e,t){const r=Ui(t),l=this.getPreInitialState(e,r),s=f1([{target:[...l.configuration].filter($1),source:this.root,reenter:!0,actions:[],eventType:null,toJSON:null}],l,e,r,!0),{state:a}=P1(s,r,e);return a}start(e,t){Object.values(e.children).forEach(r=>{var l;if(r.status===0)try{(l=r.start)==null||l.call(r)}catch(s){t.self.send(S1(r.id,s))}})}getStateNodeById(e){const t=e.split(pt),r=t.slice(1),l=dt(t[0])?t[0].slice(Xi.length):t[0],s=this.idMap.get(l);if(!s)throw new Error(`Child state node '#${l}' does not exist on machine '${this.id}'`);return p1(s,r)}get definition(){return this.root.definition}toJSON(){return this.definition}getPersistedState(e){return Zi(e)}createState(e){return e instanceof Te?e:new Te(e,this)}getStatus(e){return e.done?{status:"done",data:e.output}:{status:"active"}}restoreState(e,t){const r={};Object.keys(e.children).forEach(s=>{var o,c;const a=e.children[s],h=a.state,f=a.src,u=f?(o=d1(this.implementations.actors[f]))==null?void 0:o.src:void 0;if(!u)return;const v=(c=u.restoreState)==null?void 0:c.call(u,h,t),i=ht(u,{id:s,state:v});r[s]=i});const l=this.createState(new Te({...e,children:r},this));return l.configuration.forEach(s=>{s.invoke&&s.invoke.forEach(a=>{const{id:h,src:f}=a;if(r[h])return;const u=d1(this.implementations.actors[f]);if(u){const v=ht(u.src,{id:h,parent:t==null?void 0:t.self,input:"input"in a?a.input:u.input});r[h]=v}})}),l}}function Ki(n,e){return new rn(n,e)}function Qi(n,...[e={}]){const{guards:t,actions:r,actors:l,delays:s,...a}=e,h={guards:t,actions:r,actors:l,delays:s},f=n.provide(h),u=ht(f,a).start();Bl(()=>u.stop());let v=u.getSnapshot();return{state:tl(v,o=>u.subscribe(c=>{v!==c&&(v=c,o(v))}).unsubscribe),send:u.send,service:u}}const $l={},zi=n=>{Gl($l,n)},ke=()=>Vl($l),Ji=Ki({id:"gameClient",context:({input:n})=>n,types:{context:{},events:{},actors:{}},initial:"Lobby",states:{Lobby:{initial:"Assigning sides",states:{"Assigning sides":{description:`This is the first step of the game setup, where users can join and are assigned to be either attacker or defender.

Users can also be made administrators.`,initial:"Incomplete",states:{Incomplete:{always:{target:"Ready",guard:"allSidesAssigned",description:"All users have been assigned a side and there is an admin on both sides",reenter:!1}},Ready:{on:{"next step":{target:"Ready",guard:"isAdmin",actions:{type:"forwardToServer",params:{}},reenter:!1}}}},always:{target:"Assigning roles",guard:"finishedAssigningSides",reenter:!1},on:{"assign side":{target:"Assigning sides",guard:"isAdmin",actions:{type:"forwardToServer",params:{}},reenter:!1},"assign admin":{target:"Assigning sides",guard:"isAdmin",actions:{type:"forwardToServer",params:{}},reenter:!1}}},"Assigning roles":{description:"All users have been assigned a side, and now the roles will be configured.",initial:"Incomplete",states:{Incomplete:{always:[{target:"Ready",guard:"allRolesAssignedOfSide",description:"All users have been assigned a role.",reenter:!1},{target:"Editing player",guard:"isEditingPlayerOfSide",reenter:!1}]},Ready:{always:{target:"Editing player",guard:"isEditingPlayerOfSide",reenter:!1},on:{"next step":{target:"Ready",guard:"isAdmin",actions:{type:"forwardToServer",params:{}},reenter:!1}}},"Editing player":{description:"Shows a modal where the admin can select the user, role and face image",always:{target:"Incomplete",guard:"isNotEditingPlayerOfSide",reenter:!1},on:{"assign role":{target:"Editing player",guard:"isAdmin",actions:{type:"forwardToServer",params:{}},reenter:!1}}}},always:{target:"Waiting for other side",guard:"finishedAssigningRolesOfSide",reenter:!1},on:{"start editing player":{target:"Assigning roles",guard:"isAdmin",actions:{type:"forwardToServer",params:{}},reenter:!1},"stop editing player":{target:"Assigning roles",guard:"isAdmin",actions:{type:"forwardToServer",params:{}},reenter:!1}}},"Waiting for other side":{}},always:{target:"Playing",guard:"finishedAssigningRoles",reenter:!1}},Playing:{states:{Gameloop:{initial:"Waiting",states:{Waiting:{always:{target:"Playing",guard:"userOnActiveSide",reenter:!1}},Playing:{initial:"Ready to move",states:{"Ready to move":{always:{target:"Ready for action",guard:"playerMoved",reenter:!1},on:{"apply game event":{target:"Ready to move",guard:"userControlsPlayerAndIsMoveEvent",actions:{type:"forwardToServer",params:{}},reenter:!1}}},"Ready for action":{always:{target:"Ready to move",guard:"playerPerformedAction",reenter:!1},on:{"apply game event":{target:"Ready for action",guard:"userControlsPlayerAndIsActionEvent",actions:{type:"forwardToServer",params:{}},reenter:!1}}}},always:{target:"Waiting",guard:"userNotOnActiveSide",reenter:!1}}}},"Global Attack":{initial:"Showing current global attack",states:{"Showing current global attack":{on:{"dismiss global attack":{target:"Dismissed",reenter:!1}}},Dismissed:{on:{"new global attack":{target:"Showing current global attack",reenter:!1},"show global attack":{target:"Showing current global attack",reenter:!1}}}}},Sides:{initial:"Initial",states:{Initial:{always:[{target:"Defense",guard:"userIsDefender",reenter:!1},{target:"Attack",reenter:!1}]},Defense:{states:{"Attacker visibility":{initial:"Invisible",states:{Invisible:{always:{target:"Visible",guard:"attackerShouldBeVisible",reenter:!1}},Visible:{always:{target:"Invisible",guard:"attackerShouldBeInvisible",reenter:!1}}}}},type:"parallel"},Attack:{}},on:{"switch sides":{target:"Sides",guard:"isAdmin",actions:{type:"forwardToServer",params:{}},reenter:!1}}}},always:{target:"Finished",guard:"gameFinished",reenter:!1},type:"parallel"},Finished:{description:"The game finished, but the users can still communicate by sending emojis."},"Server stopped":{type:"final"}},always:{target:".Server stopped",guard:"isServerStopped",reenter:!1},on:{"shared game context update":{target:"#gameClient",actions:{type:"updateSharedGameContext",params:{}},reenter:!1},"send emoji":{target:"#gameClient",actions:{type:"forwardToServer",params:{}},reenter:!1},"show emoji":{actions:{type:"showEmoji",params:{}},reenter:!0}}}),Yi={gameFinished:()=>!1,allSidesAssigned:({context:n})=>n.users.every(e=>e.isSideAssigned)&&!!n.users.find(e=>e.side==="defense"&&e.isAdmin)&&!!n.users.find(e=>e.side==="attack"&&e.isAdmin),finishedAssigningSides:({context:n})=>n.finishedAssigningSides,allRolesAssigned:({context:n})=>n.attack.attacker.isConfigured&&n.defense.defenders.every(e=>e.isConfigured),finishedAssigningRoles:({context:n})=>n.attack.finishedAssigning&&n.defense.finishedAssigning,attackerShouldBeVisible:()=>!1,attackerShouldBeInvisible:()=>!1},es=(n,e)=>{const t=e.users.find(r=>r.id===n);if(!t)throw new Error(`The user with id ${n} was not found.`);return t},ut=n=>es(n.userId,n),wl=n=>n!=="attacker",Al=n=>e=>e.type===n,Se=n=>{const e=n.events,t=[n.attack.attacker,n.defense.defenders[0],n.defense.defenders[1],n.attack.attacker,n.defense.defenders[2],n.defense.defenders[3]],r=t.length*2,l=e.filter(o=>o.finalized),s=Math.floor(l.length/r),a=t[Math.floor(l.length/2)%t.length].id,h=Math.floor(l.length/2)%3===0?"attack":"defense",f=e[e.length-1],u=f&&f.type==="move"&&f.finalized,v=ts(n),i=ns(n);return{currentRound:s,activeSide:h,activePlayerId:a,playerMoved:u,playerPositions:v,defense:{inventory:i.defense},attack:{inventory:i.attack}}},ts=n=>{const e={attacker:n.attack.attacker.originalPosition,defender0:n.defense.defenders[0].originalPosition,defender1:n.defense.defenders[1].originalPosition,defender2:n.defense.defenders[2].originalPosition,defender3:n.defense.defenders[3].originalPosition};return n.events.filter(Al("move")).forEach(t=>e[t.playerId]=t.to),e},ns=n=>{const e=Object.values(vn).map(l=>l.id).filter(pn),t=Object.values(vn).map(l=>l.id).filter(Kl),r={defense:Object.fromEntries(e.map(l=>[l,0])),attack:Object.fromEntries(t.map(l=>[l,0]))};return n.events.filter(Al("collect")).forEach(l=>{pn(l.item)?r.defense[l.item]+=1:r.attack[l.item]+=1}),r},ln=(n,e)=>{if(wl(n)){const t=e.defense.defenders.find(r=>r.id===n);if(!t)throw new Error(`Player ${n} not found in context`);return t}else return e.attack.attacker},rs=({send:n,actions:e})=>Ji.provide({actions:{updateSharedGameContext:bl(({event:t})=>({...t.sharedGameContext})),showEmoji:({event:t})=>{const r=t;e.showEmoji({userId:r.userId,emoji:r.emoji})},forwardToServer:({event:t})=>{const r=t;n({...r,type:`user: ${r.type}`})}},actors:{},guards:{isHost:({context:t})=>t.hostUserId===t.userId,isAdmin:({context:t})=>!!t.users.find(r=>r.id===t.userId&&r.isAdmin),isPlayer:({context:t})=>t.hostUserId!==t.userId,allRolesAssignedOfSide:({context:t})=>{const{side:r}=ut(t);return r?r==="attack"?!!t.attack.attacker:t.defense.defenders.length===4:!1},finishedAssigningRolesOfSide:({context:t})=>{const{side:r}=ut(t);return r?(r==="attack"?t.attack:t.defense).finishedAssigning:!1},isEditingPlayerOfSide:({context:t})=>{const{side:r}=ut(t);return r?(r==="attack"?t.attack:t.defense).editingPlayer!==void 0:!1},isNotEditingPlayerOfSide:wn("isEditingPlayerOfSide"),userControlsPlayer:({context:t})=>{const r=ut(t);return r.isAdmin||r.id===ln(Se(t).activePlayerId,t).userId},isMoveEvent:({event:t})=>t.gameEvent.type==="move",isActionEvent:({event:t})=>t.gameEvent.type!=="move",userControlsPlayerAndIsMoveEvent:An(["userControlsPlayer","isMoveEvent"]),userControlsPlayerAndIsActionEvent:An(["userControlsPlayer","isActionEvent"]),userOnActiveSide:({context:t})=>ut(t).side===Se(t).activeSide,userNotOnActiveSide:wn("userOnActiveSide"),playerMoved:({context:t})=>Se(t).playerMoved,playerPerformedAction:({context:t})=>!Se(t).playerMoved,userIsDefender:()=>!1,isServerStopped:()=>!1,...Yi}}),ls=({gameId:n,userId:e,onMessage:t})=>{const r=Xl({status:"opening",log:[]}),l=(u,v)=>(console.debug("[websocket]",u,v),r.update(i=>({...i,log:[...i.log,`[websocket] ${u}`]}))),s=u=>r.update(v=>({...v,status:u}));let a;const h=()=>{l("connecting");const u=window.location.protocol==="https:"?"wss:":"ws:";a=new WebSocket(`${u}//${window.location.host}/websocket?gameId=${n}&userId=${e}`),a.addEventListener("open",()=>{s("opened"),l("connection open")}),a.addEventListener("close",()=>{s("closed"),l("connection closed")}),a.addEventListener("message",v=>{try{const i=JSON.parse(v.data);i.type!=="mouse position"&&l(`message received: ${v.data}`,v),t(i)}catch(i){l("error parsing message",i)}})},f=u=>{a==null||a.send(JSON.stringify(u))};return{subscribe:r.subscribe,open:h,close:()=>a==null?void 0:a.close(),send:f}};function is(n,e){return n===e}const te=(n,e,t=is)=>{let r,l=e(n.getSnapshot());return tl(l,a=>{const h=f=>{const u=e(f);t(l,u)||(l=u,a(u))};return h(n.getSnapshot()),r=n.subscribe(h),()=>{r.unsubscribe()}})};var x=class{static clamp(n,e,t){return Math.max(e,typeof t<"u"?Math.min(n,t):n)}static clampV(n,e,t){return n.map(r=>t?x.clamp(r,e,t):x.clamp(r,e))}static cross(n,e,t){return(e[0]-n[0])*(t[1]-n[1])-(t[0]-n[0])*(e[1]-n[1])}static snap(n,e=1){return[Math.round(n[0]/e)*e,Math.round(n[1]/e)*e]}},Z=x;Z.neg=n=>[-n[0],-n[1]];Z.add=(n,e)=>[n[0]+e[0],n[1]+e[1]];Z.addScalar=(n,e)=>[n[0]+e,n[1]+e];Z.sub=(n,e)=>[n[0]-e[0],n[1]-e[1]];Z.subScalar=(n,e)=>[n[0]-e,n[1]-e];Z.vec=(n,e)=>[e[0]-n[0],e[1]-n[1]];Z.mul=(n,e)=>[n[0]*e,n[1]*e];Z.mulV=(n,e)=>[n[0]*e[0],n[1]*e[1]];Z.div=(n,e)=>[n[0]/e,n[1]/e];Z.divV=(n,e)=>[n[0]/e[0],n[1]/e[1]];Z.per=n=>[n[1],-n[0]];Z.dpr=(n,e)=>n[0]*e[0]+n[1]*e[1];Z.cpr=(n,e)=>n[0]*e[1]-e[0]*n[1];Z.len2=n=>n[0]*n[0]+n[1]*n[1];Z.len=n=>Math.hypot(n[0],n[1]);Z.pry=(n,e)=>x.dpr(n,e)/x.len(e);Z.uni=n=>x.div(n,x.len(n));Z.normalize=n=>x.uni(n);Z.tangent=(n,e)=>x.uni(x.sub(n,e));Z.dist2=(n,e)=>x.len2(x.sub(n,e));Z.dist=(n,e)=>Math.hypot(n[1]-e[1],n[0]-e[0]);Z.fastDist=(n,e)=>{const t=[e[0]-n[0],e[1]-n[1]],r=[Math.abs(t[0]),Math.abs(t[1])];let l=1/Math.max(r[0],r[1]);return l=l*(1.29289-(r[0]+r[1])*l*.29289),[t[0]*l,t[1]*l]};Z.ang=(n,e)=>Math.atan2(x.cpr(n,e),x.dpr(n,e));Z.angle=(n,e)=>Math.atan2(e[1]-n[1],e[0]-n[0]);Z.med=(n,e)=>x.mul(x.add(n,e),.5);Z.rot=(n,e=0)=>[n[0]*Math.cos(e)-n[1]*Math.sin(e),n[0]*Math.sin(e)+n[1]*Math.cos(e)];Z.rotWith=(n,e,t=0)=>{if(t===0)return n;const r=Math.sin(t),l=Math.cos(t),s=n[0]-e[0],a=n[1]-e[1],h=s*l-a*r,f=s*r+a*l;return[h+e[0],f+e[1]]};Z.isEqual=(n,e)=>n[0]===e[0]&&n[1]===e[1];Z.lrp=(n,e,t)=>x.add(n,x.mul(x.sub(e,n),t));Z.int=(n,e,t,r,l=1)=>{const s=(x.clamp(t,r)-t)/(r-t);return x.add(x.mul(n,1-s),x.mul(e,l))};Z.ang3=(n,e,t)=>{const r=x.vec(e,n),l=x.vec(e,t);return x.ang(r,l)};Z.abs=n=>[Math.abs(n[0]),Math.abs(n[1])];Z.rescale=(n,e)=>{const t=x.len(n);return[e*n[0]/t,e*n[1]/t]};Z.isLeft=(n,e,t)=>(e[0]-n[0])*(t[1]-n[1])-(t[0]-n[0])*(e[1]-n[1]);Z.clockwise=(n,e,t)=>x.isLeft(n,e,t)>0;Z.toFixed=(n,e=2)=>n.map(t=>+t.toFixed(e));Z.nearestPointOnLineThroughPoint=(n,e,t)=>x.add(n,x.mul(e,x.pry(x.sub(t,n),e)));Z.distanceToLineThroughPoint=(n,e,t)=>x.dist(t,x.nearestPointOnLineThroughPoint(n,e,t));Z.nearestPointOnLineSegment=(n,e,t,r=!0)=>{const l=x.uni(x.sub(e,n)),s=x.add(n,x.mul(l,x.pry(x.sub(t,n),l)));if(r){if(s[0]<Math.min(n[0],e[0]))return n[0]<e[0]?n:e;if(s[0]>Math.max(n[0],e[0]))return n[0]>e[0]?n:e;if(s[1]<Math.min(n[1],e[1]))return n[1]<e[1]?n:e;if(s[1]>Math.max(n[1],e[1]))return n[1]>e[1]?n:e}return s};Z.distanceToLineSegment=(n,e,t,r=!0)=>x.dist(t,x.nearestPointOnLineSegment(n,e,t,r));Z.nudge=(n,e,t)=>x.isEqual(n,e)?n:x.add(n,x.mul(x.uni(x.sub(e,n)),t));Z.nudgeAtAngle=(n,e,t)=>[Math.cos(e)*t+n[0],Math.sin(e)*t+n[1]];Z.toPrecision=(n,e=4)=>[+n[0].toPrecision(e),+n[1].toPrecision(e)];Z.pointsBetween=(n,e,t=6)=>Array.from(Array(t)).map((r,l)=>{const s=l/(t-1),a=Math.min(1,.5+Math.abs(.5-s));return[...x.lrp(n,e,s),a]});Z.slope=(n,e)=>n[0]===e[0]?NaN:(n[1]-e[1])/(n[0]-e[0]);Z.max=(...n)=>[Math.max(...n.map(e=>e[0])),Math.max(...n.map(e=>e[1]))];Z.min=(...n)=>[Math.max(...n.map(e=>e[0])),Math.max(...n.map(e=>e[1]))];var ss=class{constructor(n=[]){this.points=[],this.lengths=[],this.totalLength=0,this.addPoint=e=>{if(this.prev){const t=Z.dist(this.prev,e);this.lengths.push(t),this.totalLength+=t,this.points.push(e)}this.prev=e},this.clear=()=>{this.points=this.prev?[this.prev]:[],this.totalLength=0},this.getSplinePoint=e=>{const{points:t}=this,r=t.length-1,l=Math.trunc(e),s=Math.min(l+1,r),a=Math.min(s+1,r),h=Math.min(a+1,r),f=s-1,u=e-l,v=u*u,i=v*u,o=-i+2*v-u,c=3*i-5*v+2,d=-3*i+4*v+u,m=i-v;return[(t[f][0]*o+t[s][0]*c+t[a][0]*d+t[h][0]*m)/2,(t[f][1]*o+t[s][1]*c+t[a][1]*d+t[h][1]*m)/2]},this.points=n,this.lengths=n.map((e,t,r)=>t===0?0:Z.dist(e,r[t-1])),this.totalLength=this.lengths.reduce((e,t)=>e+t,0)}},V1=class{constructor(n){this.state="idle",this.queue=[],this.timestamp=performance.now(),this.lastRequestId=0,this.timeoutId=0,this.spline=new ss,this.addPoint=e=>{clearTimeout(this.timeoutId);const t=performance.now(),r=Math.min(t-this.timestamp,V1.MAX_INTERVAL);if(!this.prevPoint){this.spline.clear(),this.prevPoint=e,this.spline.addPoint(e),this.cb(e),this.state="stopped";return}if(this.state==="stopped"){if(Z.dist(this.prevPoint,e)<4){this.cb(e);return}this.spline.clear(),this.spline.addPoint(this.prevPoint),this.spline.addPoint(this.prevPoint),this.spline.addPoint(e),this.state="idle"}else this.spline.addPoint(e);if(r<16){this.prevPoint=e,this.timestamp=t,this.cb(e);return}const l={start:this.spline.points.length-3,from:this.prevPoint,to:e,duration:r};switch(this.prevPoint=e,this.timestamp=t,this.state){case"idle":{this.state="animating",this.animateNext(l);break}case"animating":{this.queue.push(l);break}}},this.animateNext=e=>{const t=performance.now(),r=()=>{const l=(performance.now()-t)/e.duration;if(l<=1&&this.spline.points.length>0){try{this.cb(this.spline.getSplinePoint(l+e.start))}catch(a){console.warn(a)}this.lastRequestId=requestAnimationFrame(r);return}const s=this.queue.shift();s?(this.state="animating",this.animateNext(s)):(this.state="idle",this.timeoutId=setTimeout(()=>{this.state="stopped"},V1.MAX_INTERVAL))};r()},this.dispose=()=>{clearTimeout(this.timeoutId)},this.cb=n}},Sl=V1;Sl.MAX_INTERVAL=300;function as(n){let e,t,r,l,s,a=n[0].name+"",h;return{c(){e=F("div"),t=O("svg"),r=O("path"),l=G(),s=F("span"),h=X(a),this.h()},l(f){e=R(f,"DIV",{class:!0});var u=T(e);t=D(u,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,"stroke-width":!0,stroke:!0,fill:!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var v=T(t);r=D(v,"path",{d:!0}),T(r).forEach(y),v.forEach(y),l=V(u),s=R(u,"SPAN",{class:!0});var i=T(s);h=K(i,a),i.forEach(y),u.forEach(y),this.h()},h(){g(r,"d","M7.904 17.563a1.2 1.2 0 0 0 2.228 .308l2.09 -3.093l4.907 4.907a1.067 1.067 0 0 0 1.509 0l1.047 -1.047a1.067 1.067 0 0 0 0 -1.509l-4.907 -4.907l3.113 -2.09a1.2 1.2 0 0 0 -.309 -2.228l-13.582 -3.904l3.904 13.563z"),g(t,"xmlns","http://www.w3.org/2000/svg"),g(t,"width","44"),g(t,"height","44"),g(t,"viewBox","0 0 24 24"),g(t,"stroke-width","1.5"),g(t,"stroke","#2c3e50"),g(t,"fill","white"),g(t,"stroke-linecap","round"),g(t,"stroke-linejoin","round"),g(t,"class","svelte-7ubvy1"),g(s,"class","name svelte-7ubvy1"),g(e,"class","cursor svelte-7ubvy1")},m(f,u){j(f,e,u),w(e,t),w(t,r),w(e,l),w(e,s),w(s,h),n[3](e)},p(f,[u]){u&1&&a!==(a=f[0].name+"")&&me(h,a)},i:se,o:se,d(f){f&&y(e),n[3](null)}}}function os(n,e,t){let{position:r}=e,l,s;Yr(()=>(t(2,l=new Sl(([h,f])=>{s.style.setProperty("translate",`${h}px ${f}px`)})),()=>{l==null||l.dispose()}));function a(h){y1[h?"unshift":"push"](()=>{s=h,t(1,s)})}return n.$$set=h=>{"position"in h&&t(0,r=h.position)},n.$$.update=()=>{n.$$.dirty&5&&(l==null||l.addPoint(r.position))},[r,s,l,a]}class cs extends fe{constructor(e){super(),he(this,e,os,as,ue,{position:0})}}function Mn(n,e,t){const r=n.slice();return r[11]=e[t],r}function Pn(n,e){let t,r,l;return r=new cs({props:{position:e[11]}}),{key:n,first:null,c(){t=de(),N(r.$$.fragment),this.h()},l(s){t=de(),q(r.$$.fragment,s),this.h()},h(){this.first=t},m(s,a){j(s,t,a),U(r,s,a),l=!0},p(s,a){e=s;const h={};a&4&&(h.position=e[11]),r.$set(h)},i(s){l||(I(r.$$.fragment,s),l=!0)},o(s){P(r.$$.fragment,s),l=!1},d(s){s&&y(t),W(r,s)}}}function us(n){let e,t=[],r=new Map,l,s,a=ee(n[2]);const h=f=>f[11].id;for(let f=0;f<a.length;f+=1){let u=Mn(n,a,f),v=h(u);r.set(v,t[f]=Pn(v,u))}return{c(){e=F("div");for(let f=0;f<t.length;f+=1)t[f].c();this.h()},l(f){e=R(f,"DIV",{class:!0});var u=T(e);for(let v=0;v<t.length;v+=1)t[v].l(u);u.forEach(y),this.h()},h(){g(e,"class","cursor-overlays svelte-1n4ax7h"),K1(()=>n[7].call(e))},m(f,u){j(f,e,u);for(let v=0;v<t.length;v+=1)t[v]&&t[v].m(e,null);l=el(e,n[7].bind(e)),s=!0},p(f,[u]){u&4&&(a=ee(f[2]),le(),t=nl(t,u,h,1,f,a,r,e,rl,Pn,null,Mn),ie())},i(f){if(!s){for(let u=0;u<a.length;u+=1)I(t[u]);s=!0}},o(f){for(let u=0;u<t.length;u+=1)P(t[u]);s=!1},d(f){f&&y(e);for(let u=0;u<t.length;u+=1)t[u].d();l()}}}function fs(n,e,t){let r,l,s,{mousePositions:a={}}=e;const{user:h,machine:f}=ke();J(n,h,d=>t(8,s=d));let u=1,v=1;const i=te(f.service,d=>{const m=d.matches("Lobby.Assigning sides")||d.matches("Finished"),_=d.context.users.filter(p=>p.isConnected);return m?_:_.filter(p=>p.side===s.side)});J(n,i,d=>t(6,l=d));const o=(d,m)=>d.filter(_=>_.isConnected&&!!m[_.id]).map(_=>{const p=m[_.id];return{id:_.id,name:_.name,position:[p[0]*u,p[1]*v]}});function c(){u=this.clientWidth,v=this.clientHeight,t(0,u),t(1,v)}return n.$$set=d=>{"mousePositions"in d&&t(5,a=d.mousePositions)},n.$$.update=()=>{n.$$.dirty&96&&t(2,r=o(l,a))},[u,v,r,h,i,a,l,c]}class hs extends fe{constructor(e){super(),he(this,e,fs,us,ue,{mousePositions:5})}}function ds(n){const e=n-1;return e*e*e+1}function vs(n,{delay:e=0,duration:t=400,easing:r=Nl}={}){const l=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:r,css:s=>`opacity: ${s*l}`}}function ps(n,{delay:e=0,duration:t=400,easing:r=ds,start:l=0,opacity:s=0}={}){const a=getComputedStyle(n),h=+a.opacity,f=a.transform==="none"?"":a.transform,u=1-l,v=h*(1-s);return{delay:e,duration:t,easing:r,css:(i,o)=>`
			transform: ${f} scale(${1-u*o});
			opacity: ${h-v*o}
		`}}function On(n,e,t){const r=n.slice();return r[10]=e[t],r}function Dn(n,e,t){const r=n.slice();return r[1]=e[t][0],r[10]=e[t][1],r}function jn(n,e){let t,r,l=e[10].emoji+"",s,a,h,f=e[10].userName+"",u,v,i,o,c,d;function m(){return e[6](e[1])}return{key:n,first:null,c(){t=F("div"),r=F("span"),s=X(l),a=G(),h=F("span"),u=X(f),this.h()},l(_){t=R(_,"DIV",{class:!0});var p=T(t);r=R(p,"SPAN",{class:!0});var b=T(r);s=K(b,l),b.forEach(y),a=V(p),h=R(p,"SPAN",{class:!0});var k=T(h);u=K(k,f),k.forEach(y),p.forEach(y),this.h()},h(){g(r,"class","emjoi"),g(h,"class","name svelte-15c2n3p"),g(t,"class","displayed-emoji svelte-15c2n3p"),Ae(t,"--_x",e[10].position[0]),Ae(t,"--_y",e[10].position[1]),this.first=t},m(_,p){j(_,t,p),w(t,r),w(r,s),w(t,a),w(t,h),w(h,u),o=!0,c||(d=De(t,"introend",m),c=!0)},p(_,p){e=_,(!o||p&1)&&l!==(l=e[10].emoji+"")&&me(s,l),(!o||p&1)&&f!==(f=e[10].userName+"")&&me(u,f),p&1&&Ae(t,"--_x",e[10].position[0]),p&1&&Ae(t,"--_y",e[10].position[1])},i(_){o||(_&&K1(()=>{o&&(i&&i.end(1),v=Ul(t,ps,{duration:200,start:.4}),v.start())}),o=!0)},o(_){v&&v.invalidate(),_&&(i=Wl(t,vs,{})),o=!1},d(_){_&&y(t),_&&i&&i.end(),c=!1,d()}}}function Cn(n){let e,t=n[10]+"",r,l,s;function a(){return n[7](n[10])}return{c(){e=F("button"),r=X(t),this.h()},l(h){e=R(h,"BUTTON",{class:!0});var f=T(e);r=K(f,t),f.forEach(y),this.h()},h(){g(e,"class","emoji svelte-15c2n3p")},m(h,f){j(h,e,f),w(e,r),l||(s=De(e,"click",a),l=!0)},p(h,f){n=h},d(h){h&&y(e),l=!1,s()}}}function _s(n){let e,t=[],r=new Map,l,s,a=ee(Object.entries(n[0]));const h=v=>v[1];for(let v=0;v<a.length;v+=1){let i=Dn(n,a,v),o=h(i);r.set(o,t[v]=jn(o,i))}let f=ee(n[3]),u=[];for(let v=0;v<f.length;v+=1)u[v]=Cn(On(n,f,v));return{c(){e=F("div");for(let v=0;v<t.length;v+=1)t[v].c();l=G();for(let v=0;v<u.length;v+=1)u[v].c();this.h()},l(v){e=R(v,"DIV",{class:!0});var i=T(e);for(let o=0;o<t.length;o+=1)t[o].l(i);l=V(i);for(let o=0;o<u.length;o+=1)u[o].l(i);i.forEach(y),this.h()},h(){g(e,"class","emojis svelte-15c2n3p")},m(v,i){j(v,e,i);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(e,null);w(e,l);for(let o=0;o<u.length;o+=1)u[o]&&u[o].m(e,null);s=!0},p(v,[i]){if(i&1&&(a=ee(Object.entries(v[0])),le(),t=nl(t,i,h,1,v,a,r,e,rl,jn,l,Dn),ie()),i&24){f=ee(v[3]);let o;for(o=0;o<f.length;o+=1){const c=On(v,f,o);u[o]?u[o].p(c,i):(u[o]=Cn(c),u[o].c(),u[o].m(e,null))}for(;o<u.length;o+=1)u[o].d(1);u.length=f.length}},i(v){if(!s){for(let i=0;i<a.length;i+=1)I(t[i]);s=!0}},o(v){for(let i=0;i<t.length;i+=1)P(t[i]);s=!1},d(v){v&&y(e);for(let i=0;i<t.length;i+=1)t[i].d();ge(u,v)}}}function ms(n,e,t){let r;const l=ke(),s=te(l.machine.service,c=>c.context.users);J(n,s,c=>t(8,r=c));const a=["👋","👍","👏","😃","🧠","🤔"],h=c=>{l.machine.send({type:"send emoji",emoji:c}),v({userId:l.userId,emoji:c})};let f={},u=0;const v=({userId:c,emoji:d})=>{var _;const m=((_=r.find(p=>p.id===c))==null?void 0:_.name)??"Unknown";t(0,f[`${t(1,u++,u)}`]={emoji:d,userName:m,position:[Math.random(),Math.random()]},f),t(0,f),t(1,u++,u)};return[f,u,s,a,h,v,c=>{setTimeout(()=>{delete f[c],t(0,f)},2e3)},c=>h(c)]}class gs extends fe{constructor(e){super(),he(this,e,ms,_s,ue,{showEmoji:5})}get showEmoji(){return this.$$.ctx[5]}}const i1=n=>Object.entries(n);var Pe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tl(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function ys(){this.__data__=[],this.size=0}var bs=ys;function $s(n,e){return n===e||n!==n&&e!==e}var kl=$s,ws=kl;function As(n,e){for(var t=n.length;t--;)if(ws(n[t][0],e))return t;return-1}var T1=As,Ss=T1,Ts=Array.prototype,ks=Ts.splice;function Es(n){var e=this.__data__,t=Ss(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():ks.call(e,t,1),--this.size,!0}var Is=Es,Ms=T1;function Ps(n){var e=this.__data__,t=Ms(e,n);return t<0?void 0:e[t][1]}var Os=Ps,Ds=T1;function js(n){return Ds(this.__data__,n)>-1}var Cs=js,Ls=T1;function Zs(n,e){var t=this.__data__,r=Ls(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}var Hs=Zs,xs=bs,Fs=Is,Rs=Os,Bs=Cs,Gs=Hs;function _t(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}_t.prototype.clear=xs;_t.prototype.delete=Fs;_t.prototype.get=Rs;_t.prototype.has=Bs;_t.prototype.set=Gs;var k1=_t,Vs=k1;function Ns(){this.__data__=new Vs,this.size=0}var qs=Ns;function Us(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}var Ws=Us;function Xs(n){return this.__data__.get(n)}var Ks=Xs;function Qs(n){return this.__data__.has(n)}var zs=Qs,Js=typeof Pe=="object"&&Pe&&Pe.Object===Object&&Pe,El=Js,Ys=El,ea=typeof self=="object"&&self&&self.Object===Object&&self,ta=Ys||ea||Function("return this")(),Ee=ta,na=Ee,ra=na.Symbol,sn=ra,Ln=sn,Il=Object.prototype,la=Il.hasOwnProperty,ia=Il.toString,Qt=Ln?Ln.toStringTag:void 0;function sa(n){var e=la.call(n,Qt),t=n[Qt];try{n[Qt]=void 0;var r=!0}catch{}var l=ia.call(n);return r&&(e?n[Qt]=t:delete n[Qt]),l}var aa=sa,oa=Object.prototype,ca=oa.toString;function ua(n){return ca.call(n)}var fa=ua,Zn=sn,ha=aa,da=fa,va="[object Null]",pa="[object Undefined]",Hn=Zn?Zn.toStringTag:void 0;function _a(n){return n==null?n===void 0?pa:va:Hn&&Hn in Object(n)?ha(n):da(n)}var n1=_a;function ma(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var r1=ma,ga=n1,ya=r1,ba="[object AsyncFunction]",$a="[object Function]",wa="[object GeneratorFunction]",Aa="[object Proxy]";function Sa(n){if(!ya(n))return!1;var e=ga(n);return e==$a||e==wa||e==ba||e==Aa}var Ml=Sa,Ta=Ee,ka=Ta["__core-js_shared__"],Ea=ka,O1=Ea,xn=function(){var n=/[^.]+$/.exec(O1&&O1.keys&&O1.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function Ia(n){return!!xn&&xn in n}var Ma=Ia,Pa=Function.prototype,Oa=Pa.toString;function Da(n){if(n!=null){try{return Oa.call(n)}catch{}try{return n+""}catch{}}return""}var Pl=Da,ja=Ml,Ca=Ma,La=r1,Za=Pl,Ha=/[\\^$.*+?()[\]{}|]/g,xa=/^\[object .+?Constructor\]$/,Fa=Function.prototype,Ra=Object.prototype,Ba=Fa.toString,Ga=Ra.hasOwnProperty,Va=RegExp("^"+Ba.call(Ga).replace(Ha,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Na(n){if(!La(n)||Ca(n))return!1;var e=ja(n)?Va:xa;return e.test(Za(n))}var qa=Na;function Ua(n,e){return n==null?void 0:n[e]}var Wa=Ua,Xa=qa,Ka=Wa;function Qa(n,e){var t=Ka(n,e);return Xa(t)?t:void 0}var mt=Qa,za=mt,Ja=Ee,Ya=za(Ja,"Map"),an=Ya,eo=mt,to=eo(Object,"create"),E1=to,Fn=E1;function no(){this.__data__=Fn?Fn(null):{},this.size=0}var ro=no;function lo(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var io=lo,so=E1,ao="__lodash_hash_undefined__",oo=Object.prototype,co=oo.hasOwnProperty;function uo(n){var e=this.__data__;if(so){var t=e[n];return t===ao?void 0:t}return co.call(e,n)?e[n]:void 0}var fo=uo,ho=E1,vo=Object.prototype,po=vo.hasOwnProperty;function _o(n){var e=this.__data__;return ho?e[n]!==void 0:po.call(e,n)}var mo=_o,go=E1,yo="__lodash_hash_undefined__";function bo(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=go&&e===void 0?yo:e,this}var $o=bo,wo=ro,Ao=io,So=fo,To=mo,ko=$o;function gt(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}gt.prototype.clear=wo;gt.prototype.delete=Ao;gt.prototype.get=So;gt.prototype.has=To;gt.prototype.set=ko;var Eo=gt,Rn=Eo,Io=k1,Mo=an;function Po(){this.size=0,this.__data__={hash:new Rn,map:new(Mo||Io),string:new Rn}}var Oo=Po;function Do(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}var jo=Do,Co=jo;function Lo(n,e){var t=n.__data__;return Co(e)?t[typeof e=="string"?"string":"hash"]:t.map}var I1=Lo,Zo=I1;function Ho(n){var e=Zo(this,n).delete(n);return this.size-=e?1:0,e}var xo=Ho,Fo=I1;function Ro(n){return Fo(this,n).get(n)}var Bo=Ro,Go=I1;function Vo(n){return Go(this,n).has(n)}var No=Vo,qo=I1;function Uo(n,e){var t=qo(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}var Wo=Uo,Xo=Oo,Ko=xo,Qo=Bo,zo=No,Jo=Wo;function yt(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}yt.prototype.clear=Xo;yt.prototype.delete=Ko;yt.prototype.get=Qo;yt.prototype.has=zo;yt.prototype.set=Jo;var Ol=yt,Yo=k1,e2=an,t2=Ol,n2=200;function r2(n,e){var t=this.__data__;if(t instanceof Yo){var r=t.__data__;if(!e2||r.length<n2-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new t2(r)}return t.set(n,e),this.size=t.size,this}var l2=r2,i2=k1,s2=qs,a2=Ws,o2=Ks,c2=zs,u2=l2;function bt(n){var e=this.__data__=new i2(n);this.size=e.size}bt.prototype.clear=s2;bt.prototype.delete=a2;bt.prototype.get=o2;bt.prototype.has=c2;bt.prototype.set=u2;var f2=bt,h2="__lodash_hash_undefined__";function d2(n){return this.__data__.set(n,h2),this}var v2=d2;function p2(n){return this.__data__.has(n)}var _2=p2,m2=Ol,g2=v2,y2=_2;function _1(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new m2;++e<t;)this.add(n[e])}_1.prototype.add=_1.prototype.push=g2;_1.prototype.has=y2;var b2=_1;function $2(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}var w2=$2;function A2(n,e){return n.has(e)}var S2=A2,T2=b2,k2=w2,E2=S2,I2=1,M2=2;function P2(n,e,t,r,l,s){var a=t&I2,h=n.length,f=e.length;if(h!=f&&!(a&&f>h))return!1;var u=s.get(n),v=s.get(e);if(u&&v)return u==e&&v==n;var i=-1,o=!0,c=t&M2?new T2:void 0;for(s.set(n,e),s.set(e,n);++i<h;){var d=n[i],m=e[i];if(r)var _=a?r(m,d,i,e,n,s):r(d,m,i,n,e,s);if(_!==void 0){if(_)continue;o=!1;break}if(c){if(!k2(e,function(p,b){if(!E2(c,b)&&(d===p||l(d,p,t,r,s)))return c.push(b)})){o=!1;break}}else if(!(d===m||l(d,m,t,r,s))){o=!1;break}}return s.delete(n),s.delete(e),o}var Dl=P2,O2=Ee,D2=O2.Uint8Array,j2=D2;function C2(n){var e=-1,t=Array(n.size);return n.forEach(function(r,l){t[++e]=[l,r]}),t}var L2=C2;function Z2(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var H2=Z2,Bn=sn,Gn=j2,x2=kl,F2=Dl,R2=L2,B2=H2,G2=1,V2=2,N2="[object Boolean]",q2="[object Date]",U2="[object Error]",W2="[object Map]",X2="[object Number]",K2="[object RegExp]",Q2="[object Set]",z2="[object String]",J2="[object Symbol]",Y2="[object ArrayBuffer]",ec="[object DataView]",Vn=Bn?Bn.prototype:void 0,D1=Vn?Vn.valueOf:void 0;function tc(n,e,t,r,l,s,a){switch(t){case ec:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case Y2:return!(n.byteLength!=e.byteLength||!s(new Gn(n),new Gn(e)));case N2:case q2:case X2:return x2(+n,+e);case U2:return n.name==e.name&&n.message==e.message;case K2:case z2:return n==e+"";case W2:var h=R2;case Q2:var f=r&G2;if(h||(h=B2),n.size!=e.size&&!f)return!1;var u=a.get(n);if(u)return u==e;r|=V2,a.set(n,e);var v=F2(h(n),h(e),r,l,s,a);return a.delete(n),v;case J2:if(D1)return D1.call(n)==D1.call(e)}return!1}var nc=tc;function rc(n,e){for(var t=-1,r=e.length,l=n.length;++t<r;)n[l+t]=e[t];return n}var lc=rc,ic=Array.isArray,on=ic,sc=lc,ac=on;function oc(n,e,t){var r=e(n);return ac(n)?r:sc(r,t(n))}var cc=oc;function uc(n,e){for(var t=-1,r=n==null?0:n.length,l=0,s=[];++t<r;){var a=n[t];e(a,t,n)&&(s[l++]=a)}return s}var fc=uc;function hc(){return[]}var dc=hc,vc=fc,pc=dc,_c=Object.prototype,mc=_c.propertyIsEnumerable,Nn=Object.getOwnPropertySymbols,gc=Nn?function(n){return n==null?[]:(n=Object(n),vc(Nn(n),function(e){return mc.call(n,e)}))}:pc,yc=gc;function bc(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var $c=bc;function wc(n){return n!=null&&typeof n=="object"}var l1=wc,Ac=n1,Sc=l1,Tc="[object Arguments]";function kc(n){return Sc(n)&&Ac(n)==Tc}var Ec=kc,qn=Ec,Ic=l1,jl=Object.prototype,Mc=jl.hasOwnProperty,Pc=jl.propertyIsEnumerable,Oc=qn(function(){return arguments}())?qn:function(n){return Ic(n)&&Mc.call(n,"callee")&&!Pc.call(n,"callee")},Dc=Oc,m1={exports:{}};function jc(){return!1}var Cc=jc;m1.exports;(function(n,e){var t=Ee,r=Cc,l=e&&!e.nodeType&&e,s=l&&!0&&n&&!n.nodeType&&n,a=s&&s.exports===l,h=a?t.Buffer:void 0,f=h?h.isBuffer:void 0,u=f||r;n.exports=u})(m1,m1.exports);var Cl=m1.exports,Lc=9007199254740991,Zc=/^(?:0|[1-9]\d*)$/;function Hc(n,e){var t=typeof n;return e=e??Lc,!!e&&(t=="number"||t!="symbol"&&Zc.test(n))&&n>-1&&n%1==0&&n<e}var xc=Hc,Fc=9007199254740991;function Rc(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=Fc}var Ll=Rc,Bc=n1,Gc=Ll,Vc=l1,Nc="[object Arguments]",qc="[object Array]",Uc="[object Boolean]",Wc="[object Date]",Xc="[object Error]",Kc="[object Function]",Qc="[object Map]",zc="[object Number]",Jc="[object Object]",Yc="[object RegExp]",eu="[object Set]",tu="[object String]",nu="[object WeakMap]",ru="[object ArrayBuffer]",lu="[object DataView]",iu="[object Float32Array]",su="[object Float64Array]",au="[object Int8Array]",ou="[object Int16Array]",cu="[object Int32Array]",uu="[object Uint8Array]",fu="[object Uint8ClampedArray]",hu="[object Uint16Array]",du="[object Uint32Array]",re={};re[iu]=re[su]=re[au]=re[ou]=re[cu]=re[uu]=re[fu]=re[hu]=re[du]=!0;re[Nc]=re[qc]=re[ru]=re[Uc]=re[lu]=re[Wc]=re[Xc]=re[Kc]=re[Qc]=re[zc]=re[Jc]=re[Yc]=re[eu]=re[tu]=re[nu]=!1;function vu(n){return Vc(n)&&Gc(n.length)&&!!re[Bc(n)]}var pu=vu;function _u(n){return function(e){return n(e)}}var mu=_u,g1={exports:{}};g1.exports;(function(n,e){var t=El,r=e&&!e.nodeType&&e,l=r&&!0&&n&&!n.nodeType&&n,s=l&&l.exports===r,a=s&&t.process,h=function(){try{var f=l&&l.require&&l.require("util").types;return f||a&&a.binding&&a.binding("util")}catch{}}();n.exports=h})(g1,g1.exports);var gu=g1.exports,yu=pu,bu=mu,Un=gu,Wn=Un&&Un.isTypedArray,$u=Wn?bu(Wn):yu,Zl=$u,wu=$c,Au=Dc,Su=on,Tu=Cl,ku=xc,Eu=Zl,Iu=Object.prototype,Mu=Iu.hasOwnProperty;function Pu(n,e){var t=Su(n),r=!t&&Au(n),l=!t&&!r&&Tu(n),s=!t&&!r&&!l&&Eu(n),a=t||r||l||s,h=a?wu(n.length,String):[],f=h.length;for(var u in n)(e||Mu.call(n,u))&&!(a&&(u=="length"||l&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||ku(u,f)))&&h.push(u);return h}var Ou=Pu,Du=Object.prototype;function ju(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||Du;return n===t}var Cu=ju;function Lu(n,e){return function(t){return n(e(t))}}var Zu=Lu,Hu=Zu,xu=Hu(Object.keys,Object),Fu=xu,Ru=Cu,Bu=Fu,Gu=Object.prototype,Vu=Gu.hasOwnProperty;function Nu(n){if(!Ru(n))return Bu(n);var e=[];for(var t in Object(n))Vu.call(n,t)&&t!="constructor"&&e.push(t);return e}var qu=Nu,Uu=Ml,Wu=Ll;function Xu(n){return n!=null&&Wu(n.length)&&!Uu(n)}var Ku=Xu,Qu=Ou,zu=qu,Ju=Ku;function Yu(n){return Ju(n)?Qu(n):zu(n)}var ef=Yu,tf=cc,nf=yc,rf=ef;function lf(n){return tf(n,rf,nf)}var sf=lf,Xn=sf,af=1,of=Object.prototype,cf=of.hasOwnProperty;function uf(n,e,t,r,l,s){var a=t&af,h=Xn(n),f=h.length,u=Xn(e),v=u.length;if(f!=v&&!a)return!1;for(var i=f;i--;){var o=h[i];if(!(a?o in e:cf.call(e,o)))return!1}var c=s.get(n),d=s.get(e);if(c&&d)return c==e&&d==n;var m=!0;s.set(n,e),s.set(e,n);for(var _=a;++i<f;){o=h[i];var p=n[o],b=e[o];if(r)var k=a?r(b,p,o,e,n,s):r(p,b,o,n,e,s);if(!(k===void 0?p===b||l(p,b,t,r,s):k)){m=!1;break}_||(_=o=="constructor")}if(m&&!_){var $=n.constructor,A=e.constructor;$!=A&&"constructor"in n&&"constructor"in e&&!(typeof $=="function"&&$ instanceof $&&typeof A=="function"&&A instanceof A)&&(m=!1)}return s.delete(n),s.delete(e),m}var ff=uf,hf=mt,df=Ee,vf=hf(df,"DataView"),pf=vf,_f=mt,mf=Ee,gf=_f(mf,"Promise"),yf=gf,bf=mt,$f=Ee,wf=bf($f,"Set"),Af=wf,Sf=mt,Tf=Ee,kf=Sf(Tf,"WeakMap"),Ef=kf,N1=pf,q1=an,U1=yf,W1=Af,X1=Ef,Hl=n1,$t=Pl,Kn="[object Map]",If="[object Object]",Qn="[object Promise]",zn="[object Set]",Jn="[object WeakMap]",Yn="[object DataView]",Mf=$t(N1),Pf=$t(q1),Of=$t(U1),Df=$t(W1),jf=$t(X1),Fe=Hl;(N1&&Fe(new N1(new ArrayBuffer(1)))!=Yn||q1&&Fe(new q1)!=Kn||U1&&Fe(U1.resolve())!=Qn||W1&&Fe(new W1)!=zn||X1&&Fe(new X1)!=Jn)&&(Fe=function(n){var e=Hl(n),t=e==If?n.constructor:void 0,r=t?$t(t):"";if(r)switch(r){case Mf:return Yn;case Pf:return Kn;case Of:return Qn;case Df:return zn;case jf:return Jn}return e});var Cf=Fe,j1=f2,Lf=Dl,Zf=nc,Hf=ff,er=Cf,tr=on,nr=Cl,xf=Zl,Ff=1,rr="[object Arguments]",lr="[object Array]",s1="[object Object]",Rf=Object.prototype,ir=Rf.hasOwnProperty;function Bf(n,e,t,r,l,s){var a=tr(n),h=tr(e),f=a?lr:er(n),u=h?lr:er(e);f=f==rr?s1:f,u=u==rr?s1:u;var v=f==s1,i=u==s1,o=f==u;if(o&&nr(n)){if(!nr(e))return!1;a=!0,v=!1}if(o&&!v)return s||(s=new j1),a||xf(n)?Lf(n,e,t,r,l,s):Zf(n,e,f,t,r,l,s);if(!(t&Ff)){var c=v&&ir.call(n,"__wrapped__"),d=i&&ir.call(e,"__wrapped__");if(c||d){var m=c?n.value():n,_=d?e.value():e;return s||(s=new j1),l(m,_,t,r,s)}}return o?(s||(s=new j1),Hf(n,e,t,r,l,s)):!1}var Gf=Bf,Vf=Gf,sr=l1;function xl(n,e,t,r,l){return n===e?!0:n==null||e==null||!sr(n)&&!sr(e)?n!==n&&e!==e:Vf(n,e,t,r,xl,l)}var Nf=xl,qf=Nf;function Uf(n,e){return qf(n,e)}var Wf=Uf;const we=Tl(Wf);function ar(n,e,t){const r=n.slice();return r[9]=e[t][0],r[10]=e[t][1],r}function or(n,e,t){const r=n.slice();return r[9]=e[t][0],r[10]=e[t][1],r}function cr(n){let e,t,r,l=n[10]+"",s,a;return t=new Q1({props:{itemId:n[9]}}),{c(){e=F("div"),N(t.$$.fragment),r=X(": "),s=X(l)},l(h){e=R(h,"DIV",{});var f=T(e);q(t.$$.fragment,f),r=K(f,": "),s=K(f,l),f.forEach(y)},m(h,f){j(h,e,f),U(t,e,null),w(e,r),w(e,s),a=!0},p(h,f){const u={};f&2&&(u.itemId=h[9]),t.$set(u),(!a||f&2)&&l!==(l=h[10]+"")&&me(s,l)},i(h){a||(I(t.$$.fragment,h),a=!0)},o(h){P(t.$$.fragment,h),a=!1},d(h){h&&y(e),W(t)}}}function ur(n){let e,t,r=n[10]>0&&cr(n);return{c(){r&&r.c(),e=de()},l(l){r&&r.l(l),e=de()},m(l,s){r&&r.m(l,s),j(l,e,s),t=!0},p(l,s){l[10]>0?r?(r.p(l,s),s&2&&I(r,1)):(r=cr(l),r.c(),I(r,1),r.m(e.parentNode,e)):r&&(le(),P(r,1,1,()=>{r=null}),ie())},i(l){t||(I(r),t=!0)},o(l){P(r),t=!1},d(l){l&&y(e),r&&r.d(l)}}}function fr(n){let e,t,r,l=n[10]+"",s,a;return t=new Q1({props:{itemId:n[9]}}),{c(){e=F("div"),N(t.$$.fragment),r=X(": "),s=X(l)},l(h){e=R(h,"DIV",{});var f=T(e);q(t.$$.fragment,f),r=K(f,": "),s=K(f,l),f.forEach(y)},m(h,f){j(h,e,f),U(t,e,null),w(e,r),w(e,s),a=!0},p(h,f){const u={};f&2&&(u.itemId=h[9]),t.$set(u),(!a||f&2)&&l!==(l=h[10]+"")&&me(s,l)},i(h){a||(I(t.$$.fragment,h),a=!0)},o(h){P(t.$$.fragment,h),a=!1},d(h){h&&y(e),W(t)}}}function hr(n){let e,t,r=n[10]>0&&fr(n);return{c(){r&&r.c(),e=de()},l(l){r&&r.l(l),e=de()},m(l,s){r&&r.m(l,s),j(l,e,s),t=!0},p(l,s){l[10]>0?r?(r.p(l,s),s&2&&I(r,1)):(r=fr(l),r.c(),I(r,1),r.m(e.parentNode,e)):r&&(le(),P(r,1,1,()=>{r=null}),ie())},i(l){t||(I(r),t=!0)},o(l){P(r),t=!1},d(l){l&&y(e),r&&r.d(l)}}}function dr(n){let e,t="Collect item",r,l;return{c(){e=F("button"),e.textContent=t},l(s){e=R(s,"BUTTON",{"data-svelte-h":!0}),Ze(e)!=="svelte-10hxpqw"&&(e.textContent=t)},m(s,a){j(s,e,a),r||(l=De(e,"click",n[5]),r=!0)},p:se,d(s){s&&y(e),r=!1,l()}}}function Xf(n){let e,t=n[0]+1+"",r,l,s,a,h,f,u=ee(i1(n[1].defense)),v=[];for(let _=0;_<u.length;_+=1)v[_]=ur(or(n,u,_));const i=_=>P(v[_],1,1,()=>{v[_]=null});let o=ee(i1(n[1].attack)),c=[];for(let _=0;_<o.length;_+=1)c[_]=hr(ar(n,o,_));const d=_=>P(c[_],1,1,()=>{c[_]=null});let m=n[2]&&dr(n);return{c(){e=X("Round: "),r=X(t),l=X(`

Defense:
`);for(let _=0;_<v.length;_+=1)v[_].c();s=X(`

Attack:
`);for(let _=0;_<c.length;_+=1)c[_].c();a=G(),m&&m.c(),h=de()},l(_){e=K(_,"Round: "),r=K(_,t),l=K(_,`

Defense:
`);for(let p=0;p<v.length;p+=1)v[p].l(_);s=K(_,`

Attack:
`);for(let p=0;p<c.length;p+=1)c[p].l(_);a=V(_),m&&m.l(_),h=de()},m(_,p){j(_,e,p),j(_,r,p),j(_,l,p);for(let b=0;b<v.length;b+=1)v[b]&&v[b].m(_,p);j(_,s,p);for(let b=0;b<c.length;b+=1)c[b]&&c[b].m(_,p);j(_,a,p),m&&m.m(_,p),j(_,h,p),f=!0},p(_,[p]){if((!f||p&1)&&t!==(t=_[0]+1+"")&&me(r,t),p&2){u=ee(i1(_[1].defense));let b;for(b=0;b<u.length;b+=1){const k=or(_,u,b);v[b]?(v[b].p(k,p),I(v[b],1)):(v[b]=ur(k),v[b].c(),I(v[b],1),v[b].m(s.parentNode,s))}for(le(),b=u.length;b<v.length;b+=1)i(b);ie()}if(p&2){o=ee(i1(_[1].attack));let b;for(b=0;b<o.length;b+=1){const k=ar(_,o,b);c[b]?(c[b].p(k,p),I(c[b],1)):(c[b]=hr(k),c[b].c(),I(c[b],1),c[b].m(a.parentNode,a))}for(le(),b=o.length;b<c.length;b+=1)d(b);ie()}_[2]?m?m.p(_,p):(m=dr(_),m.c(),m.m(h.parentNode,h)):m&&(m.d(1),m=null)},i(_){if(!f){for(let p=0;p<u.length;p+=1)I(v[p]);for(let p=0;p<o.length;p+=1)I(c[p]);f=!0}},o(_){v=v.filter(Boolean);for(let p=0;p<v.length;p+=1)P(v[p]);c=c.filter(Boolean);for(let p=0;p<c.length;p+=1)P(c[p]);f=!1},d(_){_&&(y(e),y(r),y(l),y(s),y(a),y(h)),ge(v,_),ge(c,_),m&&m.d(_)}}}function Kf(n,e,t){let r,l,s;const{machine:a}=ke(),h=te(a.service,({context:o})=>Se(o).currentRound);J(n,h,o=>t(0,r=o));const f=(o,c)=>({type:"apply game event",gameEvent:{type:"collect",finalized:!0,playerId:Se(c).activePlayerId,item:o}}),u=te(a.service,o=>o.can(f("alarm-system",a.service.getSnapshot().context)));J(n,u,o=>t(2,s=o));const v=()=>{const o=a.service.getSnapshot().context,c=Se(o),d=c.playerPositions[c.activePlayerId],m=o.items.find(_=>we(_.position,d));m&&a.send(f(m.item,o))},i=te(a.service,o=>{const c=Se(o.context);return{attack:c.attack.inventory,defense:c.defense.inventory}},we);return J(n,i,o=>t(1,l=o)),[r,l,s,h,u,v,i]}class Qf extends fe{constructor(e){super(),he(this,e,Kf,Xf,ue,{})}}function zf(n){let e;return{c(){e=X("Finished")},l(t){e=K(t,"Finished")},m(t,r){j(t,e,r)},p:se,i:se,o:se,d(t){t&&y(e)}}}class Jf extends fe{constructor(e){super(),he(this,e,null,zf,ue,{})}}function vr(n,e,t){const r=n.slice();return r[13]=e[t],r}function Yf(n){let e;return{c(){e=X("Einteilung in Teams")},l(t){e=K(t,"Einteilung in Teams")},m(t,r){j(t,e,r)},d(t){t&&y(e)}}}function eh(n){let e;return{c(){e=X("Schritt 2 von 3")},l(t){e=K(t,"Schritt 2 von 3")},m(t,r){j(t,e,r)},d(t){t&&y(e)}}}function pr(n){let e,t="(admin)";return{c(){e=F("span"),e.textContent=t,this.h()},l(r){e=R(r,"SPAN",{class:!0,"data-svelte-h":!0}),Ze(e)!=="svelte-16777ag"&&(e.textContent=t),this.h()},h(){g(e,"class","admin")},m(r,l){j(r,e,l)},d(r){r&&y(e)}}}function _r(n){let e;function t(s,a){return s[13].side==="attack"?nh:th}let r=t(n),l=r(n);return{c(){e=F("span"),l.c(),this.h()},l(s){e=R(s,"SPAN",{class:!0});var a=T(e);l.l(a),a.forEach(y),this.h()},h(){g(e,"class","side svelte-1w8krv2")},m(s,a){j(s,e,a),l.m(e,null)},p(s,a){r!==(r=t(s))&&(l.d(1),l=r(s),l&&(l.c(),l.m(e,null)))},d(s){s&&y(e),l.d()}}}function th(n){let e;return{c(){e=X("Verteidigung")},l(t){e=K(t,"Verteidigung")},m(t,r){j(t,e,r)},d(t){t&&y(e)}}}function nh(n){let e;return{c(){e=X("Angriff")},l(t){e=K(t,"Angriff")},m(t,r){j(t,e,r)},d(t){t&&y(e)}}}function mr(n){let e,t,r,l;function s(){return n[14](n[13])}e=new Re({props:{$$slots:{default:[rh]},$$scope:{ctx:n}}}),e.$on("click",s);function a(){return n[15](n[13])}return r=new Re({props:{$$slots:{default:[lh]},$$scope:{ctx:n}}}),r.$on("click",a),{c(){N(e.$$.fragment),t=G(),N(r.$$.fragment)},l(h){q(e.$$.fragment,h),t=V(h),q(r.$$.fragment,h)},m(h,f){U(e,h,f),j(h,t,f),U(r,h,f),l=!0},p(h,f){n=h;const u={};f&1048576&&(u.$$scope={dirty:f,ctx:n}),e.$set(u);const v={};f&1048576&&(v.$$scope={dirty:f,ctx:n}),r.$set(v)},i(h){l||(I(e.$$.fragment,h),I(r.$$.fragment,h),l=!0)},o(h){P(e.$$.fragment,h),P(r.$$.fragment,h),l=!1},d(h){h&&y(t),W(e,h),W(r,h)}}}function rh(n){let e;return{c(){e=X("Angriff")},l(t){e=K(t,"Angriff")},m(t,r){j(t,e,r)},d(t){t&&y(e)}}}function lh(n){let e;return{c(){e=X("Verteidigung")},l(t){e=K(t,"Verteidigung")},m(t,r){j(t,e,r)},d(t){t&&y(e)}}}function gr(n){let e,t;function r(){return n[16](n[13])}return e=new Re({props:{$$slots:{default:[ih]},$$scope:{ctx:n}}}),e.$on("click",r),{c(){N(e.$$.fragment)},l(l){q(e.$$.fragment,l)},m(l,s){U(e,l,s),t=!0},p(l,s){n=l;const a={};s&1048576&&(a.$$scope={dirty:s,ctx:n}),e.$set(a)},i(l){t||(I(e.$$.fragment,l),t=!0)},o(l){P(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function ih(n){let e;return{c(){e=X("Toggle Admin")},l(t){e=K(t,"Toggle Admin")},m(t,r){j(t,e,r)},d(t){t&&y(e)}}}function yr(n){let e,t=n[13].name+"",r,l,s,a,h,f,u,v=n[13].isAdmin&&pr(),i=n[13].isSideAssigned&&_r(n),o=n[1]&&mr(n),c=n[2]&&n[13].id!==n[5]&&gr(n);return{c(){e=F("div"),r=X(t),l=G(),v&&v.c(),s=G(),i&&i.c(),a=G(),o&&o.c(),h=G(),c&&c.c(),f=G(),this.h()},l(d){e=R(d,"DIV",{class:!0});var m=T(e);r=K(m,t),l=V(m),v&&v.l(m),s=V(m),i&&i.l(m),a=V(m),o&&o.l(m),h=V(m),c&&c.l(m),f=V(m),m.forEach(y),this.h()},h(){g(e,"class","user")},m(d,m){j(d,e,m),w(e,r),w(e,l),v&&v.m(e,null),w(e,s),i&&i.m(e,null),w(e,a),o&&o.m(e,null),w(e,h),c&&c.m(e,null),w(e,f),u=!0},p(d,m){(!u||m&1)&&t!==(t=d[13].name+"")&&me(r,t),d[13].isAdmin?v||(v=pr(),v.c(),v.m(e,s)):v&&(v.d(1),v=null),d[13].isSideAssigned?i?i.p(d,m):(i=_r(d),i.c(),i.m(e,a)):i&&(i.d(1),i=null),d[1]?o?(o.p(d,m),m&2&&I(o,1)):(o=mr(d),o.c(),I(o,1),o.m(e,h)):o&&(le(),P(o,1,1,()=>{o=null}),ie()),d[2]&&d[13].id!==d[5]?c?(c.p(d,m),m&5&&I(c,1)):(c=gr(d),c.c(),I(c,1),c.m(e,f)):c&&(le(),P(c,1,1,()=>{c=null}),ie())},i(d){u||(I(o),I(c),u=!0)},o(d){P(o),P(c),u=!1},d(d){d&&y(e),v&&v.d(),i&&i.d(),o&&o.d(),c&&c.d()}}}function sh(n){let e;return{c(){e=X("Next")},l(t){e=K(t,"Next")},m(t,r){j(t,e,r)},d(t){t&&y(e)}}}function ah(n){let e,t;return e=new Re({props:{primary:!0,disabled:!n[3],disabledReason:n[4].isAdmin?"Alle Spieler:innen müssen einer Seite zugewiesen sein":"Nur Administrator:innen dürfen bestätigen",$$slots:{default:[sh]},$$scope:{ctx:n}}}),e.$on("click",n[17]),{c(){N(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,l){U(e,r,l),t=!0},p(r,l){const s={};l&8&&(s.disabled=!r[3]),l&16&&(s.disabledReason=r[4].isAdmin?"Alle Spieler:innen müssen einer Seite zugewiesen sein":"Nur Administrator:innen dürfen bestätigen"),l&1048576&&(s.$$scope={dirty:l,ctx:r}),e.$set(s)},i(r){t||(I(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){W(e,r)}}}function oh(n){let e,t,r,l=`Gleich geht’s los. Sobald alle Teilnehmende sich eingeloggt haben, kann die Spielleitung alle in
  Teams einteilen.`,s,a,h,f,u;e=new zt({props:{separator:!0,$$slots:{info:[eh],default:[Yf]},$$scope:{ctx:n}}});let v=ee(n[0]),i=[];for(let c=0;c<v.length;c+=1)i[c]=yr(vr(n,v,c));const o=c=>P(i[c],1,1,()=>{i[c]=null});return f=new z1({props:{$$slots:{default:[ah]},$$scope:{ctx:n}}}),{c(){N(e.$$.fragment),t=G(),r=F("p"),r.textContent=l,s=G(),a=F("div");for(let c=0;c<i.length;c+=1)i[c].c();h=G(),N(f.$$.fragment),this.h()},l(c){q(e.$$.fragment,c),t=V(c),r=R(c,"P",{"data-svelte-h":!0}),Ze(r)!=="svelte-ugtca6"&&(r.textContent=l),s=V(c),a=R(c,"DIV",{class:!0});var d=T(a);for(let m=0;m<i.length;m+=1)i[m].l(d);d.forEach(y),h=V(c),q(f.$$.fragment,c),this.h()},h(){g(a,"class","users svelte-1w8krv2")},m(c,d){U(e,c,d),j(c,t,d),j(c,r,d),j(c,s,d),j(c,a,d);for(let m=0;m<i.length;m+=1)i[m]&&i[m].m(a,null);j(c,h,d),U(f,c,d),u=!0},p(c,[d]){const m={};if(d&1048576&&(m.$$scope={dirty:d,ctx:c}),e.$set(m),d&6183){v=ee(c[0]);let p;for(p=0;p<v.length;p+=1){const b=vr(c,v,p);i[p]?(i[p].p(b,d),I(i[p],1)):(i[p]=yr(b),i[p].c(),I(i[p],1),i[p].m(a,null))}for(le(),p=v.length;p<i.length;p+=1)o(p);ie()}const _={};d&1048600&&(_.$$scope={dirty:d,ctx:c}),f.$set(_)},i(c){if(!u){I(e.$$.fragment,c);for(let d=0;d<v.length;d+=1)I(i[d]);I(f.$$.fragment,c),u=!0}},o(c){P(e.$$.fragment,c),i=i.filter(Boolean);for(let d=0;d<i.length;d+=1)P(i[d]);P(f.$$.fragment,c),u=!1},d(c){c&&(y(t),y(r),y(s),y(a),y(h)),W(e,c),ge(i,c),W(f,c)}}}function ch(n,e,t){let r,l,s,a,h;const{userId:f,user:u,machine:v}=ke();J(n,u,A=>t(4,h=A));const i=te(v.service,A=>A.can({type:"assign side",otherUserId:"",side:"attack"}));J(n,i,A=>t(1,l=A));const o=te(v.service,A=>A.can({type:"assign admin",otherUserId:"",isAdmin:!0}));J(n,o,A=>t(2,s=A));const c=te(v.service,A=>A.can({type:"next step"}));J(n,c,A=>t(3,a=A));const d=te(v.service,A=>A.context.users);J(n,d,A=>t(0,r=A));const m=(A,M)=>{v.send({type:"assign side",otherUserId:A,side:M})},_=(A,M)=>{v.send({type:"assign admin",otherUserId:A,isAdmin:M})};return[r,l,s,a,h,f,v,i,o,c,d,m,_,u,A=>m(A.id,"attack"),A=>m(A.id,"defense"),A=>_(A.id,!A.isAdmin),()=>v.send({type:"next step"})]}class uh extends fe{constructor(e){super(),he(this,e,ch,oh,ue,{})}}function fh(n){let e,t,r;return{c(){e=O("svg"),t=O("path"),r=O("path"),this.h()},l(l){e=D(l,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var s=T(e);t=D(s,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),T(t).forEach(y),r=D(s,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0}),T(r).forEach(y),s.forEach(y),this.h()},h(){g(t,"fill-rule","evenodd"),g(t,"clip-rule","evenodd"),g(t,"d","M16 30C23.732 30 30 23.732 30 16C30 8.26801 23.732 2 16 2C8.26801 2 2 8.26801 2 16C2 23.732 8.26801 30 16 30ZM16 32C24.8366 32 32 24.8366 32 16C32 7.16344 24.8366 0 16 0C7.16344 0 0 7.16344 0 16C0 24.8366 7.16344 32 16 32Z"),g(t,"fill","white"),g(r,"d","M20.8002 11.1997L11.2002 20.7997M11.2002 11.1997L20.8002 20.7997"),g(r,"stroke","white"),g(r,"stroke-width","2.66667"),g(r,"stroke-linecap","round"),g(r,"stroke-linejoin","round"),g(e,"width","32"),g(e,"height","32"),g(e,"viewBox","0 0 32 32"),g(e,"fill","none"),g(e,"xmlns","http://www.w3.org/2000/svg")},m(l,s){j(l,e,s),w(e,t),w(e,r)},p:se,i:se,o:se,d(l){l&&y(e)}}}class hh extends fe{constructor(e){super(),he(this,e,null,fh,ue,{})}}function br(n){let e;return{c(){e=X(n[0])},l(t){e=K(t,n[0])},m(t,r){j(t,e,r)},p(t,r){r&1&&me(e,t[0])},d(t){t&&y(e)}}}function dh(n){let e,t=n[0]&&br(n);return{c(){t&&t.c(),e=de()},l(r){t&&t.l(r),e=de()},m(r,l){t&&t.m(r,l),j(r,e,l)},p(r,l){r[0]?t?t.p(r,l):(t=br(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(r){r&&y(e),t&&t.d(r)}}}function vh(n){let e,t,r,l,s;return t=new hh({}),{c(){e=F("button"),N(t.$$.fragment),this.h()},l(a){e=R(a,"BUTTON",{class:!0,slot:!0});var h=T(e);q(t.$$.fragment,h),h.forEach(y),this.h()},h(){g(e,"class","unstyled close-button svelte-m0m887"),g(e,"slot","info")},m(a,h){j(a,e,h),U(t,e,null),r=!0,l||(s=De(e,"click",n[2]),l=!0)},p:se,i(a){r||(I(t.$$.fragment,a),r=!0)},o(a){P(t.$$.fragment,a),r=!1},d(a){a&&y(e),W(t),l=!1,s()}}}function ph(n){let e,t,r,l,s,a;t=new zt({props:{separator:!0,$$slots:{info:[vh],default:[dh]},$$scope:{ctx:n}}});const h=n[4].default,f=a1(h,n,n[7],null);return{c(){e=F("dialog"),N(t.$$.fragment),r=G(),f&&f.c(),this.h()},l(u){e=R(u,"DIALOG",{class:!0});var v=T(e);q(t.$$.fragment,v),r=V(v),f&&f.l(v),v.forEach(y),this.h()},h(){g(e,"class","svelte-m0m887")},m(u,v){j(u,e,v),U(t,e,null),w(e,r),f&&f.m(e,null),n[6](e),l=!0,s||(a=De(e,"close",n[5]),s=!0)},p(u,[v]){const i={};v&129&&(i.$$scope={dirty:v,ctx:u}),t.$set(i),f&&f.p&&(!l||v&128)&&o1(f,h,u,u[7],l?u1(h,u[7],v,null):c1(u[7]),null)},i(u){l||(I(t.$$.fragment,u),I(f,u),l=!0)},o(u){P(t.$$.fragment,u),P(f,u),l=!1},d(u){u&&y(e),W(t),f&&f.d(u),n[6](null),s=!1,a()}}}function _h(n,e,t){let{$$slots:r={},$$scope:l}=e,{open:s=!1}=e,{title:a=""}=e,h;const f=()=>{h.close()};function u(i){ql.call(this,n,i)}function v(i){y1[i?"unshift":"push"](()=>{h=i,t(1,h)})}return n.$$set=i=>{"open"in i&&t(3,s=i.open),"title"in i&&t(0,a=i.title),"$$scope"in i&&t(7,l=i.$$scope)},n.$$.update=()=>{n.$$.dirty&10&&h&&(s?h.showModal():h.close())},[a,h,f,s,r,u,v,l]}class mh extends fe{constructor(e){super(),he(this,e,_h,ph,ue,{open:3,title:0})}}function $r(n,e,t){const r=n.slice();return r[19]=e[t],r}function wr(n,e,t){const r=n.slice();return r[22]=e[t],r}function Ar(n){let e,t=n[22].name+"",r,l;return{c(){e=F("option"),r=X(t),this.h()},l(s){e=R(s,"OPTION",{});var a=T(e);r=K(a,t),a.forEach(y),this.h()},h(){e.__value=l=n[22].id,H1(e,e.__value)},m(s,a){j(s,e,a),w(e,r)},p(s,a){a&8&&t!==(t=s[22].name+"")&&me(r,t),a&8&&l!==(l=s[22].id)&&(e.__value=l,H1(e,e.__value))},d(s){s&&y(e)}}}function Sr(n){let e,t,r,l,s,a,h;t=new b1({props:{faceId:n[19].id}});function f(){return n[14](n[19])}return{c(){e=F("button"),N(t.$$.fragment),r=G(),this.h()},l(u){e=R(u,"BUTTON",{class:!0});var v=T(e);q(t.$$.fragment,v),r=V(v),v.forEach(y),this.h()},h(){e.disabled=l=!n[2],g(e,"class","unstyled face svelte-1c1yr8w"),Le(e,"active",n[19].id===n[1])},m(u,v){j(u,e,v),U(t,e,null),w(e,r),s=!0,a||(h=De(e,"click",f),a=!0)},p(u,v){n=u,(!s||v&4&&l!==(l=!n[2]))&&(e.disabled=l),(!s||v&2)&&Le(e,"active",n[19].id===n[1])},i(u){s||(I(t.$$.fragment,u),s=!0)},o(u){P(t.$$.fragment,u),s=!1},d(u){u&&y(e),W(t),a=!1,h()}}}function gh(n){let e;return{c(){e=X("Bestätigen und weiter")},l(t){e=K(t,"Bestätigen und weiter")},m(t,r){j(t,e,r)},d(t){t&&y(e)}}}function yh(n){let e,t;return e=new Re({props:{primary:!0,disabled:!n[2],$$slots:{default:[gh]},$$scope:{ctx:n}}}),e.$on("click",n[15]),{c(){N(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,l){U(e,r,l),t=!0},p(r,l){const s={};l&4&&(s.disabled=!r[2]),l&33554432&&(s.$$scope={dirty:l,ctx:r}),e.$set(s)},i(r){t||(I(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){W(e,r)}}}function bh(n){let e,t,r,l="--PLEASE SELECT--",s,a,h,f,u,v,i,o,c=ee(n[3]),d=[];for(let b=0;b<c.length;b+=1)d[b]=Ar(wr(n,c,b));let m=ee(_n),_=[];for(let b=0;b<m.length;b+=1)_[b]=Sr($r(n,m,b));const p=b=>P(_[b],1,1,()=>{_[b]=null});return u=new z1({props:{$$slots:{default:[yh]},$$scope:{ctx:n}}}),{c(){e=F("div"),t=F("select"),r=F("option"),r.textContent=l;for(let b=0;b<d.length;b+=1)d[b].c();a=G(),h=F("div");for(let b=0;b<_.length;b+=1)_[b].c();f=G(),N(u.$$.fragment),this.h()},l(b){e=R(b,"DIV",{class:!0});var k=T(e);t=R(k,"SELECT",{});var $=T(t);r=R($,"OPTION",{"data-svelte-h":!0}),Ze(r)!=="svelte-108q7wa"&&(r.textContent=l);for(let M=0;M<d.length;M+=1)d[M].l($);$.forEach(y),a=V(k),h=R(k,"DIV",{class:!0});var A=T(h);for(let M=0;M<_.length;M+=1)_[M].l(A);A.forEach(y),f=V(k),q(u.$$.fragment,k),k.forEach(y),this.h()},h(){r.__value="",H1(r,r.__value),t.disabled=s=!n[2],g(h,"class","faces svelte-1c1yr8w"),g(e,"class","configurator svelte-1c1yr8w")},m(b,k){j(b,e,k),w(e,t),w(t,r);for(let $=0;$<d.length;$+=1)d[$]&&d[$].m(t,null);dn(t,n[0]),w(e,a),w(e,h);for(let $=0;$<_.length;$+=1)_[$]&&_[$].m(h,null);w(e,f),U(u,e,null),v=!0,i||(o=De(t,"input",n[13]),i=!0)},p(b,k){if(k&8){c=ee(b[3]);let A;for(A=0;A<c.length;A+=1){const M=wr(b,c,A);d[A]?d[A].p(M,k):(d[A]=Ar(M),d[A].c(),d[A].m(t,null))}for(;A<d.length;A+=1)d[A].d(1);d.length=c.length}if((!v||k&4&&s!==(s=!b[2]))&&(t.disabled=s),(!v||k&9)&&dn(t,b[0]),k&518){m=ee(_n);let A;for(A=0;A<m.length;A+=1){const M=$r(b,m,A);_[A]?(_[A].p(M,k),I(_[A],1)):(_[A]=Sr(M),_[A].c(),I(_[A],1),_[A].m(h,null))}for(le(),A=m.length;A<_.length;A+=1)p(A);ie()}const $={};k&33554436&&($.$$scope={dirty:k,ctx:b}),u.$set($)},i(b){if(!v){for(let k=0;k<m.length;k+=1)I(_[k]);I(u.$$.fragment,b),v=!0}},o(b){_=_.filter(Boolean);for(let k=0;k<_.length;k+=1)P(_[k]);P(u.$$.fragment,b),v=!1},d(b){b&&y(e),ge(d,b),ge(_,b),W(u),i=!1,o()}}}function $h(n){let e,t;return e=new mh({props:{title:"Rolle bestimmen",open:!0,$$slots:{default:[bh]},$$scope:{ctx:n}}}),e.$on("close",n[16]),{c(){N(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,l){U(e,r,l),t=!0},p(r,[l]){const s={};l&33554447&&(s.$$scope={dirty:l,ctx:r}),e.$set(s)},i(r){t||(I(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){W(e,r)}}}function wh(n,e,t){let r,l,s,a,h,f,{playerId:u}=e;const v=wl(u)?"defense":"attack",{machine:i}=ke(),o=te(i.service,({context:M})=>ln(u,M));J(n,o,M=>t(12,a=M));const c=te(i.service,({context:M})=>M.users.filter(L=>L.side===v));J(n,c,M=>t(3,f=M));const d=te(i.service,M=>M.can({type:"assign role",role:s,playerId:u,playingUserId:r,faceId:l}));J(n,d,M=>t(2,h=M));const m=()=>{i.send({type:"assign role",role:s,playerId:u,playingUserId:r,faceId:l})},_=M=>{t(1,l=M),m()},p=M=>{M&&(t(0,r=M),m())},b=M=>p(M.currentTarget.value),k=M=>_(M.id),$=()=>i.send({type:"stop editing player",side:v}),A=()=>i.send({type:"stop editing player",side:v});return n.$$set=M=>{"playerId"in M&&t(11,u=M.playerId)},n.$$.update=()=>{n.$$.dirty&4096&&t(0,r=a.userId),n.$$.dirty&4096&&t(1,l=a.faceId),n.$$.dirty&4096&&(s=a.role)},[r,l,h,f,v,i,o,c,d,_,p,u,a,b,k,$,A]}class Ah extends fe{constructor(e){super(),he(this,e,wh,$h,ue,{playerId:11})}}function Tr(n,e,t){const r=n.slice();return r[17]=e[t],r[19]=t,r}function Sh(n){let e;return{c(){e=X("Rollenverteilung")},l(t){e=K(t,"Rollenverteilung")},m(t,r){j(t,e,r)},d(t){t&&y(e)}}}function Th(n){let e;return{c(){e=X("Schritt 3 von 3")},l(t){e=K(t,"Schritt 3 von 3")},m(t,r){j(t,e,r)},d(t){t&&y(e)}}}function kh(n){let e;return{c(){e=X("Die Rollenverteilung wird von der Spielleitung übernommen.")},l(t){e=K(t,"Die Rollenverteilung wird von der Spielleitung übernommen.")},m(t,r){j(t,e,r)},d(t){t&&y(e)}}}function Eh(n){let e=n[0].side==="attack"?"Angriff":"Verteidigung",t;return{c(){t=X(e)},l(r){t=K(r,e)},m(r,l){j(r,t,l)},p(r,l){l&1&&e!==(e=r[0].side==="attack"?"Angriff":"Verteidigung")&&me(t,e)},d(r){r&&y(t)}}}function Ih(n){let e;return{c(){e=X(`Es müssen für jede Rolle ein:e Spieler:in bestimmt und bestätigt werden. Die restlichen
    Teilnehmenden können das Spielgeschehen beobachten und das Team beraten.`)},l(t){e=K(t,`Es müssen für jede Rolle ein:e Spieler:in bestimmt und bestätigt werden. Die restlichen
    Teilnehmenden können das Spielgeschehen beobachten und das Team beraten.`)},m(t,r){j(t,e,r)},d(t){t&&y(e)}}}function kr(n){var u;let e,t,r=((u=n[2].find(f))==null?void 0:u.name)+"",l,s,a,h;e=new zt({props:{centered:!0,size:"sm",$$slots:{default:[Mh]},$$scope:{ctx:n}}});function f(...v){return n[14](n[17],...v)}return a=new b1({props:{faceId:n[17].faceId}}),{c(){N(e.$$.fragment),t=G(),l=X(r),s=G(),N(a.$$.fragment)},l(v){q(e.$$.fragment,v),t=V(v),l=K(v,r),s=V(v),q(a.$$.fragment,v)},m(v,i){U(e,v,i),j(v,t,i),j(v,l,i),j(v,s,i),U(a,v,i),h=!0},p(v,i){var d;n=v;const o={};i&1048578&&(o.$$scope={dirty:i,ctx:n}),e.$set(o),(!h||i&6)&&r!==(r=((d=n[2].find(f))==null?void 0:d.name)+"")&&me(l,r);const c={};i&2&&(c.faceId=n[17].faceId),a.$set(c)},i(v){h||(I(e.$$.fragment,v),I(a.$$.fragment,v),h=!0)},o(v){P(e.$$.fragment,v),P(a.$$.fragment,v),h=!1},d(v){v&&(y(t),y(l),y(s)),W(e,v),W(a,v)}}}function Mh(n){let e=n[17].role+"",t;return{c(){t=X(e)},l(r){t=K(r,e)},m(r,l){j(r,t,l)},p(r,l){l&2&&e!==(e=r[17].role+"")&&me(t,e)},d(r){r&&y(t)}}}function Ph(n){let e,t=n[17].isConfigured?"wechseln":`${n[19]+1} bestimmen`,r;return{c(){e=X("Rolle "),r=X(t)},l(l){e=K(l,"Rolle "),r=K(l,t)},m(l,s){j(l,e,s),j(l,r,s)},p(l,s){s&2&&t!==(t=l[17].isConfigured?"wechseln":`${l[19]+1} bestimmen`)&&me(r,t)},d(l){l&&(y(e),y(r))}}}function Er(n){let e,t,r,l,s,a=n[17].isConfigured&&kr(n);function h(){return n[15](n[19])}return r=new Re({props:{size:"small",disabled:!n[3],$$slots:{default:[Ph]},$$scope:{ctx:n}}}),r.$on("click",h),{c(){e=F("div"),a&&a.c(),t=G(),N(r.$$.fragment),l=G(),this.h()},l(f){e=R(f,"DIV",{class:!0});var u=T(e);a&&a.l(u),t=V(u),q(r.$$.fragment,u),l=V(u),u.forEach(y),this.h()},h(){g(e,"class","player svelte-jfi4ds")},m(f,u){j(f,e,u),a&&a.m(e,null),w(e,t),U(r,e,null),w(e,l),s=!0},p(f,u){n=f,n[17].isConfigured?a?(a.p(n,u),u&2&&I(a,1)):(a=kr(n),a.c(),I(a,1),a.m(e,t)):a&&(le(),P(a,1,1,()=>{a=null}),ie());const v={};u&8&&(v.disabled=!n[3]),u&1048578&&(v.$$scope={dirty:u,ctx:n}),r.$set(v)},i(f){s||(I(a),I(r.$$.fragment,f),s=!0)},o(f){P(a),P(r.$$.fragment,f),s=!1},d(f){f&&y(e),a&&a.d(),W(r)}}}function Oh(n){let e;return{c(){e=X("Bestätigen und weiter")},l(t){e=K(t,"Bestätigen und weiter")},m(t,r){j(t,e,r)},d(t){t&&y(e)}}}function Dh(n){let e,t;return e=new Re({props:{primary:!0,disabled:!n[4],disabledReason:n[0].isAdmin?"Alle Rollen müssen zugewiesen sein":"Nur Administrator:innen dürfen bestätigen",$$slots:{default:[Oh]},$$scope:{ctx:n}}}),e.$on("click",n[16]),{c(){N(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,l){U(e,r,l),t=!0},p(r,l){const s={};l&16&&(s.disabled=!r[4]),l&1&&(s.disabledReason=r[0].isAdmin?"Alle Rollen müssen zugewiesen sein":"Nur Administrator:innen dürfen bestätigen"),l&1048576&&(s.$$scope={dirty:l,ctx:r}),e.$set(s)},i(r){t||(I(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){W(e,r)}}}function Ir(n){let e=n[5],t,r,l=Mr(n);return{c(){l.c(),t=de()},l(s){l.l(s),t=de()},m(s,a){l.m(s,a),j(s,t,a),r=!0},p(s,a){a&32&&ue(e,e=s[5])?(le(),P(l,1,1,se),ie(),l=Mr(s),l.c(),I(l,1),l.m(t.parentNode,t)):l.p(s,a)},i(s){r||(I(l),r=!0)},o(s){P(l),r=!1},d(s){s&&y(t),l.d(s)}}}function Mr(n){let e,t;return e=new Ah({props:{playerId:n[5]}}),{c(){N(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,l){U(e,r,l),t=!0},p(r,l){const s={};l&32&&(s.playerId=r[5]),e.$set(s)},i(r){t||(I(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){W(e,r)}}}function jh(n){let e,t,r,l,s,a,h,f,u,v,i,o,c,d,m;e=new zt({props:{separator:!0,$$slots:{info:[Th],default:[Sh]},$$scope:{ctx:n}}}),r=new mn({props:{$$slots:{default:[kh]},$$scope:{ctx:n}}}),a=new zt({props:{centered:!0,$$slots:{default:[Eh]},$$scope:{ctx:n}}}),f=new mn({props:{$$slots:{default:[Ih]},$$scope:{ctx:n}}});let _=ee(n[1]),p=[];for(let $=0;$<_.length;$+=1)p[$]=Er(Tr(n,_,$));const b=$=>P(p[$],1,1,()=>{p[$]=null});o=new z1({props:{$$slots:{default:[Dh]},$$scope:{ctx:n}}});let k=n[5]!==void 0&&Ir(n);return{c(){N(e.$$.fragment),t=G(),N(r.$$.fragment),l=G(),s=F("section"),N(a.$$.fragment),h=G(),N(f.$$.fragment),u=G(),v=F("div");for(let $=0;$<p.length;$+=1)p[$].c();i=G(),N(o.$$.fragment),c=G(),k&&k.c(),d=de(),this.h()},l($){q(e.$$.fragment,$),t=V($),q(r.$$.fragment,$),l=V($),s=R($,"SECTION",{class:!0});var A=T(s);q(a.$$.fragment,A),h=V(A),q(f.$$.fragment,A),u=V(A),v=R(A,"DIV",{class:!0});var M=T(v);for(let L=0;L<p.length;L+=1)p[L].l(M);M.forEach(y),A.forEach(y),i=V($),q(o.$$.fragment,$),c=V($),k&&k.l($),d=de(),this.h()},h(){g(v,"class","players svelte-jfi4ds"),g(s,"class","svelte-jfi4ds")},m($,A){U(e,$,A),j($,t,A),U(r,$,A),j($,l,A),j($,s,A),U(a,s,null),w(s,h),U(f,s,null),w(s,u),w(s,v);for(let M=0;M<p.length;M+=1)p[M]&&p[M].m(v,null);j($,i,A),U(o,$,A),j($,c,A),k&&k.m($,A),j($,d,A),m=!0},p($,[A]){const M={};A&1048576&&(M.$$scope={dirty:A,ctx:$}),e.$set(M);const L={};A&1048576&&(L.$$scope={dirty:A,ctx:$}),r.$set(L);const z={};A&1048577&&(z.$$scope={dirty:A,ctx:$}),a.$set(z);const E={};if(A&1048576&&(E.$$scope={dirty:A,ctx:$}),f.$set(E),A&4175){_=ee($[1]);let S;for(S=0;S<_.length;S+=1){const Q=Tr($,_,S);p[S]?(p[S].p(Q,A),I(p[S],1)):(p[S]=Er(Q),p[S].c(),I(p[S],1),p[S].m(v,null))}for(le(),S=_.length;S<p.length;S+=1)b(S);ie()}const C={};A&1048593&&(C.$$scope={dirty:A,ctx:$}),o.$set(C),$[5]!==void 0?k?(k.p($,A),A&32&&I(k,1)):(k=Ir($),k.c(),I(k,1),k.m(d.parentNode,d)):k&&(le(),P(k,1,1,()=>{k=null}),ie())},i($){if(!m){I(e.$$.fragment,$),I(r.$$.fragment,$),I(a.$$.fragment,$),I(f.$$.fragment,$);for(let A=0;A<_.length;A+=1)I(p[A]);I(o.$$.fragment,$),I(k),m=!0}},o($){P(e.$$.fragment,$),P(r.$$.fragment,$),P(a.$$.fragment,$),P(f.$$.fragment,$),p=p.filter(Boolean);for(let A=0;A<p.length;A+=1)P(p[A]);P(o.$$.fragment,$),P(k),m=!1},d($){$&&(y(t),y(l),y(s),y(i),y(c),y(d)),W(e,$),W(r,$),W(a),W(f),ge(p,$),W(o,$),k&&k.d($)}}}function Ch(n,e,t){let r,l,s,a,h,f;const{machine:u,user:v}=ke();J(n,v,$=>t(0,r=$));const i=te(u.service,({context:$})=>(r.side==="attack"?$.attack:$.defense).editingPlayer);J(n,i,$=>t(5,f=$));const o=te(u.service,({context:$})=>r.side==="attack"?[$.attack.attacker]:$.defense.defenders);J(n,o,$=>t(1,l=$));const c=te(u.service,$=>$.can({type:"start editing player",playerId:"attacker"}));J(n,c,$=>t(3,a=$));const d=te(u.service,$=>$.can({type:"next step"}));J(n,d,$=>t(4,h=$));const m=$=>`defender${$}`,_=te(u.service,({context:$})=>$.users);return J(n,_,$=>t(2,s=$)),[r,l,s,a,h,f,u,v,i,o,c,d,m,_,($,A)=>A.id===$.userId,$=>u.send({type:"start editing player",playerId:r.side==="attack"?"attacker":m($)}),()=>u.send({type:"next step"})]}class Lh extends fe{constructor(e){super(),he(this,e,Ch,jh,ue,{})}}function Zh(n){let e;return{c(){e=X("Unknown state")},l(t){e=K(t,"Unknown state")},m(t,r){j(t,e,r)},i:se,o:se,d(t){t&&y(e)}}}function Hh(n){let e;return{c(){e=X("Waiting for other side")},l(t){e=K(t,"Waiting for other side")},m(t,r){j(t,e,r)},i:se,o:se,d(t){t&&y(e)}}}function xh(n){let e,t;return e=new Lh({}),{c(){N(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,l){U(e,r,l),t=!0},i(r){t||(I(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){W(e,r)}}}function Fh(n){let e,t;return e=new uh({}),{c(){N(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,l){U(e,r,l),t=!0},i(r){t||(I(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){W(e,r)}}}function Rh(n){let e,t,r,l;const s=[Fh,xh,Hh,Zh],a=[];function h(f,u){return f[0]==="Assigning sides"?0:f[0]==="Assigning roles"?1:f[0]==="Waiting for other side"?2:3}return e=h(n),t=a[e]=s[e](n),{c(){t.c(),r=de()},l(f){t.l(f),r=de()},m(f,u){a[e].m(f,u),j(f,r,u),l=!0},p(f,[u]){let v=e;e=h(f),e!==v&&(le(),P(a[v],1,1,()=>{a[v]=null}),ie(),t=a[e],t||(t=a[e]=s[e](f),t.c()),I(t,1),t.m(r.parentNode,r))},i(f){l||(I(t),l=!0)},o(f){P(t),l=!1},d(f){f&&y(r),a[e].d(f)}}}function Bh(n,e,t){let r;const{machine:l}=ke(),s=te(l.service,a=>{let h;return a.matches("Lobby.Assigning sides")?h="Assigning sides":a.matches("Lobby.Assigning roles")?h="Assigning roles":a.matches("Lobby.Waiting for other side")&&(h="Waiting for other side"),h});return J(n,s,a=>t(0,r=a)),[r,s]}class Gh extends fe{constructor(e){super(),he(this,e,Bh,Rh,ue,{})}}function Vh(n){let e,t,r,l,s,a,h;return t=new b1({props:{faceId:n[1]??0}}),{c(){e=F("div"),N(t.$$.fragment),r=G(),l=X(n[0]),s=G(),a=F("div"),this.h()},l(f){e=R(f,"DIV",{class:!0});var u=T(e);q(t.$$.fragment,u),r=V(u),l=K(u,n[0]),s=V(u),a=R(u,"DIV",{class:!0}),T(a).forEach(y),u.forEach(y),this.h()},h(){g(a,"class","online-status svelte-a1x2q7"),Le(a,"connected",n[2]),g(e,"class","player svelte-a1x2q7"),Le(e,"playing",n[3])},m(f,u){j(f,e,u),U(t,e,null),w(e,r),w(e,l),w(e,s),w(e,a),h=!0},p(f,[u]){const v={};u&2&&(v.faceId=f[1]??0),t.$set(v),(!h||u&1)&&me(l,f[0]),(!h||u&4)&&Le(a,"connected",f[2]),(!h||u&8)&&Le(e,"playing",f[3])},i(f){h||(I(t.$$.fragment,f),h=!0)},o(f){P(t.$$.fragment,f),h=!1},d(f){f&&y(e),W(t)}}}function Nh(n,e,t){let{name:r}=e,{faceId:l=void 0}=e,{isConnected:s=!1}=e,{isPlaying:a=!1}=e;return n.$$set=h=>{"name"in h&&t(0,r=h.name),"faceId"in h&&t(1,l=h.faceId),"isConnected"in h&&t(2,s=h.isConnected),"isPlaying"in h&&t(3,a=h.isPlaying)},[r,l,s,a]}class M1 extends fe{constructor(e){super(),he(this,e,Nh,Vh,ue,{name:0,faceId:1,isConnected:2,isPlaying:3})}}function Pr(n,e,t){const r=n.slice();return r[14]=e[t],r}function Or(n,e,t){const r=n.slice();r[17]=e[t];const l=r[11](r[17],r[1]);return r[18]=l,r}function Dr(n,e,t){const r=n.slice();return r[14]=e[t],r}function jr(n,e,t){const r=n.slice();r[17]=e[t];const l=r[11](r[17],r[1]);return r[18]=l,r}function Cr(n){let e,t;return e=new M1({props:{faceId:n[17].faceId,name:n[18].name,isConnected:n[18].isConnected,isPlaying:n[2]===n[17].id}}),{c(){N(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,l){U(e,r,l),t=!0},p(r,l){const s={};l&1&&(s.faceId=r[17].faceId),l&3&&(s.name=r[18].name),l&3&&(s.isConnected=r[18].isConnected),l&5&&(s.isPlaying=r[2]===r[17].id),e.$set(s)},i(r){t||(I(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){W(e,r)}}}function Lr(n){let e,t;return e=new M1({props:{name:n[14].name+" (admin)",isConnected:n[14].isConnected}}),{c(){N(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,l){U(e,r,l),t=!0},p(r,l){const s={};l&8&&(s.name=r[14].name+" (admin)"),l&8&&(s.isConnected=r[14].isConnected),e.$set(s)},i(r){t||(I(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){W(e,r)}}}function Zr(n){let e,t;return e=new M1({props:{faceId:n[17].faceId,name:n[18].name,isConnected:n[18].isConnected,isPlaying:n[2]===n[17].id}}),{c(){N(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,l){U(e,r,l),t=!0},p(r,l){const s={};l&16&&(s.faceId=r[17].faceId),l&18&&(s.name=r[18].name),l&18&&(s.isConnected=r[18].isConnected),l&20&&(s.isPlaying=r[2]===r[17].id),e.$set(s)},i(r){t||(I(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){W(e,r)}}}function Hr(n){let e,t;return e=new M1({props:{name:n[14].name+" (admin)",isConnected:n[14].isConnected}}),{c(){N(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,l){U(e,r,l),t=!0},p(r,l){const s={};l&32&&(s.name=r[14].name+" (admin)"),l&32&&(s.isConnected=r[14].isConnected),e.$set(s)},i(r){t||(I(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){W(e,r)}}}function qh(n){let e,t="Verteidiger:innen",r,l,s,a,h,f="Angreifer:innen",u,v,i,o,c=ee(n[0]),d=[];for(let E=0;E<c.length;E+=1)d[E]=Cr(jr(n,c,E));const m=E=>P(d[E],1,1,()=>{d[E]=null});let _=ee(n[3]),p=[];for(let E=0;E<_.length;E+=1)p[E]=Lr(Dr(n,_,E));const b=E=>P(p[E],1,1,()=>{p[E]=null});let k=ee(n[4]),$=[];for(let E=0;E<k.length;E+=1)$[E]=Zr(Or(n,k,E));const A=E=>P($[E],1,1,()=>{$[E]=null});let M=ee(n[5]),L=[];for(let E=0;E<M.length;E+=1)L[E]=Hr(Pr(n,M,E));const z=E=>P(L[E],1,1,()=>{L[E]=null});return{c(){e=F("h3"),e.textContent=t,r=G(),l=F("div");for(let E=0;E<d.length;E+=1)d[E].c();s=G();for(let E=0;E<p.length;E+=1)p[E].c();a=G(),h=F("h3"),h.textContent=f,u=G(),v=F("div");for(let E=0;E<$.length;E+=1)$[E].c();i=G();for(let E=0;E<L.length;E+=1)L[E].c();this.h()},l(E){e=R(E,"H3",{class:!0,"data-svelte-h":!0}),Ze(e)!=="svelte-1krh9a0"&&(e.textContent=t),r=V(E),l=R(E,"DIV",{class:!0});var C=T(l);for(let Q=0;Q<d.length;Q+=1)d[Q].l(C);s=V(C);for(let Q=0;Q<p.length;Q+=1)p[Q].l(C);C.forEach(y),a=V(E),h=R(E,"H3",{class:!0,"data-svelte-h":!0}),Ze(h)!=="svelte-1fki2a7"&&(h.textContent=f),u=V(E),v=R(E,"DIV",{class:!0});var S=T(v);for(let Q=0;Q<$.length;Q+=1)$[Q].l(S);i=V(S);for(let Q=0;Q<L.length;Q+=1)L[Q].l(S);S.forEach(y),this.h()},h(){g(e,"class","svelte-10q9rv4"),g(l,"class","players svelte-10q9rv4"),g(h,"class","svelte-10q9rv4"),g(v,"class","players svelte-10q9rv4")},m(E,C){j(E,e,C),j(E,r,C),j(E,l,C);for(let S=0;S<d.length;S+=1)d[S]&&d[S].m(l,null);w(l,s);for(let S=0;S<p.length;S+=1)p[S]&&p[S].m(l,null);j(E,a,C),j(E,h,C),j(E,u,C),j(E,v,C);for(let S=0;S<$.length;S+=1)$[S]&&$[S].m(v,null);w(v,i);for(let S=0;S<L.length;S+=1)L[S]&&L[S].m(v,null);o=!0},p(E,[C]){if(C&2055){c=ee(E[0]);let S;for(S=0;S<c.length;S+=1){const Q=jr(E,c,S);d[S]?(d[S].p(Q,C),I(d[S],1)):(d[S]=Cr(Q),d[S].c(),I(d[S],1),d[S].m(l,s))}for(le(),S=c.length;S<d.length;S+=1)m(S);ie()}if(C&8){_=ee(E[3]);let S;for(S=0;S<_.length;S+=1){const Q=Dr(E,_,S);p[S]?(p[S].p(Q,C),I(p[S],1)):(p[S]=Lr(Q),p[S].c(),I(p[S],1),p[S].m(l,null))}for(le(),S=_.length;S<p.length;S+=1)b(S);ie()}if(C&2070){k=ee(E[4]);let S;for(S=0;S<k.length;S+=1){const Q=Or(E,k,S);$[S]?($[S].p(Q,C),I($[S],1)):($[S]=Zr(Q),$[S].c(),I($[S],1),$[S].m(v,i))}for(le(),S=k.length;S<$.length;S+=1)A(S);ie()}if(C&32){M=ee(E[5]);let S;for(S=0;S<M.length;S+=1){const Q=Pr(E,M,S);L[S]?(L[S].p(Q,C),I(L[S],1)):(L[S]=Hr(Q),L[S].c(),I(L[S],1),L[S].m(v,null))}for(le(),S=M.length;S<L.length;S+=1)z(S);ie()}},i(E){if(!o){for(let C=0;C<c.length;C+=1)I(d[C]);for(let C=0;C<_.length;C+=1)I(p[C]);for(let C=0;C<k.length;C+=1)I($[C]);for(let C=0;C<M.length;C+=1)I(L[C]);o=!0}},o(E){d=d.filter(Boolean);for(let C=0;C<d.length;C+=1)P(d[C]);p=p.filter(Boolean);for(let C=0;C<p.length;C+=1)P(p[C]);$=$.filter(Boolean);for(let C=0;C<$.length;C+=1)P($[C]);L=L.filter(Boolean);for(let C=0;C<L.length;C+=1)P(L[C]);o=!1},d(E){E&&(y(e),y(r),y(l),y(a),y(h),y(u),y(v)),ge(d,E),ge(p,E),ge($,E),ge(L,E)}}}function Uh(n,e,t){let r,l,s,a,h,f;const{machine:u}=ke(),v=te(u.service,({context:p})=>[p.attack.attacker],we);J(n,v,p=>t(4,h=p));const i=te(u.service,({context:p})=>p.defense.defenders,we);J(n,i,p=>t(0,r=p));const o=te(u.service,({context:p})=>p.users.filter(b=>b.side==="attack"&&b.isAdmin),we);J(n,o,p=>t(5,f=p));const c=te(u.service,({context:p})=>p.users.filter(b=>b.side==="defense"&&b.isAdmin),we);J(n,c,p=>t(3,a=p));const d=te(u.service,({context:p})=>p.users,we);J(n,d,p=>t(1,l=p));const m=(p,b)=>b.find($=>$.id===p.userId)??{name:"Unbekannt",isConnected:!1},_=te(u.service,({context:p})=>Se(p).activePlayerId);return J(n,_,p=>t(2,s=p)),[r,l,s,a,h,f,v,i,o,c,d,m,_]}class Wh extends fe{constructor(e){super(),he(this,e,Uh,qh,ue,{})}}function Xh(n){let e,t,r,l,s,a,h,f,u,v,i,o,c,d,m,_,p,b,k,$,A,M,L,z,E,C,S,Q,ve,pe,be,oe,B,ce,ae,Ie,ye,Me,Ne,qe,Ue,We,Xe,Ke,Qe,ze,Je,Ye,et,tt,nt,rt,lt,$e,it,Y,wt,At,St,Tt,kt,Et,It,Mt,Pt,Ot,Dt,jt,Ct,Lt,Zt,Ht,xt,Ft,Rt,Bt,Gt,Vt,Nt,qt,st,Ut,at,ot;return{c(){e=O("svg"),t=O("g"),r=O("path"),l=O("mask"),s=O("path"),a=O("g"),h=O("path"),f=O("path"),u=O("path"),v=O("path"),i=O("path"),o=O("path"),c=O("path"),d=O("path"),m=O("path"),_=O("path"),p=O("path"),b=O("path"),k=O("path"),$=O("path"),A=O("path"),M=O("path"),L=O("path"),z=O("path"),E=O("path"),C=O("path"),S=O("path"),Q=O("path"),ve=O("path"),pe=O("path"),be=O("path"),oe=O("path"),B=O("path"),ce=O("path"),ae=O("path"),Ie=O("path"),ye=O("path"),Me=O("path"),Ne=O("path"),qe=O("path"),Ue=O("path"),We=O("path"),Xe=O("path"),Ke=O("path"),Qe=O("path"),ze=O("path"),Je=O("path"),Ye=O("path"),et=O("path"),tt=O("path"),nt=O("path"),rt=O("path"),lt=O("path"),$e=O("mask"),it=O("path"),Y=O("g"),wt=O("path"),At=O("path"),St=O("path"),Tt=O("path"),kt=O("path"),Et=O("path"),It=O("path"),Mt=O("path"),Pt=O("path"),Ot=O("path"),Dt=O("path"),jt=O("path"),Ct=O("path"),Lt=O("path"),Zt=O("path"),Ht=O("path"),xt=O("path"),Ft=O("path"),Rt=O("path"),Bt=O("path"),Gt=O("path"),Vt=O("path"),Nt=O("path"),qt=O("path"),st=O("path"),Ut=O("defs"),at=O("clipPath"),ot=O("path"),this.h()},l(Wt){e=D(Wt,"svg",{width:!0,height:!0,fill:!0,xmlns:!0,class:!0});var Xt=T(e);t=D(Xt,"g",{"clip-path":!0});var He=T(t);r=D(He,"path",{d:!0,fill:!0}),T(r).forEach(y),l=D(He,"mask",{id:!0,style:!0,maskUnits:!0,x:!0,y:!0,width:!0,height:!0});var cn=T(l);s=D(cn,"path",{d:!0,fill:!0}),T(s).forEach(y),cn.forEach(y),a=D(He,"g",{mask:!0});var H=T(a);h=D(H,"path",{d:!0,fill:!0}),T(h).forEach(y),f=D(H,"path",{d:!0,fill:!0}),T(f).forEach(y),u=D(H,"path",{d:!0,fill:!0}),T(u).forEach(y),v=D(H,"path",{d:!0,fill:!0}),T(v).forEach(y),i=D(H,"path",{d:!0,fill:!0}),T(i).forEach(y),o=D(H,"path",{d:!0,fill:!0}),T(o).forEach(y),c=D(H,"path",{d:!0,fill:!0}),T(c).forEach(y),d=D(H,"path",{d:!0,fill:!0}),T(d).forEach(y),m=D(H,"path",{d:!0,fill:!0}),T(m).forEach(y),_=D(H,"path",{d:!0,fill:!0}),T(_).forEach(y),p=D(H,"path",{d:!0,fill:!0}),T(p).forEach(y),b=D(H,"path",{d:!0,fill:!0}),T(b).forEach(y),k=D(H,"path",{d:!0,fill:!0}),T(k).forEach(y),$=D(H,"path",{d:!0,fill:!0}),T($).forEach(y),A=D(H,"path",{d:!0,fill:!0}),T(A).forEach(y),M=D(H,"path",{d:!0,fill:!0}),T(M).forEach(y),L=D(H,"path",{d:!0,fill:!0}),T(L).forEach(y),z=D(H,"path",{d:!0,fill:!0}),T(z).forEach(y),E=D(H,"path",{d:!0,fill:!0}),T(E).forEach(y),C=D(H,"path",{d:!0,fill:!0}),T(C).forEach(y),S=D(H,"path",{d:!0,fill:!0}),T(S).forEach(y),Q=D(H,"path",{d:!0,fill:!0}),T(Q).forEach(y),ve=D(H,"path",{d:!0,fill:!0}),T(ve).forEach(y),pe=D(H,"path",{d:!0,fill:!0}),T(pe).forEach(y),be=D(H,"path",{d:!0,fill:!0}),T(be).forEach(y),oe=D(H,"path",{d:!0,fill:!0}),T(oe).forEach(y),B=D(H,"path",{d:!0,fill:!0}),T(B).forEach(y),ce=D(H,"path",{d:!0,fill:!0}),T(ce).forEach(y),ae=D(H,"path",{d:!0,fill:!0}),T(ae).forEach(y),Ie=D(H,"path",{d:!0,fill:!0}),T(Ie).forEach(y),ye=D(H,"path",{d:!0,fill:!0}),T(ye).forEach(y),Me=D(H,"path",{d:!0,fill:!0}),T(Me).forEach(y),Ne=D(H,"path",{d:!0,fill:!0}),T(Ne).forEach(y),qe=D(H,"path",{d:!0,fill:!0}),T(qe).forEach(y),Ue=D(H,"path",{d:!0,fill:!0}),T(Ue).forEach(y),We=D(H,"path",{d:!0,fill:!0}),T(We).forEach(y),Xe=D(H,"path",{d:!0,fill:!0}),T(Xe).forEach(y),Ke=D(H,"path",{d:!0,fill:!0}),T(Ke).forEach(y),Qe=D(H,"path",{d:!0,fill:!0}),T(Qe).forEach(y),ze=D(H,"path",{d:!0,fill:!0}),T(ze).forEach(y),Je=D(H,"path",{d:!0,fill:!0}),T(Je).forEach(y),Ye=D(H,"path",{d:!0,fill:!0}),T(Ye).forEach(y),et=D(H,"path",{d:!0,fill:!0}),T(et).forEach(y),tt=D(H,"path",{d:!0,fill:!0}),T(tt).forEach(y),nt=D(H,"path",{d:!0,fill:!0}),T(nt).forEach(y),rt=D(H,"path",{d:!0,fill:!0}),T(rt).forEach(y),lt=D(H,"path",{d:!0,fill:!0}),T(lt).forEach(y),H.forEach(y),$e=D(He,"mask",{id:!0,style:!0,maskUnits:!0,x:!0,y:!0,width:!0,height:!0});var un=T($e);it=D(un,"path",{d:!0,fill:!0}),T(it).forEach(y),un.forEach(y),Y=D(He,"g",{opacity:!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0,mask:!0});var ne=T(Y);wt=D(ne,"path",{d:!0}),T(wt).forEach(y),At=D(ne,"path",{d:!0}),T(At).forEach(y),St=D(ne,"path",{d:!0}),T(St).forEach(y),Tt=D(ne,"path",{d:!0}),T(Tt).forEach(y),kt=D(ne,"path",{d:!0}),T(kt).forEach(y),Et=D(ne,"path",{d:!0}),T(Et).forEach(y),It=D(ne,"path",{d:!0}),T(It).forEach(y),Mt=D(ne,"path",{d:!0}),T(Mt).forEach(y),Pt=D(ne,"path",{d:!0}),T(Pt).forEach(y),Ot=D(ne,"path",{d:!0}),T(Ot).forEach(y),Dt=D(ne,"path",{d:!0}),T(Dt).forEach(y),jt=D(ne,"path",{d:!0}),T(jt).forEach(y),Ct=D(ne,"path",{d:!0}),T(Ct).forEach(y),Lt=D(ne,"path",{d:!0}),T(Lt).forEach(y),Zt=D(ne,"path",{d:!0}),T(Zt).forEach(y),Ht=D(ne,"path",{d:!0}),T(Ht).forEach(y),xt=D(ne,"path",{d:!0}),T(xt).forEach(y),Ft=D(ne,"path",{d:!0}),T(Ft).forEach(y),Rt=D(ne,"path",{d:!0}),T(Rt).forEach(y),Bt=D(ne,"path",{d:!0}),T(Bt).forEach(y),Gt=D(ne,"path",{d:!0}),T(Gt).forEach(y),Vt=D(ne,"path",{d:!0}),T(Vt).forEach(y),Nt=D(ne,"path",{d:!0}),T(Nt).forEach(y),qt=D(ne,"path",{d:!0}),T(qt).forEach(y),ne.forEach(y),st=D(He,"path",{d:!0,fill:!0}),T(st).forEach(y),He.forEach(y),Ut=D(Xt,"defs",{});var fn=T(Ut);at=D(fn,"clipPath",{id:!0});var hn=T(at);ot=D(hn,"path",{fill:!0,d:!0}),T(ot).forEach(y),hn.forEach(y),fn.forEach(y),Xt.forEach(y),this.h()},h(){g(r,"d","M804 0H0v715h804V0Z"),g(r,"fill","#1B253A"),g(s,"d","M804 0H0v715h804V0Z"),g(s,"fill","#fff"),g(l,"id","b"),Ae(l,"mask-type","luminance"),g(l,"maskUnits","userSpaceOnUse"),g(l,"x","0"),g(l,"y","0"),g(l,"width","804"),g(l,"height","715"),g(h,"d","M291 651 78 822l264 19-51-190Z"),g(h,"fill","#747D4A"),g(f,"d","m52 154 99 41 13-295L52 154Z"),g(f,"fill","#257A86"),g(u,"d","m-163 10 113 211L6 28l-169-18Z"),g(u,"fill","#247771"),g(v,"d","m6 28-56 193 102-67L6 28Z"),g(v,"fill","#297877"),g(i,"d","m52 154-102 67 201-26-99-41Z"),g(i,"fill","#227776"),g(o,"d","m-50 221 66 228 135-254-201 26Z"),g(o,"fill","#2C7871"),g(c,"d","m-50 221-28 271 94-43-66-228Z"),g(c,"fill","#317865"),g(d,"d","m-78 492 48 148 46-191-94 43Z"),g(d,"fill","#37785E"),g(m,"d","m6 28 46 126 112-254L6 28Z"),g(m,"fill","#2F7B85"),g(_,"d","m-30 640-112 90 220 92-108-182Z"),g(_,"fill","#4A7A50"),g(p,"d","M-163 10 6 28l158-128-327 110Z"),g(p,"fill","#2D7A7E"),g(b,"d","m-221-59 58 69 327-110-385 41Z"),g(b,"fill","#246E4C"),g(k,"d","m708 634 141 73 105-178-246 105Z"),g(k,"fill","#934038"),g($,"d","m16 449-46 191 265-149-219-42Z"),g($,"fill","#37785E"),g(A,"d","M235 491-30 640l321 11-56-160Z"),g(A,"fill","#436D56"),g(M,"d","M151 195 16 449l219 42-84-296Z"),g(M,"fill","#2D726B"),g(L,"d","M-30 640 78 822l213-171-321-11Z"),g(L,"fill","#4C764F"),g(z,"d","m164-100-13 295L300 62 164-100Z"),g(z,"fill","#2B7B8D"),g(E,"d","m355 309 124 182 16-252-140 70Z"),g(E,"fill","#585E60"),g(C,"d","m300 62 55 247 140-70L300 62Z"),g(C,"fill","#3C597F"),g(S,"d","M300 62 151 195l204 114-55-247Z"),g(S,"fill","#336882"),g(Q,"d","m151 195 84 296 120-182-204-114Z"),g(Q,"fill","#3C6671"),g(ve,"d","m235 491 56 160 188-160H235Z"),g(ve,"fill","#67715B"),g(pe,"d","M355 309 235 491h244L355 309Z"),g(pe,"fill","#56655E"),g(be,"d","m300 62 195 177 26-157-221-20Z"),g(be,"fill","#3A5584"),g(oe,"d","M164-100 300 62l221 20-357-182Z"),g(oe,"fill","#34638D"),g(B,"d","m495 239 178 250 20-306-198 56Z"),g(B,"fill","#856865"),g(ce,"d","m291 651 51 190 210-58-261-132Z"),g(ce,"fill","#8B674A"),g(ae,"d","M479 491 291 651l261 132-73-292Z"),g(ae,"fill","#8F6E4D"),g(Ie,"d","m708 634-44 143 54 34-10-177Z"),g(Ie,"fill","#853F33"),g(ye,"d","M849 707 718 811l150 94-19-198Z"),g(ye,"fill","#8E3D35"),g(Me,"d","m683-20 10 203 53-107-63-96Z"),g(Me,"fill","#725981"),g(Ne,"d","m495 239-16 252 194-2-178-250Z"),g(Ne,"fill","#886D5F"),g(qe,"d","M683-20 521 82l172 101-10-203Z"),g(qe,"fill","#554C76"),g(Ue,"d","M829 378 673 489l281 40-125-151Z"),g(Ue,"fill","#945050"),g(We,"d","M164-100 521 82 683-20l-519-80Z"),g(We,"fill","#3F5684"),g(Xe,"d","m521 82-26 157 198-56L521 82Z"),g(Xe,"fill","#524F7F"),g(Ke,"d","m552 783 112-6 44-143-156 149Z"),g(Ke,"fill","#914134"),g(Qe,"d","m479 491 73 292 156-149-229-143Z"),g(Qe,"fill","#9A5C4E"),g(ze,"d","m673 489-194 2 229 143-35-145Z"),g(ze,"fill","#9A6556"),g(Je,"d","m693 183 136 195 41-242-177 47Z"),g(Je,"fill","#8A5F6E"),g(Ye,"d","m693 183-20 306 156-111-136-195Z"),g(Ye,"fill","#936360"),g(et,"d","m708 634 10 177 131-104-141-73Z"),g(et,"fill","#994B3A"),g(tt,"d","m746 76 124 60 243-236L746 76Z"),g(tt,"fill","#765076"),g(nt,"d","m683-20 63 96 367-176-430 80Z"),g(nt,"fill","#644B7B"),g(rt,"d","m746 76-53 107 177-47-124-60Z"),g(rt,"fill","#7A5A6F"),g(lt,"d","m673 489 35 145 246-105-281-40Z"),g(lt,"fill","#924E4C"),g(a,"mask","url(#b)"),g(it,"d","M804 0H0v715h804V0Z"),g(it,"fill","#fff"),g($e,"id","c"),Ae($e,"mask-type","luminance"),g($e,"maskUnits","userSpaceOnUse"),g($e,"x","0"),g($e,"y","0"),g($e,"width","804"),g($e,"height","715"),g(wt,"d","m1145 285-1-1-3 1-2 1-2 2-5 6h-4a122 122 0 0 1-8 0h-9l-3-6-3-4 3-3-1-2v-1l-1-1c-3-1-9-6-9-7h-4l-5-2h-6c-1 0-4 0-5-3l-1-3v-2l-3-3-1-3v-1c1-2 2-4 0-5h-1c-3-1-4-2-4-4v-4l-2-3-1-2v-4l-1-1h-1v-3l1-1-1-1h-2l-1-1v-4l-2-1-3-2c0-2-1-3-2-3h-7a59 59 0 0 0-15-7 253 253 0 0 0-26 8l-5 5v5h1l3 1 1 2v7h1l-1 2-4 4-8 22h-1l1 2 1 1 1 2-3 2-5 3-3 2-4 1-1-1-8-1-2 4-1 1-1 4-4 9-2 3-2 3 1 4 5 3h14l2-1 3-2c2-2 3 0 5 1a22 22 0 0 0 6 4c3 1 5 2 6 4l2 3 2 3-1 2c-3 2-5 3-8 2l-2-1c-1-1-1-2-2-1l-7 2h-4l-2 5h-5c0 1-4 9-6 10l-7 5v1h-8v1c0 2 0 4-2 6l-5 1-8 1-5-1c-1-1-5 0-7 1l-3 5 5 10s-8 5-9 8l-5 6-3 2-7 4-17 2a312 312 0 0 0-28 14l-2-2v-2h-17l-10-5-8-2h-8l-3 1h-6a608 608 0 0 0-12 0h-6l-6-1-2 1h-2l-1 1v1h-1l-2-2-7-10v-3l-2-3-1-2 1-2h-8c-2 0-3-1-5-3-3-2-6-4-11-5h-20c-3 0-4-1-5-4l-1-2v-2l2-5-1-3 1-5-1-2-1-1c-2-4-4-10-6-11l-4-3-1 1-1-1-1-2-2-1h-5l-3-2-4-3-1-1-2-3-5 3h-1l-2 2c0 1-1 2-3 1l-6-1-6-1-5-1-6 23c1 1 3 3 2 4v1l-1 1h-6v-2l-3 1-4 2-6 3h-5c-1-1-1-1-2 1l-1 2v1l1 1 3 2 2 2v6l3 6 1 2 1 2c0 1 1 2-1 3l-2 1v2l1 1-1 1h-1l-1 2v5h-1l2 3v2h-4l-1 1-5 3-7 5-3 2-5 4c-1 2-2 2-3 1l-2-1c-2 0-5 1-7 4l-2 3-4 4-5 1-1-5-1 2-5 1h-1l-1 1-1 1-2 2-4 2-2 1-1 1 1 2v4l-1 1h-3l2 4 1 4 1 2 4 2h2c3 1 4 1 5 3v2l1 2 1 1 1 1v6l-2 2v1l-2-1h-2l-1 1v1l1 1v2h-10l-3 2c-1 1-2 1-2 3l-2 4h-1l-2 1h-1l2 2c2 3 4 4 7 4l2 1h3l2 2-1 4-1 2-1 1-1 2-1 1 1 2 1 3 1 1v10c-1 2-1 3 1 4h2l3 1 5 3v2h6c1 2 3 2 3 2l1 2 2 1 2-1 3-1 4-3 4-3 1-2-1-2c1-2 2-3 5-3l1-1 2-1 6 1 2 1 1 1h2l2-1h2l1 1v1l1 3 2-1 1-1 1 1-1 3 1 2 2 4 1 1 1 1 1 3v5c0 1 0 2 2 2h5l2 1c2 0 3 0 3 2v1c1 2 1 3 3 3l1-1h2l1 2 3 3h1l1 1 1-1v-2l2-1h7l1 2v1l-1 1 1 1h1l3 1 3 2 4 2 1 2 2 3h2l2-1h4v2l1 3 2 1 2 2h1l3-1 1 3v1h3l2-1 3 4 1 1h2v1l1 1h1l1-2 1-1h1l7 3h9v2l-1 4 3-2 2 2 2 1 3-1 2-2 2-2h13l3-1h5l1 1 3 2 1 2 1 1v6h1l1 1-1 1h13l2-1v-1l2-2 1-1 3-1h2l4-4 3-2 3-2c1-2 2-2 3-1l2 1 5 1 1 1 3 1 3 2 1-1v-4l-2-1-3-3-1-2v-1l-1-2-3-3-2-1-3 1-3 1-5 1-3-1-2-1-1 1-1 2-1 1-1 1-2 1-2 2-4 1-2 1-2 1-1 1-2 2-1 3h-4v-1l2 1 1-1 2-2 2-2 1-1 2-2h2l4-1 2-2 2-2 1-2 1-1 2-1 2 1h8l3-1 2-1 1-1 2 2 3 3 1 2h1l1 3 2 3 2 1 3-3 1-1v1l3 2 2 5v3l-1 1h1l1-1 1-1 2 1 1 6a101 101 0 0 0 0 8l-1 2v5l-1 1-2 1h-1l-1 1-1 1-1 1c-2 1-2 1-2 3l-1 2-1 1-1 1v2h2l1 1v2l-2 2v1h4l2-2 3-1h5v1l-1 3c-1 1 0 2 1 3v4h-1l2 1 2-1 2 1h1l-3 9 1-1c2 0 3 1 4 3l3 3c2 4 3 5 4 4l4-1 3-2 2 1v1l1 2 2 1 2-1-1-6v-6h4v1l3-4 3 1 2 2 3 1 1-1v-1l1-3 2 2 1-3 1 1v1l2 2 1-2v-1l1-1v1l-1 1h2l3-3 4-2 2-1h2l2 2 3 3 2-1 4-1 2 1h1l1 1-1 1-1 2-1 2v2c2 2 3 3 5 3h1l1 1c2 0 2-1 3-4 1-2 3-1 4-2 2-1 2 0 4 1 2 2 4 1 7 0 2 0 3 3 2 4-1 2 0 5 1 8s5 3 7 2 1-3-1-4l-2-4c0-1 3-4 4-3l10-2c4-1 2-3 3-3h5c2-1 2-4 5-4s3-1 3-6c1-6 2-4 5-1 2 3 3 4 4 2l2-2 4-1 6-1 6-2c5-1 6-2 7-6l1-3h5l2-3 4-2 1-2-4-1c-1-1 1-2 2-3h6c3 0 0-2 0-3 0-2 1-3 2-3v-4l2-1h3l1-5-2-2v-2l3-1-1-2-3-2 1-4c2-1 2 2 4 2l5-7 3-12c2-3 4-1 5-2 2-2-1-3-1-5s2-2 2-3l-5-2c-1-1 2-1 5-1 2 0 2-1 2-3 0-1-1-3-2-2s-4 3-6 2c-3 0 0-1 2-2 2 0 3-2 3-4 1-2-2-2-3-3l-6-2c-4 0-2 3-4 2-3 0-3-3-1-4l4-1 3-3 4-2c1-1-1-5-3-6-1-2-4-2-7-4-3-1-5-3-4-4l3 2 4-1 6 1c3 0 0 0 0-3l-5-5-6-3c-2-1-1-5-2-6l-5-5c-1-2-1-10-9-12-7-2-8-7-9-9-1-1 0-5 1-8 1-2 3-2 5-3 2 0 1-2 0-4s1-3 4-3 3-3 7-5 8-2 11-1c2 0 2-6 2-9 1-4-3-3-8-3s-8 0-11-2c-4-2-6-3-10 5-4 7-10 4-11 2-2-3-2-7-5-7s-4-1-9-4c-5-4-4-14-1-13 4 0 11-1 11-3l1-9c1-2 9-5 9-8 1-3 1-11 10-10s4 12 3 14v7c2 1 3 2 3 5 1 4-4 2-5 3-2 2 0 4 3 4 2 0 4-1 7-7s10-9 14-10c3 0 4-1 8 1v-1l3-3 1-3v-3l1-1 2-4 3-2 1-1 3-3a98 98 0 0 0 1-6l1-5 3-2 2 4 8-1 1-4-3-4 6-2 2-4 6-2-3-9 5 1 2 2 4 3s1-1 2 1h1c2-1 3-2 3-4 0-1 0-4 2-6l2-2v-2l1-5c-1-3 1-4 2-4l2-1 3-5v-1l3-1h1l2-6 3-2v-2l2-5 1-1 2-1v-8h1l3-2 4-4 2-3 2-3-2-2Z"),g(At,"d","M559 469h-2l-7 1c-2 0-3 0-3 2l-3 4-2 2-1-1v-1l-3 5 3 4 2 2-1 3-1 1 2 1v1l-6 8-1 2c1 0 2 3 0 5l-5 1-3-1-3 1 1 1 3 5 1 4-5 1-3 4-1 2h1v1c1 0 1 0 0 0l-4 2 1 1 1 1-1 5-1 1-1 1c-1 1-1 2-3 2l-1-2-1-1-4 1-4 2-3 1v1l3 3-1 1h-5l-4 1-3 1-4 4c-1 1 0 2 1 3l1 1v6h-10l-3-1-2-1-3 2-2 2h-3a8 8 0 0 1-3 0l-5-1h-10l2 5c0 2 1 4 4 5h9-1v10l3 2 4 2-1 2-2 5h-2v-1l-2 1c-2 0-4 2-5 3l-3 2h-1v12l11-1 6-1 6 1 9-2c3-1 10-1 13 2l5 4c4 2 4 9 5 11s7 5 10 2l4-1a10 10 0 0 1 4-2l1-2 1-2h3l2 1 3 1 2-1c1-1 2-2 3-1l3-1h1l1 1h4v-4l-3-8v-4h-3c-1-1-4-2-3-3l1-8h-5l-2-1c-1-3-1-9 4-12 4-3 6-4 7-3h1v1c1 1 1 2 3 1l3-1 5-1c3-1 3-2 5-5a423 423 0 0 1 9-13c1-3 2-6 5-8l4-3v-2l2-2 3-3 2-4h1v-6l-2-2h1l-3-1-1-1-3-3h-5l-1-1v-1l-4-3h-3l-3-1-1-4v-4l1-2c0-1 1-2-1-4l-1-1-1-3v-3l1-2 1-2 1-1c1-1 2-2 1-4l-2-1-2-1-3-1c-2 0-5-1-7-4l-1-3h3v-1l2-3 2-3 4-2h-3ZM339 618l4 2h1l1-4-1-10c-1-6-2-5-4-6s-2 2-3 3 0 4 1 6v5h-1l2 3v1Z"),g(St,"d","m382 645-25-3-8-18v-1l-4-1v-1h-3l-3-3a75 75 0 0 0-4-6l-2-5-2-3-2-7-1-4-2-2-3-4-2-2-4-3-3-2-1-3a17 17 0 0 0-5 1l-2-5-10-2-6 1c-5 0-10 1-12-1-1-2-20-19-30-25l-25-11h-2l-3 2-19 5 4 5 5 8v1c-1 1-3 4-5 4l-3 1c-2-1-3-1-5 2l-1 2c-1 2-2 4-5 4l-15-3-1 8c-1 4-2 5-1 6l6 3 8 11c2 4 3 9 7 12 5 4 5 8 6 11 0 4 4 5 10 8 5 4 8 12 9 23 1 10 8 16 13 18 4 3 7 6 10 13 3 8 6 12 9 15 4 3 3 5 5 8l5 6 2-5h1l1 1 1 1h12l7-3 8-1 4 2 3 2c1-1 3-4 4-9 0-5 16-8 20-8l24-3 30-12 6-21-1-7ZM31 248l-1-1 1-2 2-2v-3l-1-1-1 1h-3l-1 1-4 1 1 1c5 2 0 5-2 6l-16-1 3 2h7l3 1h7l2-1 2-1h1v-1Z"),g(Tt,"d","m55 235-2-1-1-1 1-1v-1l1-1-1-1h-1l-2-3-1-2-5-2h-1l-2-2v-1l-2 2h-3c-1 0-4 0-5-2h-2l-1 1h-6c-3-1-4 0-8 3l-4 2-2 2c1 3 6 10 8 11l6 3a22 22 0 0 0 6-1l3-1h2v4l-1 2-1 1v5h7l2-2h2l1-1 1-1v-1l1 1 1 1h1v-1h-1v-5l1-1 1-1v-1l1-1 1-1 1-1 1-1h4-1Zm1346-451c-2-5-5-4-4-7 2-4 1-8-2-10-3-1-8-10-6-13 3-3 7-6 5-11s-5-3-5-8c0-4-1-6-5-7l-15-4c-2-1-9 0-10 1 0 1-4-1-11 8-6 8-7 0-13-4-5-4-14-1-18-2-4 0-11 0-21-2l-18-1c-5 0-9-3-19-6s-15-2-25-3c-10-2-30 7-38 8s-18 1-15 3 4 7 7 12c3 6 8 2 16 14s-7 11-11 8c-3-3-2-5-6-5-3 0-9-1-11-6s2-5 4-10c1-5-8-6-14-6-5 0-1 7-1 14s-6 5-10 6c-3 0-9 5-13 4s-6-2-10 3c-4 4-9 6-19 8s-15 0-20-15-22-13-28-13c-7 0-6 3-10 3l-12 8c-5 3-14 9-19 10s-4-4-5-7c-1-4-12-7-14-6-1 2-5 9-7 7-1-1 2-4-2-6-5-2-5 4-6 3 0-2-6-4-8-4-2-1-2-5 2-6 5-1 1-6-4-9-5-2-17-1-22 2-5 4-9 7-10 6-1-2 4-3 0-3l-31 2h-16c-6-1-7 4 2 5 8 1 1 6-5 7-6 2 0 9 1 11 2 2 3-1 5-1 1 1-1 4 1 5 3 1 1 2 6 5 5 2 3 5 1 7s-3 1-5-2c-3-3-7 2-8 3-1 2-3 4-11 4s-11 1-11 6-4 4-9 4c-4 0-9-2-12-5-4-3-5-5-6-4s2 4 3 8c1 5 1 7 5 13 3 7 1 11-4 11-4 1-3 0-7-3-5-2-9-8-14-10-6-2-10-2-15-5s-7-7 0-5 8-2 7-6-4-5-7-7c-4-1-5-5-11-13-6-7-18-8-24-7-6 0 0 5-3 5-3-1-3-3-16-5-14-2-9 10-3 16s2 7 0 7-4-2-8 1c-3 4-13 5-25 5-11 0-8-6-6-11 1-5-10-1-13 0-2 1-11-1-16 2-5 2-14 12-14 7-1-6-6-2-6-1s-2 3-6 3c-5 1-4 0-6-1s-4-1-3-4c1-2-1-4-2-3s1 6-3 3-8 0-8 1v7c-1 5 4 3 6 1 2-3 4-4 5-3l-1 5-6 8c-3 4-4 5-12 10-7 4-7 0-6-3 0-2 0-8 2-9s4-2 5-5c2-3-1-6 0-9 1-4 3-6 2-8s1-4 3-7l3-7v-7c0-3 4-6 4-9l-2-12c-1-2-4-1-4-2-1-1 1-3 1-5 0-1-3-6-7-8-3-3-4-6-7-7-3 0 1 5 0 6s-5-3-6-6c-2-2-4-4-8-5-5-2-8-1-9-5 0-3-5 0-10 4s-7 4-11 4c-4 1-4 1-3 3 2 2 2 6 0 10-1 4-3 3-7-2-3-6-2-17-7-18-6 0-11 5-13 5-3 0-1-2 0-6 2-4 1-7-1-9s-5-2-10-3c-4-1-7-1-11 2-5 4-2 14-4 18s1 6 1 8c1 3-4 3 4 9 8 7-1 12-4 12-2 1-4 2-4 5 1 3 2 4 0 4l-4 5-4 4c-1 0-1 5-2 4l-2-2c0 1-3 4-3 2v-5c-1-3-6-1-12 1s-11 4-11 7 1 5-2 9c-3 3-19 10-19 13l-4 10c-1 3-3 9-3 14s3 6 5 7c1 1-4 8 4 9 7 0 2 6 1 6l-13 6c-3 0-6 3-10 4l-14 4c-8 3-5 8-2 11 2 3 6 6 7 11 1 4 4 8 10 7 6 0 5 0 10 7s1 10-3 10l-8-5c-2-2-3-4-5-4s-5-1-8-4c-4-3-12-1-14-1-1 1-7 7 1 9 9 2 3 10-3 6-6-3-9-2-10 1-2 2 2 5 9 11s-4 7-5 6c-2-1-6-9-7-10l-3-7c1-3-1-4-1-6 1-3-2-2-2-4 1-3-1-3-4-7-2-3-4-2-2 2 2 3 3 8 3 12 0 5-4 6-6 9-1 3 2 3 0 10-1 7-8 2-9 0v-7c1-2-1-14-2-18-1-3-3-3-6-5s-7-2-10-1h-12c-3-1-3 2-3 5l2 13c2 8-1 17-6 24-4 7 2 13 5 15s1 6 3 9 0 4 1 9 3 4 9 5c5 1 4 1 4 5 1 3 5 4 11 7 5 3 3 11 1 13-3 1-7-2-9-4l-7-7-11-4-9-3-6-6c-4-2-12-2-21-2l-11 1-1 1c-2-4-6-5-10-8l-6-5-2 1c-2 2-3 4 0 8s6 5 8 6l5 2c1 0 5-1 5-3v2l2 7c2 3 6 4 7 7s-1 4-2 6c0 2-3 0-5 0l1 4c1 2-1 5-4 5s-1-7-2-11c0-4-4-2-8 1s-7 7-10 7-10 0-13 2-5 7-7 7c-3 0-3-2-3-3l-1-5c-1-2-4-3-3-4 2-1 5-3 4-4l-7 2c-4 2-4 4-6 5s-1 4-7 5-7 3-9 5l-6 7c-2 2-3 5-4 3-1-1-3 0-2 1 2 2 3 4-1 4-5 0-6 1-5 3l-2 11c-2 3-6 2-9 2-2 0-5-1-7-4l-5-6c-1-1 1-2 2-4 0-2 1-2 2-2l7-2c2-1-2-4-4-6-2-3-3-2-4-5s-2-4-7-3h-12c-6-2-3 2 1 4s5 7 4 14c0 7 0 9 4 11s3 3 4 10c2 7-4 6-7 5l-12-2c-4 0-7 7-12 13-5 5-4 8 0 15 5 7-2 11-5 11s-2-3-4-5l-9-3-6-4c-2-1-4-1-5 1-1 1 0 3-2 5-1 1 0 3 2 5s3 3 7 4c4 2 8 0 6 6-1 6-11 3-15-1-5-4-10-4-12-6-2-3 0-7-2-9-1-2-3-6-2-13s-9-9-11-10c-3-2-2-5-2-7 1-2 4-2 5 0s1 3 4 3 4-1 7 1l7 3 15 2c9 1 14-2 21-11 8-8 2-16 1-18l-6-6c-2-1-8-3-21-12-12-9-27-14-30-14L88-4c-2 1-3-1-7-3-4-1-4-3-7-4-3 0-6 2-7 1l-2-1-1 2-1 4v3c-1 1-4-2-5-2v-1 2l-2 4c-2 0-3 2-4 3l-1 1-1 2-1 2V8l-1 1-1 2v3l-1 2c-1 2-1 2 1 4l1 4 3 4 5 9-6 13a734 734 0 0 1 6 24l-2 4c-1 3 0 5 1 7v2l1 2 1 3 1 1 1 4 1 2v1c1 1 2 2 0 4l-1 1c-2 2-2 2-1 4l3 3c2 1 5 4 6 7 2 5 1 7-10 21a248 248 0 0 1-17 21l5-1c2 0 2-3 5-2l13-2c2 1 3 0 5-2h2c1 1-1 3-1 5-1 1 1 3 2 2s1-3 7-1c5 3-1 4-3 6l-5 1c-2 1-4 1-4 3l-2 3a60 60 0 0 1 0 4c1 1 0 3-2 5h-1l-1 6v5l1 2 1 3v1l-1 1-2 1-1 1 1 1v1h2v2c2 0 2 3 1 3v5l2-1h1l-1 1v2l1 2v4l1 1h1l2 1v1h4l1 1v2h2c2-1 4-2 5-1h1l3 3v8l-1 1v1l3 1 1 1-1 1v1l1 3c2 0 3 1 3 2l2 3h2l2 1 2 2h1l4 2v1c0 1 0 2-2 3v5l3 2 3 3 6 7 1-1 1-1v-1l2 1h2l1-1h3l1 1c1 0 0 0 0 0h3l1-1v-4l1 1 4 1 2-1v-1h3l1 1 2-1 3 4 2 3 1 1 1 1v1h-3l-1 1 2 2h1l-1 2 1 1-1 1h4l1 1h1l2-1 1 3v1l1-1h1v3l1 2v1h-1v2l1 1a11 11 0 0 1 1 2h1v-1h4l1 2h1l1-1 1 1v1l1-1h1l3-1c2 0 3-2 3-2h1v2l1 1v2h1l2 2 1 1 1-1v-2h1l1 2h3l1 1 1 2 2-2 2 1v1l1 1h1l1 1 1 1v1l1-1 1-1h1v1a7 7 0 0 0 1 3l1 2-1 1h-1l-1 1-2 1v1h3v3h-4l1 1v1h1v3l1 2h1v1l-1 2-1 3h-10c1 1-2 2-4 3v1h-1l-1 2 1 1 1 1h-1v1l1 2c1 1-3 3-6 6-4 3 1 3 1 4v5c0 1-1 5-5 5-5 1-2 3-1 6s2 3 6 5c4 3 6 3 13 5s6 5 12 9l5-4c4-2 17 6 19 6a324 324 0 0 0 6 0c2 0 2 0 5 3 2 3 4 3 4 3h1v2l4-1 5-1 2 1 2-1h2l1 2 2 1h2l1 1v1l-2 2v1l2 1h1l4 2 2 1h3l6 6 2 3h2l3-4 2-3 1-1 3-3-1-1c-3-6-8-7-12-11s-3-10-3-13c-1-3-6-7-7-14-2-6 4-9 7-11l10-6 7-6-2-1-2-2-4-2v-2l2-1h1v-1l-2-3-1-2-2-3-3-4-4-3h-4l-1 3-2-3v-6l-3-2-6-2 6-11-2-2-1-1v-8l3-2 2-5 3-4h1l9 11 4-4-4-9h-1 1l4-3c2 0 4-2 5-3v-4l-1-1h3l1-1c6-1 7-4 7-6 1-2 2-1 3-1v-1l-1-1 1-1h6l1 3v1h3l1 1v-1l1-1c0-2 0-3 2-3h1l1-1c2 1 3 2 3 4h7c3 0 4 1 4 2l1 1 3 2 3 3 2 1 1 1 1 2-1 2v1h1l2-1v-4l-1-1h-1l1-1h2l2 1c1 0 2 0 2 2l1 1 2 1 3 1h1c1 1 2 1 3-1l-1-2 1-2 3-1 1-1 1-1h1v1l1-1 2-1h1l3 1 2 2h1l1-1v-2l1-1h4v-1l2 1 2 1v1l1 1c2 2 4 2 5 2l1 1 4 2v1h1l2-1 2-2v-1l1-2h1c0 1 1 2 4 2l8-1 1-3 1-1v-2c1-1 2-2 0-3l-3-2h-1l-2-2-1-1h-6 1v-2l-1-1h-2l-1-1-1-1-1-1 1-1 3-1 2-2c2 0 3-1 3-2v-3l-1-3v-1c-1-2 1-3 2-4l2-2h8l1 1v-2l-1-2s-8 0-9-2l1-2 1-1 3-1h-6v-5h1l-1-2 2-1v-1h1l2-1 3 1h2l1-1h3v1l1 1 1-1v-1l3-1 3-1h-1l1-1h1l7-1 1-1 1-1 2-1h2a4 4 0 0 0 3 0l2-1 1 1v-2l-1-1h5v-2l1-1h3v-2l1 1 3 1 12-4 8-4h1v-3h3l1-2 1-1h2v-3l2 1 6 1 5 1h3l2-1h1l1 1 1 3 2 3 1 2 2 2v4l-2 2v1l-1 2v1h5l1 1 2-2v-1l3 1v-3h1l3 1 1 4-1 2h4-1v-3l1-1 2 1h1l4 1h3l2 2-1 1h-1l-2 2h-1v5c1-1 3-3 5-3 3-1 3 0 4 1v1l3-2c0-2 1-3 3-3l3-1 2-1 1-2v-1c0-1 0-2 2-3l4-1h1l1-1 3-2h1l6-3v1l-2 3-2 2-2 2h1v1l1 2 2 3 11 9 26 41a19 19 0 0 1 3-3v-4l3-2 2-1 1-1 1 2v4h3l1 3v1h12l3-3 8-2h1c1 0 2 0 4 5l3 5 1 1c0 1 1 3 3 3 3 1 5 3 5 4v1l2 2c4 2 6 2 9 2h1l2-3 1-2h1l1 3 2 2 4 3 1 1 1 1 2 2-2 1-2-1-2 1-2 4-1 2c-1 2-3 4-6 5h-2c-1 0-2 0-2 2v5h8l3-2 3-2v-1c1-1 0-1-1-2l-1-1 3-2h2l7-2 1-2 3-3 2 1h2l1-1 2-3 2-3 1-1 2-2h1c1 2 1 2 4 2v-1l2 1c3 2 6 2 9 2h1l3-1 2-1 1 2v2c0 2 1 4 3 4l8 1 3 1 3 1h8l4 1c1 1 1 1 2-1l1-2h1c2 0 4-3 4-5l1-3c1-1 1-2-1-3l-3-1-1-4h-1v-2l2-3a23 23 0 0 1 2-4l3-6v-2l1-4 2 1 8 5h2l4 1 5-1 6 1 5 1c2 0 3 0 4 2l-1 4v4l4 3 4 3 2 1 3 1 3 1c3 2 3 2 6 1l5-2c1-2 2-3 4-3l6 2c4 1 8 2 10 1l3 1 4 1 2 1c4 0 6 1 8 3l1 2c1 2 2 2 5 3h2l8 1h4c8 1 11 1 15-1l4-2 9-6 5-5c2-2 3-4 5-4l9 1 10 1 6-1h3v3l8 1h5l2-2 6-4 2-1-1-2-1-1v-3l9-22 3-3 2-2h-1v-5l-1-2-1-2-2-1h-2v-5l6-6 7-2 2-1a256 256 0 0 1 17-4c4 0 14 6 15 6h2l2 1h3c2 0 2 1 2 3l3 1 2 2v4l1 1h2l1 1v1l-1 1v1h2l1 1-1 2v3a54 54 0 0 1 3 5l1 3v1c0 2 1 2 3 3l1 1c2 1 1 3 1 5l-1 1 1 2 3 4 1 2v3c2 3 3 3 5 2h6l5 2h4s6 7 9 7l2 2v3l-2 3 2 4c2 1 3 5 4 6h16l3-1h1l5-5 2-3 1-1h5l2 3-1 3-3 4-4 3-3 2v8l-3 2-1 1-1 4-1 2-3 2c0 1 0 5-2 6l-1 1h-2v1h-1c0 2-1 4-3 5l-2 1c-1 1-3 1-2 4v5l-1 2h3c2 1 2 6 9 7 6 1 8-4 13-9 5-4 4-8 6-12l5-13 4-12 5-10c1-2-1-4 1-6l1-6 1-9 4-16c2-3 1-12 0-14l-2-11c0-2 0-11-4-15-4-3-4-2-3-13 1-10 2-11 7-4l12 17c6 8 3 10 3 20 0 9 1 7 6 14s4 7 1 12c-4 5-4 9 0 10s6 6 8 9 0 8 3 10c2 1 3-4 3-7 0-2 1-4 3-5s6 0 6 2c1 2 4 6 4 4l-1-7-4-4c-2 0-4-2-4-3 0-2 0-4-4-7s-3-3-5-7c-1-4-2-7-2-17 0-9-1-6 2-8 2-2 5 1 8 4 2 3 5 6 5 4s-2-3-3-5l-5-6-7-19c-4-14-17-28-22-31-5-4-1-5-1-8s-2-3-4-5c-2-1-2-4-1-3l4 4-5-8-5-5-3-4-1-4c-1-1-2 0-3-2-1-1-1-2-3-2s0 3-1 3c0 0-2-2-3-1l3 4 4 3 2 5c0 2 2 2 1 3-1 2-3 0-6 0s-1 3-4 3-13-6-15-8c-2-3-5-4-9-4-4 1-3 2-5 1-1-2-3-1-3 0v6c0 3-4 7-6 6-2 0 0-4 0-6 1-2-4 0-6 1-2 2-4 2-5-2l-2-8c-1-3-3-4-6-2-4 2-5 4-9 3-5-1-3-4 0-9l7-14c3-9 3-12 3-17s2-9 4-12c3-4 3-8 5-11s1-10 2-15c0-5 4-7 4-12 1-5 6-12 13-15 7-2 10-4 13-2 3 3 7 3 8 1s-4-5 2-5c6-1 22-4 21-9-2-6 4-5 9-5 6 0 13 1 17 3 4 3 8 7 12 7 4 1 6-6 6-8s8 0 10 0 4-5 1-7c-3-3-8-2-10-4s-1-7 0-11c0-5 2-5 2-23 0-19 6-16 9-17 2-1 7-6 10-5s6 5 7 3c1-3 1-5 4-3 3 3 0 9 0 12-1 2 2 3 6 3 4 1 3 4 5 7 3 2 4-3 5-7s2-15 4-18c1-3 4-4-1-16-5-11-1-12 5-13s8 5 6 5c-3 1-4 3-3 9 0 6 6 8 6 9 0 2-3 6 0 8 2 2 2 3 2 7s3 6 1 8c-1 2-6 5-7 11-2 6 3 11 1 14s-3 9-3 17l-1 19c-1 8-3 3-5 9s-3 5-7 6c-5 0 0 3 3 5s1 8 1 12c-1 5-5 11-3 18l4 14c1 6 18 28 19 32s8 8 9 13c0 5 8 8 11 10 3 3 4 10 4 14 1 4 3 11 6 11 4 1 3 8 4 8l3-6 5-8c2-3 2-14-2-18-4-3-1-9 0-12s10-3 8-5l-6-12c-3-5 1-14 7-16 7-2 6-6 4-10-3-5-9-11-10-16s0-12 4-10c4 1 4-2 4-6 1-5-3-5-4-9-1-5-4-1-7 0-2 1-2-3-4-7-1-4 1-6 1-10s-7-7-10-8c-4-1 2 8 0 8-3-1-5-5-8-11-3-7-1-25-3-30-2-4-3-6-2-10 1-5 3-2 7-1 3 1 3-2 3-6 1-5 3-7 6-6 3 0 2 10 6 11 3 1 2-7 1-14-1-8 8-7 13-9 6-2 8 1 10 3 2 3 9 6 13 7 4 0-1-6-2-15s4-18 5-25 6-13 10-23c4-11 11-14 19-14 7 0 11 0 12-4 0-4-1-8-3-10l-6-8c-2-4-4-3-9-4-5-2-7-5-7-10 0-4-3-2-6-2-2 0-3-3-2-6 0-3-7-6-7-4s-1 4-7 1c-7-4-5-7 4-8 8 0 6-9 5-13v-18c-1-3-4-7 0-11 4-3 4-6 4-10s11-8 15-1c5 6 5 7 12 5s4-2 13-2c8 0 5-6 3-10Z"),g(kt,"d","M48 6V2l2-2v-4l-3-3-3-2-3-6-1 1c0 1-1 2-4 2h-4l-2 1-2 5-1 4c-2 3-3 8-3 10l-2 3-1 1-1 1-1 4h-1l-2-2c-1-1-2-3-4-3l-3 2-4 2H2c-1 0-3 1-4-3l-1-4c-1-2-1-5-3-6-3-1-3 0-5 3v1l-2 1 1 2 6 6c5 3 10 5 10 7l2 3 1 1v7c0 3 0 4 2 6v6l1 9a76 76 0 0 0 0 11l10 1c3 0 7 2 10 5 2 4-2 9-3 10l-9 12-7 8-3 5c-1 3-2 4-4 5s-5 5-5 10c0 4 2 4 2 5l1 7 1 16c0 7 3 6 6 6s3 2 4 3l6 1c2 2 4 7 6 7 1 0 4 0 8-4l6-2 7-9 10-12c12-15 12-17 10-21-1-3-3-5-6-7l-3-2c-1-3 0-4 2-6h1v-4l-1-1v-2a14 14 0 0 1-2-5c0-2 0-2-2-3l-1-2v-2l-1-7 3-4 1-2-8-22 7-13c0-1-3-6-6-8l-2-5-2-4-1-4 2-2v-3l1-3V6ZM16 406h-3c0 1 0 0 0 0v3l1 1 1 1v1h1l1 1 1 2v2h2v-1l1-1 1-1 1-1 1 1 1 1v-1l2-1v-2h1v-4h-2l-1-2-2-1v-2h-1l-1-1-1-1-2 2 1 1-3 3v-1 1Zm0-1Z"),g(Et,"d","m40 400-1-1-1-2-2-3-1-1v-3l1-1 1-1 1-1-2-1v-2l1-1h1l-1-1h-2l-1 1-1 1-2-2h-2l-2-1v-1l-2-1v-1h1l-1-1v-1h1v-2h-2v-1l-3-1-1-1-1-1 1-1v-2h-2v-2h-1l-1-2-1-1h-1l-1-1-1 1H8l-1 1-2 1-1-1-1 1-1 1v2h1v1H2v1l1 1v1l1 1 1 1 2 2H5l-1 1v2h2v3l-1 1v1l-1 3h1l4 4v1H6l-1-1 1 1 2 4v1l-1 1v-1H6l1 2 1 1 1 2 3 1 1 1 2 1 1 1c2 0 2-1 2-2v-2l2-1 1 1h1l1 1 1 1 1 2 2 1 1 1h1v2l-1 2v1l-1 1 3-1h2l2-1 1 1 1-1v-2l-1-1v-2l1-2h1l2-1 2-2-1-1Z"),g(It,"d","m-10 403-1-1-2-3v-1l-1-1-10-9v-3l-1-1v-2l-1-1-1-1h-1v-6h3l2 3h1l1-3h3l1-1 2 1 1 1v-1l1 1h4l1 1 1-1h2v1h2v-1l1 1h3v2l1 1h2a6 6 0 0 1-1-2v-1l2-2h1-1l-1-1H3v-3l-1-1v-1h1-1v-3H1l-2 1-2 1h-6l-2-2h-2l-1-3-1-1h-2l-1-2-1-1-1-1h-1 1l-2-1-1 1v1h1-3v1l-1 1h-1v1h-2v1h1v4h-3v1a25 25 0 0 1-1 0l1 1-1 1 1 1v1h-3l-1-1h-1l-1 1-1-1-1-1v-1 1l-2 2h-2l-1-1v1h-2l-3 1-3 1v4c0 4 4 5 6 4 2-2 1-5 3-6 1-1 3 2 4 5l3 7c1 2 0 5 2 7 2 1 6 4 10 4 5 1 6 1 9 4l2 2h3v-1Zm27-217 7-1c1 0 3-2 0-3l-6-1c-3 2-2 2-3 4-1 1 0 2 2 1Zm60 313-9-3c-6-2-4 2-7 1-2 0-3-2-7 0-2 2 0 5 1 5h7c2 0 4 4 6 4l6-2c4-1 7-1 8-3 2-2-2-2-5-2Zm71 8c3 0 5-2 7-3 2 0 5 1 5-1 0-1 0-4 2-5l3-4-6 3c-2 1-4 2-5 1l-3-1c-4 1-4 3-7 4-3 0-5 2-3 4 2 1 4 3 7 2Zm69-528c-7 0-10-2-12 2-4 8 0 12 3 15 3 2 1 5 5 4 5-2 7-5 9-6 3 0 7-5 5-8s-3-6-10-7Zm-40 538c2 0 2-1 3-2l1-1 1-3 3-2h1l1-1v-3l1-2-1-1c0-2-1-2-3-2h-7c1 1 2 2 1 3a119 119 0 0 1-5 15h2l2-1Zm0 1h-2l-2 1-3 5c-2 2-1 5-2 9l-2 4 6 23c2-3 7-22 7-43l-2 1ZM50 295l1-1h-1v-2l-2-2-1-1-6-6 1-1 1-3 1-1v-2c1-1 0-2-1-3l-2-3c0-2-2-3-4-5l-2-3-4-10a59 59 0 0 0-1-3l-1 1-3 1H16l-7-1-4-2-5 1c-4 0-5 2-7 3-1 0-5-1-5-4-1-4-4-4-6-3l-9 1c-2 0-1 2-2 3-2 1-4 0-5 2 0 1-1 3-4 3l-3 1v7l-2 2 2 2 2 2v4l2 2v3l-1 3 1 2-1 1v1l2 1 1 1 1 1-1 2-1 3v2h1v-2h2a221 221 0 0 0 2 3h2l1 1h1l1 1h1v1-1h2l1 1h1v1l-1 1h-1v1l1 1 1 1 1 2h2l1-1 1-1h-1v-1l-1-1 2-1 1 1 1 1 2 1h2l1-1 1 1-1 1a7 7 0 0 1-1 1l2 2h1l1-1 2 2h1c2 0 2 1 2 2l1 1 1 2 1 1h1v1h1l1-2h1l1-1 2 3 2 1v2h1l1 1v-1l1-1 1-1h5l1 1 1-1h1l4-1h2c2 0 3 2 3 3l4 1v1l3 1v-1l-1-1-1-5 5-6 3-5 4-1 1-2v-5Z"),g(Mt,"d","m-38 295-1-1v-2h-2v2h-1l-2 1h-1v1h-3l-1 1-1 1h-1l-1 1-1 1h-1l-1 1h-2l-2 1v1l-1 2-1-1-1-1v2l3 2 1 1-1 2v2l1 1 1 2 1 2h2l2 3h1l1 1 1 1h1l2 3 2 1v1l2 1 1-1h3l1-2h1l1-3h3l3 1h1l2 1h1l1 1h2l2-1 1 1h1l1 1v1l2-4 3 1h2l1-1h1v-1l1-1h1v-1l1-2 1-1 2-3h3v-1l-1-2-1-1-2-2h-1l-2-1h-3l-1-2s-1 0 0 0v-1h1v-1h-4l-1-1-2-1h-1v1h1v2h-1l-1 1-1 1h-1v-1l-1-1-1-2h-1v-2l1-1h1l-1-1h-3l-1-1-1-1h-4l-1-1-1-3-2 1v2h-3Zm20 63v1l1 1h2v1l1 1 2 2h2l1 2h3l2 1 3-1 2-1h1v-1l2-1h2l2-2a56 56 0 0 1 4 0h7v-1h2l2-1 1-2h1v-1h-1 1v-2h1v-1l2-3v-1l1-1 1-1 1-3 1-2 1-1 2-2h1l1-1 2-1v-1h1v-1h-3v-1l-1-1-1-1-1-1-2-1-1 1h-2l-1-1-1-1-2-1-3 1-2-1-3 1-1 3-2 1H7v1l-2 1-2-1-2 1v1l1 2v1l-3 1h-1l-8-1-3-3h-2v1l-1 1 1 1s1 0 0 0l-1 1h-3l-1-1-1 1 1 1 1 1v1l-2 1a20 20 0 0 1 0 3l1 1v1l-1 1h-2l-1 2h2v2l1 1 1 1v1l2 1Zm110 12 1-1v-2l1-1h1v-3h1l1-1 1-1h-1v-2l-1-1v-1l1-1h1l2 1 1-1v1h1l1 1 1-1 2 1h2v-1l-2-1h-1l1-2v-2h-1l-1-1h-1v-3h-1v-1l1-1-1-1h-1l-1-1-1-1-1-1 1-1v-4h-2l-2-3h-2l-1 1v-1h-2l1-1h-2v-1l-3-2h-4l-1 1-1-1h-4v1h1l-1 1 2 1 1 1a14 14 0 0 1 2 5l1 2v1l1 1h1l1 2h-1 1l1 1v1l1 1 2 1 1 4v6l-1 1v10h3Zm135 50h3l4-1 1-1 3 1 1 1 1 1 1 2 2 1 13-2h3v-1l1-2 3 1 6 3 4 1h2v-2l-2-2-1-2h-1v-2l2-2-1-1-4-1-1-1-2-1v-1l1-2 1-1h-3l-3-2-1-1v-1h-1l-2 1-2-1-5 2h-4v-2h-1s-2 0-5-3l-4-2h-7s-14-8-18-6l-5 3h1c6 4 9 5 15 12 6 6 4 9 2 13l3 1Z"),g(Pt,"d","M103 372h-3l-1 1-2 1-1-1-1 1h-2l-2-1-1-1-1-1-1-2 1-2v-9l1-2v-2l-1-1-1-3-1-1v-1l-1-1v-1h-1l-1-1v-1l-1-1h-1v-2h-1l-1-2v-2l-1-2-2-2-1-1h-2l-1 1-1 1-1 2-8 1c-1 1-2 3-4 3l-1-1-1-1-2-1h-7l-2-1v1h-1l-3-3-1 2h-1l-1 1-1 2h-2l-1 1-2 1-1 1-1 2-1 3-1 1-1 1v1l-1 3v1h-1l-1 2a4 4 0 0 1 0 1l-1 2-1 1h-2l-1 1h-1v1h-3a11 11 0 0 0-1 0l1 1 2 2 1 1 1 1v4l2 1 2 1h1l1 1 1 1v1l-1 1 1 1v1h-1l-1-1 1 1 1 1h1v1h1l3 1 1 2v-1l2-2h2l1 1v1l-2 1v1l2 2h1l2 2h1l-1 1-2 1 1 1h6l2 1 2 1h12l2 1h1l2-1 4-3 4-2 4-1 2 1 2 1h3l1-1 1 1 1 3h1l6 1 2-8c2-4-1-4 0-6l6-3v-3l-1-2Zm582-56 1 2 4 3 3 1h5l2 2 1 1 1 1v-1l6 3a93 93 0 0 1 7 16l-1 3 1 4v1l-2 4 1 2 1 2c1 3 1 3 4 4h20c5 1 8 3 11 5l5 3h3l4-1 2 1-1 1-1 1 1 2c2 0 2 1 2 3l1 3a43 43 0 0 0 8 11v-1h2l2-1h9l5 1h12l6-1 3-1h5l3 1 8 1c1 1 4 4 10 5l3 1v-1h13l2 1-1 1v1c1 1 2 2 6 0l24-12 17-3c3 0 4-1 6-3l3-3 6-5c1-3 7-7 8-8l-5-10 4-6h20l5-2 1-5v-2h8l8-6 6-10h5l2-4h4l6-3 3 1 3 2 7-3 1-1-2-3-3-2-5-5-3-1-3-2c-2-2-3-3-5-2l-3 2-2 1h-14l-5-2v-1l-1-4 2-4 1-2 4-9 2-4 1-2c1-2 3-5 2-6h-3l-6 1-10-1h-9l-5 3-5 5-9 6-4 2c-4 3-7 2-15 2l-4-1h-8l-2-1c-4 0-4-1-5-3l-1-1c-2-3-4-3-8-4h-2l-4-2h-3l-10-2-6-1-4 2c-1 1-2 3-5 3l-6-1-3-1-3-1-3-2-3-3-4-3v-8l-2-1-6-1c-3-2-4-2-6-1h-9l-2-1c-4-1-4-2-8-5l-2-1-1 4v2l-2 6-2 2v2l-2 3-1 2h2l1 3 3 2c2 1 1 2 1 3l-1 3c0 2-2 5-5 5h-1v3l-3 1-4-1h-8l-3-1-2-1-9-1c-3-1-3-3-3-5v-2l-1-1h-1l-4 1h-1c-3 0-6 0-9-2h-2l-4-1-1-1-2 3-1 1-1 2-2 3-2 2-2-1h-2l-2 2-2 2a170 170 0 0 0-11 4l1 1 1 2v2h-1l-2 2-4 1c-2 2-4 1-5 1l-3-1 1 1v10l2 3Z"),g(Ot,"d","M203 316h-1v-3h-1l-2 1-1-2-1-1h-2l-1-1-1-1-2 1-1-1-2-1h-1l-1-1-1-1h-1v1l-1 2-1-1v-1l-2-1-1-1v-2l-1-1-1-1-3 1-3 1-2 1-1-1h-2l-1-2h-3v1h-2l-1-1-1-1v-4l-1-1v-3h-1v-1l-1-2h-2l-1 1-1-1h-4v-5l-2-2 1-1h2v-1l-1-2-2-3-3-3h-3l-1-1-2 1c0 1 0 2-2 1l-4-1-1 3-1 1-1 1-2-1h-2l-2-1-1 1h-4v2l-3 3h-1v3l1 2-1 2h-1v-1h-1l-1-1-1-1h-1l-1 1h-1l-1-1v-1l-1 1-2 2-2-4-3 1-1 2-1-1v-1h-3v-1l-1-1v1l-2 1-1-1-1 1-1 1v-1l-1-1-1 1-3-1v-2h-2l-3-1-1 1v-1l-3-1h-1l-1-1h-2l-2 1v-1h-4l-4 1h-3l-1 1-2 3h-1v1l-2-2-1 1v5h1v1l2 3 1 1v2h-1l1 1v3l-1 1-1 2-3 1a123 123 0 0 1-8 11v5h1l1 1v1l-1 1h-1l-2-1v1l-1 2-1 2-1 2v2h1l1 2 1 1 2 1v1h2v1l1-1 1-1 3 2v-1l3 1h2l3 1 1-1 2 1 1 1 1 1 1 1 3-3 8-2 2-1 1-1 1-1h1l1-1v-1h3l1-1 1 1 1-1 1 1v-1h3l3 3h2v2l1-1v1h4l1 2h3v5l-1 1v1h1l1 1v1h1l1 1v1l-1 1h1v2h1l1 1h1v5l2 1v1h-1l-1 1-2-2v1l-1 1-1-1v-1l-1 1v-1l-2 1-1-2h-1v3l1 1v1l-1 1v2h-1v1l-1 1-1 1v1l-1 1v1l-1 1h-2v1h2l1 1h2l1-1v1h1l1-1 1-1c2-1 3 0 4 1l1 2 1 2c2-3 0-4 0-6l4-2c2-1 3-6 6-10 4-4 4-2 9 0 4 3 2 3 5 3 4 0 9 2 9 4 0 3-2 2-5 4s-2 4 0 4c1 0 6 3 5 6-2 3 4 4 9 4 5 1 4-3 5-4l6-1 4-4h9c4-1 0-3 0-4s-2-2-5-1h-7c-3-1-3-4-4-6-2-2-2-2 0-3 1 0 0-6 2-5 7 1 11-2 15-5 5-3 5-4 8-4l4 1 1-1-1-1v-2l1-1a2 2 0 0 1 0-1l1-1c3 0 4-1 4-2h-1l1-1h6l1 1 2-1 1-2 1-2v-1c-1 0-2-1-1-2l-1-2v-1c-1-1-2-1-1-2l2-1h1l1-1h-3l-1-1v-1l2-1 2-2 1 1v-3Z"),g(Dt,"d","m34 325 1-2 1-1v-2l-5-2c0-1 0-2-2-2l-1-1-2 1h-3l-1 1h-1l-1-1h-4l-1 1-1 1v2l-2-1h-2v-3l-2-1-1-2H6l-1 1v1l-2 1v-1h-4l-2 2h-1l-1 1v2l-1 1-1 1-1 1-1 1h-1l-2 1-3-1-1 4-1 2v1l1 2 1 3v-1l2 1 3 2 8 1h3v-4l2-1h3l1-1h7l1-1 2-4 3-1 2 1h3l3 1 1 2 2-1h1l1-2 1-3ZM14 222c4-3 5-3 8-3h1l4 1h1l1-1h3l4 2h3v-1l2-2 1 1v1l1 1 1 1 5 2 1 2 2 2h2l2-1h4l2-1v-2l3-2v-4l-1-2-1-1v-1h-2l1-4v-1l-1-3-1-1v-1h-5l-3-1c-1-1-3-2-3-4-1-1-6-3-7-2l-2 1-4 2v8c-1 6-5 5-7 4l-1-2-4-5c-1-2-3-3-6-3-2 0-6 4-8 6-3 2-2 3-1 4l-1 4-1 11a98 98 0 0 0 7-5Z"),g(jt,"d","M42 196c1 0 6 1 7 3l3 3 3 1h2l2 1-1-1v-1l1-1 2-1 1-1-1-1-1-3v-2l-1-5c0-2 0-4 2-6l1-1 2-4v-2l-1-2-2 1-5-1-6-2c-3 0-5-2-6-1l-3 3-9 2-5 4v9l-3-2-5 2-2 1-2 1-2 2 1 3v5l2 1c2 1 1-2 1-2l1-2 2-2 2-1 1-1v-4h2l2 1 2 2 4 3 3 2v2l3-2 3-1Zm735 465c0-3-1-6 1-7l1-1 1-3v-3l2-1h1l1 1 1 1v-1l1-3v-1l-1-2-1-4-1-2v-3l-2-3-1-3-1-6h-2l-2 3v5l-1 1v1l-1-1-1-3h-1l-1 1v1-4l-1-2v-5h1v-1l2-1h1l1-1 1-2h1l1-2v-1h-6a12 12 0 0 1-2 1l-2 1h-2l-2-1-4 1h-4v-1l-3-3-1-2-1-3v-3l-1 1-2 1-3-2-1-2-1-1h-2l-4-3v4l-2 2v8l1-2h1l6 5v1h-6l1 1 1 2-1 1 2 4 1 2-1 1-2 1v1l1 2 2 3 1 2 2 3 2 6 1-2c2-1 1-3 1-5 1-3 3-1 5 1 1 1 2 2 4 1 1-2 3 2 4 5 1 2 2 4 2 9 0 4 4 8 8 13 2 3 6 4 9 4l-2-4v-1ZM267 446l-1-1h-3l-3-1-1-1h-2l-1 1v3h2l4 3 3 2 3 1 1 1a110 110 0 0 0-2-8Zm261-20-2-2v-2l3-4-2-3-2 1-2 1-2 2-2 1-1 1-1-1-1-1-1-1-1 2v1l1 4v1l-2 1h-7l1 1 2 2-1 1-1 3-1 1h-8l-3 1h1l-1 3-1 1 1 1 1 1h2v1l2 1h3l1 2-1 1 1 5v1l1 1v3l-3 7-1 3-1 1s1 3 3 3h1l1-1 2-1 4-3h2c1 0 0 0 0 0l1 1 2 1h1v-4l2-1h3l2 1h1v-2l1-2v-1l1-1a53 53 0 0 1 1-3l1-2 1-2 1-1 1-1h2l1-1 1 1 1 1v2l1 2v2l1 2v3c-1 2 0 4 1 8l1 2h3v-1l1-1 4-1h2l1-1 1-1 1-1 1-1 3-2c3-2 5-1 6-1l-1 3 3-1 6-2c2 0 3 1 3 2h1l1-2v-6l-1-1-1-2-1-2c0-2-2-2-4-3h-2c-2 0-4 0-5-2v-2l-1-4-2-4h-4l-7 1-2 2-1 1-1-1-1-1h-1l-2-1v-1l-2-1h-3l-1 1c-2 1-4 2-5 1l-2-1v-1l-2 1-2 1h-5l-3-1c-2-1-2-2-2-4l1-3 1-1 1-1v1a20 20 0 0 1 6-2l2 2 1 1h2l2-1 1-1 1 1 2 2h1l-1-2-1-1v-1a44 44 0 0 0-5 1Z"),g(Ct,"d","M382 414v-5l1-2 1-1h2l3-1 1-1h1v-1l1-2h3l1 1-2-3 4-2v-2l2 1 2 2 3 3h5l3 3 1 2c-1 0-1 1 1 1l2 1h1l-1 2-2 3-1 1v1l5 2h9l2-1h2c1 0 2 0 3 2l1 2 1 3 5 11 35 21h3l2 1 3 1 2 3v6l5 1 6 1h1l1-1 1-4 3-6v-4l-1-1v-8h-3l-2-1-1-1h-2l-2-2 2-2v-3h11l1-2 1-2v-1l-2-2v-1l2-1h6v-1l-1-4 1-1 1-2h1l2 2h1l1-2 3-1 1-2h3c2 1 3 2 2 3l-3 4v1l1 1 1 1h5v-1h3c2-1 2 0 2 1l1 1 1-1 1-2 2-2h3l1-1 2-1 2-1 1-1 1-2h-4l-3-1h-2v-2h-3l-1-2a4 4 0 0 0-1-2c0 2-3 4-5 4l-2 1-2-1c-2 0-2-1-2-2v-2l-2 2-1 1-2-4c-1-1 0-2 1-2l1-1 3-1h1v-1l1-2 3-2-3-2-4 5-1-1v-1s-8 11-11 11h-3l-1 1-1 3h-1l-2 2v6h-2l-1-1c-2 0-3-1-3-2v-1l-1-2v-3h-2l-12 1h-1 1s0-9-3-10h-4l-1-2v-3l1-9h-4s-4-10-8-10h-2c-1 1-2 2-4 1h-1a63 63 0 0 0-22 2l-3 1-2-3c-2-4-5-9-10-10l-13-8c-5-4-10-8-13-8l-27 10 3 53 10-1v-3Zm-293-9c0-6 3-5 5-8l2-2-6-1-1-1-2-2v-1l-2 1-1-1h-2l-2-1h-5l-4 2-3 3-3 2h-1l-2-1h-5l-2-1h-5l-2-1h-8l-1-1v-1l1-1 1-1-2-2h-1v1l-2 1-1 2 1 2v1l2 3 2 2v1l1 1c1 1 0 2-1 2l-1 1h-2l-1 1v6l-1 1 2 2 3 2v2l1 1-1 1v2l1 1v1l2 1 1-1h2l1-1h4-1v-1h3l2-1 1 2v1h2v-1l1 1 4 1h4v-1h4l-1-2v-1l1-2h1v-1h2v-1l1-1h1l3-1h3l1 1 1 1 1-1h1v1-1h6l-1-2c-2-4-2-4-2-9Zm185 45h1l-1-2v-2h-1l-1-1-2-1-3-2-1-1-1-1v-1h3l1-1v-1l-2-1-2-1-1-3v-5l-2-1-2-1v-2l-1-1h-3l-13 3h1v7l1 2v2l3 2a50 50 0 0 0 5 1l3 3v1h1l2-1 1 1 3 2h3l1 1 1 1a121 121 0 0 1 3 7l3-2v-2Z"),g(Lt,"d","M499 469h-1l-6-2a71 71 0 0 1-15-3l-2 2-2 2-2 1c-1 0-2 0-2 2l-1 3-1 4c-1 4-4 6-6 6h-4l-1-1v1l-2 2h-6v2l-1 2-4 3c-2 2 0 4 0 4v3l-1 1-2-1-1 9h5l-4 3 1 6v10c0 4-1 5 2 7s8 0 9 0l2 1-2 3c-3 2-4 5-5 7l-1 3c-2 1-3 4-3 7l2 4 2 2 8 1h3a14 14 0 0 1 6 0h4l3-1c1-2 2-3 3-2l2 1 3 1 1-1 4 1h4v-7c-1-1-2-2-1-4l3-4 4-1h4l2-1h2l1 1v-1l-2-3v-1l2-1 5-2c2-1 4-2 5-1v1l1 1 3-1 1-1 1-1v-4l-1-2-1-2h1l4-1-1-1v-2c1-3 2-4 4-4l4-1-1-4-2-5-1-2h11v-5l1-2 5-8-1-1v-2c1-2 2-2 1-3l-1-2-3-4h-1l4-5 1 1v1l2-2 2-4c1-2 1-3 4-2l7-1 2-1 3 1a48 48 0 0 1 5 0h5v-1l-1-2v-2h4v-1l-3-1c-2-1-5 0-6 1l-4 2-1 1 1-1 2-3h-5a41 41 0 0 0-5 3l-1 1-1 1v1l-3 1-4 1v1h-2l-1 1h-1v-1l-1-2c-2-3-2-6-2-8v-1l1-2-2-2v-4l-1-2v-1h-3l-2 2-2 2v2l-1 2-1 1v1l-1 1v3l-1 1h-1l-2-1h-3l-2 1v5h-1l-2-1h-1v-2l-2 1-4 2-2 2h-1l-2 1-2-4-1 1ZM27 430l5-4 1 1h4l1-1 1-1 1-1v-6l-1-2-2-2c-2 0-2-1-3-2h-4l-2 1-2 1-1 1-2-1h-1l-1 1-1 1v2h-2v3l-1 1v1l1 1-1 1v1l1 1 1 1v1h1v1h7Zm714 158h1-1l-1 3 5 3 2 1h4l2-1 1-1 3-1h1l5 2 2 1 3-1h1l5-1 2-1h-1l-1-1v-6l-1-1-2-2-2-1-2-1-2-1-2 1h-16l-2 2-2 2-3 1v2l1 1ZM346 406a456 456 0 0 0 9-1l3 3c6 3 8 9 9 11l5-1-3-53v-1l27-10 14 8c5 4 9 7 13 8 4 2 7 7 9 10l3 3h2l9-2h14l3-1 3-1c4 1 8 9 8 11l4-1v15h4c3 1 3 8 3 10a147 147 0 0 0 14-1v1l1 1v4l3 2a77 77 0 0 1 3 0v-2l-1-3 3-2 2-3v-1l2-1h2c2 0 9-8 10-10h1l1 1 3-5 3-5c2-2 4-2 8-2h3c4 0 7 1 9 3l3 1h1v-5l2-4 3-2c1-2 2-2 3-2l1 1 2 1 3 1 6 2 5-1h31c4 0 5 2 5 2l5 3h1l6 2v-3l-1-2 1-2 2-1h1-1l-1-1 1-2 2-1v-3l-1-2-1-2-2-6-1-5 1-1-2-2-3-2-2-2h1l1-2c1-2 1-2 3-2h4c3 0 4-1 5-2l5-2 3-1v1l1 1h4l2-1v-2l-3-3 7-24 5 2h6l6 2h1l2-1 1-2 2-1 4-3v-2l1-6-1-2-1-6c1-3 1-3 3-3h2a10 10 0 0 0 7-7l2-3 2-1h4l-2-2h-1l-2-2c0-1-1-2-3-2-2-1-2-2-2-3l-1-2-1-1-1 2-2 4h-1c-3 0-5 0-9-2l-3-3 1-1c-1-1-3-3-5-3-3-1-3-3-3-4l-1-1-3-5c-2-4-3-4-4-4h-1l-7 1-4 3-9 1h-1l-2-1v-1l-1-2h-3v-5l-1-1-1 1-2 1-2 2-1 1v2l-3 4h-1l-25-42a155 155 0 0 1-13-12l-1-2h-1v-2l2-2 2-1 2-3-6 2-1 1-2 1-2 1-4 2c-2 0-2 1-3 2v1l-1 2-2 1-2 1-4 3c0 2-1 2-3 2l-1-1-2-1-6 4-1-5 1-1c0-1 0 0 0 0l1-1 2-1h1v-1l-1-2h-2l-1 1-4-1h-1l-2-1v3l-3 1-2-1 1-1v-4l-3-1h-1l1 2v1h-1v-1h-3l-1 2h-3v-1h-4v-3l1-1 1-2v-4l-1-2-2-2-1-3-1-3-1-1-1 1h-2l-1 1h-2l-5-1c-2 0-4 0-7-2h-1l1 1v1h-3l-1 2v1h-3v3l-1 1-9 3-12 5-3-2v1l-1 1h-4l1 2h-5v1l1 2-1 1-1-1h-2l-1 1h-4l-2 1-2 1-6 1-1 1-4 1-2 1-1 1-1 1h-1v-1h-12v1l-1 1v1l1 1-2 1v3h4l2 1v1l-2 1h-2v2l8 2 1 2 1 1v1h-10l-2 1v1l-2 2 1 2 1 3v3l-4 3-2 1-3 1-1 1 1 1 1 1h1l2 1 2 1-1 2h5l2 1 1 1 1 1 3 1c2 1 2 3 1 5a19 19 0 0 0-1 2l-2 3c-1 1-3 2-8 2-3 0-4-1-5-3v3l-3 3h-3l-1-1-3-2-2-1-4-1c-2-1-2-2-1-2v-1l-2-1a89 89 0 0 0-1 0l-1 1h-5l1 2-2 2h-1l-2-2-1-1-2-1h-1l-2 1v1h-2v-1l-1 1v1h-1l-3 1v5c-1 2-2 1-4 1s-2-1-3-2h-1l-1-1-2-1-1-2-3-1-1 1h1v6l-2 1h-1v-5l-2-2-1-1-3-3-3-2-1-1-4-1h-7v-1c0-2-2-3-3-3h-2c-1 1-2 1-2 3v1l-1 1h-1l-2-1-1 1-1-1 1-1-1-2h-6v1l1 1h-1l-2 1c-1 3-2 6-8 7h-3v6l-4 3-5 2a74 74 0 0 0 5 9l-5 5-10-12-3 4-2 5-3 3v1l1 3-1 3h1v1l2 2-6 11 6 2 3 1v7l2 2v-2h5l5 3 2 3 3 4 1 1 2 4v1l-2 1h-1v2l4 2 1 1 2 2 6-4c2-2 9-2 11-1s5-2 8-3c4-1 6 7 7 12 1 4-1 9-5 9-3 0-9 2-12 5-2 2 3 8-1 8s-7 3-5 4c2 0 5 5 7 7l4 8c1 2 8 3 13 4 4 1 2 6 0 13v5l4-4c5-5 5-5 12-7Zm309 145-3 3c-2 1-2 1-2 3v5l-1 2-2 3 3 2 2-1h1l7 4v1l1 2 1 1a42 42 0 0 1 10 4h3l1 1-1 1 2 1h1l3 1 1-1a163 163 0 0 0 6 1l1-1 3 1h1l3 2v3h1l1 1 4 1h4l2-1v1l1 2c1 1 1 0 2-1h2l4 2h3a23 23 0 0 1 1 0l1-1h1l-1 1 2 2c1 1 1 0 2-1l2-1h3l1-1 1-1v-1h1v-1l-1-2v-10h-2l-6 1-7-3-1-1-1 1-1 2h-2v-2l-2 1-2-2-2-3h-2l-1 1-2-1v-1l-2-2h-3l-3-2-1-1c-2-1-2-2-2-3l1-1h-5l-3 1c-2 0-2-2-3-4l-1-2-3-2-3-1-3-1-1-1-1-1v-1l1-1-1-1-1-1h-6l-1 1v1l-1 1-1 1h-1l-1-1-1 1h-1ZM271 416l1 1v1l1 2 2 2 1 2-1 1-2-1-4-1-6-2-1-1-1-1-1 2v2l1 1v1l1 1 2 1v5l2 2 1 1 2 1 1 2h-1l-1 1-2 1v1l2 1 2 2h2l1 1h1v2l1 1v2l-1 2 5-3 3-2 4-3h3l2 1v1l2 1v1l-1 2v2l-1 1v2c1 1 2 3 5 4 2 2 3 1 4 1h1v-1c-2-3 0-8 0-11s3 3 3 3l1-6 1-9c1-2 6-3 8-4 1-1-4-4-7-5-3-2-8-9-11-15l-2 3-2 2-1 2c-1 2-2 4-4 4h-2l-2-2-6-6h-3l-1-1-2 2Z"),g(Zt,"d","m361 458 5 2c2 1 3 1 6-2 3-2 4-4 4-6 1-2 1-3 3-3l3-1h8c1 0 4-4 6-3h6l4 4 4 2 3 1 3 2 3 2 2-1c1 0 3-1 5 1l2 2 1 3 6 3 5 2h7v18l1 2 4-1 1 1 1-1 1-2h6c2 0 5-1 5-5l1-4 1-3c1-3 2-3 3-3h2l1-2c1-1 1-2 3-2l6 1 4 1-1-3v-2l1-1-2-2-3-1-3-2h-3l-34-21-5-11-2-3-1-2-2-1h-4v1h-1l-2-1h-2l-2 1h-2c-2 0-4-2-5-3l-1-1 2-2 2-2 1-2h-4l-1-2v-1c0-2-2-3-3-3h-6l-3-3a72 72 0 0 0-2-3l-1 1-3 2 1 3v1l-2-1-2-1-1 2v1l-1 1h-1l-3 1-1 1-2 1-1 1v3l1 1v1l-1 3-10 2h-6s-2-7-8-10l-3-4c-1-1-1-1-6 1h-3c-6 3-7 3-11 7l-4 5 5 4c3 4 1 4-1 7-1 4 3 10 5 10 1 0 2-3 5-1 3 1 1 3 0 6-1 2 1 3 4 5 2 3 3 5 2 10v1l3-1 7-1Zm382 177-2-3-2-3-1-3-1-2v-1l2-2 1-1-1-1-2-4h-1 1v-2l-1-2 1-1h4l-5-5v1l-2 1v-8l2-3v-4l5 3 1 1c1-1 1 0 1 1l2 2 2 2 2-2 1-1 1 1v3l1 3 1 2 3 3 3 1 3-1h4v1l2-1h1l2-1h6l-1 3v1l-2 1-1 1v1l-2 1h-2v4l1 3v3l1-2h1v1l2 2v1-3l1-1v-2l2-3 1-1 1 1c1 0 2 2 2 6l1 3 1 3v1l1 2v2h2v-12h1s1 2 3 2v-1l2 1 2 1 6-14-2-1s0-3 2-4l1-1 1-1 2-9v-1l8-6c3-2 6-3 8-2l2 1 1 1-1-2-1-1 1-1 2-3-3-1-2-1-2-1-4-2-3-1-2 1a261 261 0 0 1-12 9l-2 1-2 1-1 1-1 1-2 1h-9l-4 1h-1l-5 1h-6l-6-2-2 1h-1l-3 1h-4l-2-1-6-3a144 144 0 0 1 1-3v-3l-2-1-2-1-3 2 1 3v4a34 34 0 0 0-1 1v1h-5l-1 2-2 1h-1l-2-3v-1 1l-1 1h-2l-2-1-4-1-1-1-3 2-1-3-2 1h-4l-4-2h-1l-1-1v-3l-3-2h-1l-3-1-1 1h-3l-3-1-1 1h-3l-1-1-2-1v-1h-2l-1-1c-1 1-1 0-2-1l-8-3h-1l-2-3v-1l-7-4-2 2a28 28 0 0 0-4-3l1-1 2-2v-2l1-5c-1-2-1-2 1-3l3-3 1-1h1l-2-3-1-2-1 1-2 1h-1l-2-4-1-1c0-2-1-2-2-2l-2-1h-3l-2 1c-2 0-2-2-3-3v-5l-1-3-1-1v-1l-3-4v-5c-1 1-2 2-3 1-2 0-2-1-2-3v-2l-2 1-2 1-2-1-2-1h-1l-6-2-2 1-1 1c-2 0-3 1-4 3v4c-1 2-4 3-5 3l-4 3-3 1-2 1v1l1 1v7l-3 4-2 3a37 37 0 0 1-3 3l-4 4c-2 1-3 4-4 7l-2 5-4 5-2 3-1 1-6 4-4 1-4 1c-2 1-3 1-3-1l-1-1-7 3c-6 4-3 12-3 12l1 1 5-1h1l-2 9 3 2h3v4l4 9v4h-10l-3 1-2 1-3-1-2-1h-3v2l-2 2a9 9 0 0 0-4 2v1c0 1-3 3-1 6s8 4 13 3c6-1 5 1 2 3-3 1-10 1-5 10s16 11 17 11l9-2c3-1 3-5 4-7s0-4-1-7c-2-3 1-3 2-3h4c1 1-1 1-2 2v5l3 2c-1 1-2 1-2 3 0 3 2 4 2 10s-1 7 1 10l3 13c0 5 3 10 5 14 1 4 0 8 3 13s9 13 11 21 5 15 9 18c5 4 11 20 12 24s1 12 9 19c7 7 10-2 10-4s2-3 6-4c5-1 3-3 4-7 1-3 4-4 7-6s1-6 0-11l1-9c2-3 4-9 4-13s-3-5-4-12c-2-8 2-10 8-17 7-7 11-5 13-7l3-8c1-2 5-3 7-5l8-8c3-1 2-3 4-6l5-7c2-3 5 0 11-5 7-5 5-8 5-11s2-5 4-6l8-4c3 0 5 1 5 2l7 1 6-3 3-4v-1l-2-5Zm-437-91h-3v-5c0-3 1-3-1-9-2-5-5-6-8-8h-2l-3-1-3-2-1-2 2-1a71 71 0 0 1-7-9l-1-1h1v-3l-1-1v-1l1-1h1l1-1v-2l2-3h1l1-1 1-1-1-2v-3l1-2-5-1-3-2-1-1v-3l-2-1-2-2v-3l-1-3v-2l-1-1-2 1-2 1-1-1-3-1h-9l-3-1v1l-4 2c0 1-4 5-8 7l-3 1v2l1 1v10c0 6-2 11-3 12l-23 14c0 2 3 10 5 12l2 2 2 2v4h2c4 0 15 5 25 11s29 23 31 25h17l10 2 2 4h5v-2l-4-4-2-5v-7l1-4c1-1 2 1 3 2h2l-7-8v-5ZM72 427v-1l1-1 1-1v-3h-1v-1h-2l-1 1 1 1v2l-1 1-2-1h-1v1h-3l-2 1-3-2h-1v1l1 1-1-1-2-1-1-1v-1h-4v2l-1-1h-1l-1 1h-4l-1 1h-4l-1 2h-6l-5 4-2-1-3 1v4l-2 1v1l-1 3h-2l-1 1v2s1 0 0 0v1a3 3 0 0 1-1 0v1h-5l2 5c2 2 6 1 9 4 2 3 1 5 3 6 3 1 4 2 5 5 0 4-2 3-2 5 1 3 5 4 6 8s6 7 7 9c2 2 3-1 3-4 1-3 3 2 5 2 3-1 1-3 0-4s-2-2-1-4c2-1 5-2 2-3-2-1-2-2-2-4 1-2 5 1 8 2 3 2 0-2 0-4-1-2 1-3 1-2 1 2 4 5 6 4 3 0 1-3-1-4s-4-2-4-7c-1-4-4-3-7-3-2 0-3 2-4-3 0-4-4-7-5-10-2-3 0-5 4-4 5 1 2 4 5 4 2 0 0-3 1-3 0 0 2 3 4 2 2-2-2-4-2-4h4c0-2-4-3-3-5l3-3c1-1 4 2 5 0 1-1 4 0 8 1l2-2v-2Z"),g(Ht,"d","M179 487h1c3-1 5-1 6-3v-2l1-2 2-1v-5l1-3h1l1 1c1 1 1 2 3 2l6-2 1-1c2-1 4-2 5 0l1 2 1 1 5-1 7-2 9-3 4-1 6 1 5-2 1-1h1v2l1 1 4-3v-1l1 1h2l4 1h5l-5-4-2-3-1-2-1-3-1-1v-3h1l2-1-1-2v-2l-1-2-2-3-3-1h-2c-1-1-3-1-3-3l-1-2v-8h-1c0-2-1-3-2-3l-1-2-1-1h-1l-3-1h-1l-4 1h-6l-1 1c-1 5-7 5-12 6-6 1-13-1-23-2-10-2-11-4-14-6-2-2-5-2-10-4s-8-1-21-1c-12 1-12 4-15 7s-6 5-9 5c-4 1-5-1-10-1l-10-2c-4-1-5-4-6-7h-6v2l-1-1-1-1v1h-1c-1 1-1 0-1-1l-1-1h-3l-3 1h-1v2h-2v2l2 1v4h-2l-1 1v3l-1 2 3 1c6 1 5 4 3 8s1 8 4 8c3 1 4 9 1 11-2 1-3 5-2 6s4 1 5 3c2 2 2 10 5 11 4 2 12 2 15 7 2 4 13 6 17 2s3-8 6-7c4 0 8 2 11 5 4 4 10 3 15 2s5-2 6-5c2-3 4-3 6-3 2 1 3 3 8 1 5-1 2 2 1 3v3h4Z"),g(xt,"d","m452 610 1-6-1-2 1-3h1l2-2 6-4h2c1 0 0 0 0 0v1h2l2-6v-1l-3-2-3-1v-11h-9c-3-1-3-3-4-5l-1-4-2-2-1-2c-2-1-3-2-3-4 0-3 2-6 3-8l1-2c1-2 2-5 5-7l2-3-1-1c-1 0-6 2-9 0s-3-3-2-7v-9l-1-7 2-3h-3l1-9h2l1-3c-1 0-2-2-1-4l5-4v-1c1-2-1-4-1-4v-17l-6-1-5-1s-4-1-6-4l-1-3-2-2h-7l-3-1-4-3h-2l-5-3-3-4h-6c-2 0-5 3-6 4l-4-1-4 1h-3c-1 0-2 1-2 3l-4 7c-3 3-5 2-7 1l-5-1h-7l-3 1c1 5 5 11 5 11 2 6-2 5-5 5l-17 2c-4 0-12-4-16-7-5-4-7-2-13-4-5-2-3-4-4-7h-1l-2 1-2-1-6-5v-2h1v-2l1-2 1-1-1-1-1-1-2-1h-3l-4 3-3 2-8 4v1l-4-2-3-1-3-1-3-3-1-1v3h-3l1 2v2l1 3 1 2 2 3 5 4c3-1 3 0 3 1l1 1 2-1 3-1v1l1 2v6l2 1c1 0 2 0 2 2v3l1 1 3 1 5 2h1l-1 1-1 1 1 3 1 3-2 1h-1v1l-2 2v2l-2 2h-1v6l1 1 7 8-2 2 1 1 3 1a64 64 0 0 1 4 2c3 1 6 2 8 7 2 7 2 7 1 10l1 5h2v5l7 8 2-1c2-1 4 0 8 1 3 0 3 0 5 3 1 2 3 8 7 12 3 5 2 8 4 9l12 2c5 2 3 4 5 6l8 4 8 1c5 1 4 3 9-1s12-5 15-3c4 3 5 11 6 14s8 3 10 2h5c1 2 7 2 12 3 5 0 12 6 18 4l5-2v-1ZM-84 180v1l1 3h1l2-5v-9l3-2v-1c3-2 4-3 3-7l-4-8h1s3 0 3-2c1-2 1-5-3-8h-1v-21c0-1-4-11 4-17 5-3 6-2 7-1h2c2-2 2-5 2-6v-2l-2-1h-1l-1-1 2-3 2-4 1-3 2-18s6 0 7-3v-2l2-5 5-8v-4l-1-2-1-2 1-1 1-1a54 54 0 0 0 5-9c1-2 3-1 3-1l3 2v-2c1-5 1-9 3-9 1-1 5 1 10 2l3 1 2-2-1-1v-2l1-3V7l2-1 2 2 1-2 1-1c1-2 2-3 5-2 2 1 3 3 3 6l1 4c2 3 3 3 4 3l3-1 3-2c2-1 3-2 4-1 2 0 3 2 4 3l2 1 2-3 1-1 1-1 2-3 2-10 2-5 2-4 2-2 4 1c3 0 3-2 4-2l1-1 4 5v1l2 1 3 4c2 3 2 3 0 4l-1 2c-2 2-2 3-1 3l1 2v1l1-1 1-2 1-1 3-4c2 0 2-2 2-3l1-2c2 1 4 3 5 2v-2c-1-2 0-3 1-5l1-2h-5c-2 2-4 1-5 1-1-1 2-3-1-4l-5-3h8c2 0 4-3 5-4 2-1 5-1 5-3 1-2-2-2-4-3-2 0-6-1-10-4-5-2-6-3-8 0s-4 4-5 3c-2-1-7-3-8-1s-3 5-6 3-7-2-10-1-10 3-12 5c-2 3-6 5-13 3-6-2-5 3-2 5 3 3 1 5-3 4-4 0-3 0-5 4s-5 5-7 4c-1-1-3-4-4-3-2 1-1 4-1 4h-3l-1 4-3-1c-1 1 1 3-1 4-1 1-3 1-3 3l-2 4c-1 1-3 1-4 4 0 3 0 6-2 7l-10 4c-4 2-5 5-4 7v9c0 3-3 4-5 4s-1 3-2 5c0 2-2 3-3 5v4l-3-1c-2 1-1 3 0 4s3 1 2 4-3 2-3 6-2 7-3 8l-4 6c-2 2-1 4-2 5s-2-2-4-1l-3 5-5 10-7 6c-3 2-5 7-7 10l-7 4c-2 1-4-2-5-1-1 2 1 3-4 6-4 3-5 8-6 14-1 7-3 5-4 7-1 3 2 7 3 6s3-1 3 1v5c0 1 3 1 4 8s-1 11-2 12-4 1-4 4 2 4 6 6c3 1 3 5 9 7 7 2 10-3 12-3 2-1 7-5 13-13l9-5 2-1Zm931 579v-1l2-2h1v-1l-1-1-1-1-1-4-1-1v-1l-2-4v-1l1-5c1-2-2-4-6-7-3-2-4-7-3-9v-1c2-1 2-2 2-5v-3l2-2 1-1-1-1-2-1v-5l-2-2-2-2-3-4-1-3-4-6v-2l1 1h3l1-1-1-1v-1c2-1 1-1 1-2v-2l1-2v-1l2-2h8v-2c0-2 1-2 3-2h3l-1-1v-1h1l2-1h4v-1s0-2 2-3l1-1 2-1 1-1 1-3 3-2h1l1-1h-2l-3 1-3 2c-3 0-4-1-6-4l-2-4-4-2-1 1h-1l3-10h-6v-5l-1-3 1-3h-4l-2 1-3 1-4 1v-1h-1l1-1 2-3v-1h-1l-2-1h-1l1-2v-1l1-1 2-2 1-4h2v-1l2-2h2l1-2 1-2-1-1 1-2v-1l1-5-1-3-1-6h-1l-2 1h-1v-2l1-2c0-3-1-4-2-4l-3-3-4 3v4l-2 2-2 2v1l1 1v2h-2l-2-1c-1-1-4 0-6 1l-9 7-1 9-2 2h-1l-2 4 2 1-6 14-2-1h-2l-3-1v9l-1 2h-1l1 4v7h-1l-1-1-1-1-1 1-1 1-1 1v4l-1 1-1 1v7l2 5h2l5 9 6 13 1 7c0 1-2 3-2 10-1 6 2 5 6 6 4 0 10-1 16-8 6-6 7-3 8-2 1 2 4 4 5 8 0 3 2 4 2 9 0 4 4 7 4 10s0 6 3 8 2 3 4 8l1 9c1 5 1 9-1 11v3l3-4 4-5Z"),g(Ft,"d","M9 55v-9c-2-2-1-3 0-4v-2c-2-2-3-3-2-6v-6l-1-2-2-2c0-3-8-6-10-7-3-1-5-4-6-7l-2-2-1-1h-1l-1 2v4l-1 3v1l1 1v1l-2 2-4-1-9-2-2 9-1 3-4-3-1 1-2 3-3 6-2 2v2l1 1v5c0 3-3 6-4 8h-1l-1 5-1 2c-1 3-5 3-7 3l-2 18v3l-3 5-1 2v1h1l2 1 1 2-3 6h-2c-1-1-2-2-7 2-8 5-3 15-3 15v21c5 4 4 7 4 9-1 2-3 2-4 2l3 8c2 4 0 5-2 8a54 54 0 0 0-3 3l-1 3v5l-2 5h-1l1 1c2 3 0 6 1 10s2 9 5 12 5 12 8 13c2 2 3 3 2 4-1 2-3 3-1 4s2 4 3 8c1 5 7 3 11 0 3-4 7-7 14-8 6 0 4-6 4-9l2-16 1-9c0-3 1-7 9-10 7-3 6-11 6-16s-9-9-13-12c-4-4-3-8-3-11l2-7v-10c1-6 4-6 5-7l3-2c0-1-1-5 3-5 3-1 3-3 4-4l5-1c2-1 5-3 6-8 1-6 3-6 4-7v-5l-2-4c-1-2 0-4 1-6l2-6 4-6 5-1a56 56 0 0 1 0-11Zm525 343-1 1-3 1v2l-1 1h-1l-2 1-1 1-2 2c0 2 1 3 2 3l3-2 1 1v1c-1 1-1 2 1 2h4l5-4v-1h1v1l1 2v1h2l1 1v1h2l3 2h4v3l-2 1-2 1-2 1-2 1h-2l-2 1v2l-2 1-1-1-2-1h-3l1 2v1l1 2-1 1-2-2-1-1-1 1a4 4 0 0 1-2 1l-2-1-1-1-2-1-4 1h-3v1l-1 1v2l1 3 1 1h9l2-1 3 1 4-1h4l3 1v1l1 1h1l1 1h2c0-1 0-2 2-2l7-1h1l3-1h3l1-1-1-3v-2l1-2 2-1 4-2 1-1 2-2 2-1c2 1 3 1 4-1l1-1v-1l1 1 1 4 5-1c2 0 3-2 4-4l2-3c3-3 5-4 7-3h5l4-5 4-2 7-4 4-3 2-1h3v-2l-1-3-5-1-1-1c-4-1-5-3-5-3s-1-2-5-2h-11l-20 1-5 1-7-2-2-1-2-2-1-1-3 2-3 2-2 3 1 3v3l-2 1-3-2c-2-1-5-3-9-3h-3c-4 0-6 0-7 2l-3 5 4 3Zm-536 9v-3l1-1 1-1v-2l1-1 1-1 1 1v1-2H2v-2h3l1-1h1v1a326 326 0 0 0-1-5l-1-1h2l1 1v-1l-4-3v-4l1-1 1-2v-2l-1 1H1v-1l-1-1-1-1h-6l-1 1-1-1h-2l-2-1h-2l-2-1h-1v1l-2-1-2 3h-1l-2-3h-2a4 4 0 0 1-1 2v1l1 1v1h-1l1 1 1 1 1 1v2h1v1h1v3a108 108 0 0 0 10 10v1l2 2 1 1 1 1v1h-1l-3 1h1l3-1 2 1 2 2 1 1 2 2 1 1v-4h-1Z"),g(Rt,"d","m6 416 1-1H6v-1l-1-1 5-6v1l1 2 1-1h1v-1l-1-1v-1h4v-1h-1v-1h-1l-1-1-2-1-2-1-2-2-1-1-1-1H3v-1H2l1 1v1l1 1-1 1H2v-1l-1 1H0v3h-1l-1 1v2l1 1v4l5 5 2 3v-3Zm341 270-24 3c-5 0-19 2-20 7 0 5-3 8-4 9l-3-1-4-2c-2-1-5 0-8 1a52 52 0 0 1-8 2h-4l-4 1h-3l-1-2-1-1-2 5c1 4-1 8-1 11s3 2 4 4v8c0 2 4 3 3 6 0 4 0 3 2 6s-1 5 8 5c9 1 9-4 13-8 3-3 3-1 8 1 4 2 9-1 11-3 3-1 2-4 5-4 4 0 8 0 10-3 3-3 6-3 10-5l15-4c5-2 6-2 9-8s8-7 11-8l-9-26-13 6Z"),g(Bt,"d","M13 445a12 12 0 0 1 2 0v-1l1-1-1-1v-1l1-1h2l1-3 1-1 2-1v-2l-1-2v-1h-1l-1-1v-1h-1l-1-1v-8l1-2-1-2v-2h-2l-1-2v-1l-1-1-1 1h-1l-1-2-4 5v1h1v3l-1 2 1 5c0 3 0 13 2 16 1 3 3 4 2 5h-1 3Zm377 171-1 1 1 2 1 4-2 3-3 2-2 1v3l-2 12 1 8-6 21-16 7 8 26c3 0 5-1 8-3s5-1 9-1c3 0 2-3 2-5 1-3 3-4 5-4 3 0 5-1 9-4 3-2 2-6 4-8s5 0 9 0c5-1-1-6-2-9-2-3 0-3 2-7 1-3 2-4 3-2 2 2 2 1 3-1l4-7c4-4 4-5 6-11s-1-4-3-5l-5-7c-2-2-2-5-4-5h-11c-6-1-7-5-9-7l-3-5-1-4-3 1-2 4Z"),g(Gt,"d","m381 644 3-12v-3l2-2 3-2 1-2-1-3v-4l2-4h1l3-1-2-4c-2-6-8-2-9 0l-3 5c-2 1-4 1-4 3 0 1-1 5-3 6-1 2-4 1-7 2l-8-1c-2-1-5 1-6 2h-3l8 18 23 2ZM47 286l-1-1 1-1-1-1v-1h2l2 1 1-1 2-2v-1h4l4-1 1-1 3 1h4l1 1h1l3 1 1-1 3 2 2-1 1 3h3s0-1 0 0h1v1h1v-2 1h2l2-1 1 1 1 1 1-1 1 1 1 1 1-1 3-2 2 4 1-1 2-1 1 1h1l2-1 2 2 1 1v1l1-1v-3l-1-2 1-1h1l1-3c-2 0-5-5-6-7l-3-2-3-3v-5l2-3-1-1-3-2h-1l-2-2-2-1h-2l-3-3-2-2-1-3v-2l-4-2 1-1 1-2v-1l-1-2 1-1v-3l-3-2-1-1-5 1h-2v-2l-1-1h-4v-1h-2l-1-1-1-1-2 3-1 1-2 1h-4l-2 1v2l-1 1v2l3 2-2 1h-3l-1 1-1 2-1 1s-1 0 0 0l-1 2v1l-1 2v1l1 1 1 1h-2l-1-1h-1l-1 1-1 1h-2l-2 2-2 1-3-1h-1v1l3 10 3 3c1 1 3 3 3 5l2 3 2 3-1 3-2 3v2l5 4v-2Zm-96 83h2v-2h-1v-3h-1v-1l1-1v-1h-2v-2l1-1h1v-1l-8-2-3-1-2-1v-1l-1-1v-2l-3 1h-6v1h-1v1l-2 1h-1l-1-1h-2v1l-1 1h1v3l-1-1-1-1h-1v4l1 1h-1v1h-1v-1l-1-1h-2l-1 1-1-2-1-2v2l-1 2-1 2-2 1 1 1v2h-2v-2h-1l1-1h-1l-1-1-2-1v-3l-3 2v2l-1 1-1 1v1h-2l-2-1-2 1-1 1-1-1-1 1h-1v2h1l1 1c-1 1-1 1 1 2v1c1 1 0 2-1 2l-2 1-1 1v1l1 1v1l2 2v1h-1l-1 2h1v1l1 2 3 1v1l2-1h1v3l-1 1-1 2 4-2c1-2 3-3 10-3 8 0 9 6 12 13 4 7 8 8 10 11s7 10 13 11c6 0 14 9 15 10 2 1 4-1 6 2l5 6c2 1 4 1 5 4l3 8c1 3 0 4-2 9-3 5-1 6 1 7 1 1 8-1 8-4l3-11c2-4 0-5-2-7-2-3-1-2 0-8 0-6 5-2 6-1l6 6c2 1 3-2 3-4s-1-6-3-7l-7-3-9-6c-3 0-6 0-6-2v-5c-2 0-7 0-11-2-4-1-5-4-7-6-2-3-3-7-6-10l-9-8c-3-2-4-7-5-10s1-8 6-11c2-2 4-1 5-1h1l2-1Zm268 161-3-3-5-11a1190 1190 0 0 1-20 11h-2l-2-1-4-2-4-1v-1c-1 20-5 36-7 39l1 4 1-1v2l15 3 5-5 1-2c2-2 3-2 5-2h3c2 0 3-3 4-5l1-1-6-7-4-5h1s14-3 19-6l3-1v-4l-2-1Z"),g(Vt,"d","M247 467v-1h-1l-1 1-5 1h-10l-9 3a257 257 0 0 0-13 3v-1l-1-2c-1-1-2-1-5 1h-1l-6 2-4-1-1-1v-1 3l-1 2v3l-2 1v2l-1 2c0 3-2 3-6 3h-4v10l1 2h7c2 0 3 1 4 3v4l-1 2-1 1-1 1-2 1-2 4-1 1-1 1v5l4 2 4 2h7a1235 1235 0 0 0 40-25c2-1 4-7 4-12a358 358 0 0 1 0-10l-1-1-1-2 3-2c5-1 8-5 9-6l-1-1Zm84 121 1 6v3c0 2-2 0 0 2 1 2 0 3 1 2 1 0 1 1 2-1v-2l1-3 1-1v-5l-2-1-2-1-1 1h-1ZM79 671h-9v45H60s-2 2-1 4-1 4-3 6l-1 1-1 5c1 1-1 2-2 3l-1 1v3c1 2 2 3-1 5l-3 4 1 1 3-1h2l1 3v3l1 2c1 2 1 4 3 5v5l2 2 2 2 4 6 1 3c3 1 7 0 10-1l2-2 2-3c2-2 4-2 6-2l3 3 2 3c0 2 1 4 5 4h14c3 2 5 2 8 0l5-2h1v-2l1-3h1c0-1 1-2 3 0l8 4 6 1 11-14-1-5-1-2-1-1v-1l5-1v-2h6l-1 5v3c0 4 0 7 2 9l3 2c2 2 4 4 4 6v2l1-1 1-4 1-2 1-5v-1h1l1-1 1 1c1 0 1 1 2-1 2-1 1-6 0-8 0-2 7-9 7-10h5l4-16-1-3c-1-1 1-10 2-13l2-2 1-3v-8h4l1-2c0-2 1-2 3-2 2-1 4-1 5-3l2-3 3-3c-3-3-14-5-15-13l-1-12-2-8-1-8H79v22Zm119-24c-1-2-6-7-9-8s-7-6-6-9c0-4-1-8-3-11-3-2-14-15-14-23-1-8-5-9-5-12l-4-6-7-8-3-7c1-1 1-1 4 3l8 11 6 5c2 0 4 2 5-5l2-10 1-2-7-28-3 5-8 2-8 1c-3-1-5 0-7-2s-7-3-11-2-3-1-8 2c-5 4-9 5-21 1-11-3-15-2-19-3h-2v3l-1 8v2c-1 3-2 7 2 14v81h119l-1-2Z"),g(Nt,"d","M259 751c2 0 3-2 4-4v-1l-10-14-13-9c-3-2-12-7-14-12-2-4-2-7-2-10-1-3-3-8-6-11l-2 4-3 2c-1 2-3 3-5 3l-3 2v2h-5v8l-1 3-2 3c-1 2-2 11-1 12l1 3h4l3-2 1 1 2 1 2-6 1-1 5 5v1l4-2 2-1h2l1 1v-1h3l5 1 7 4 3 2 4 5 10 11h3ZM-21 639v1l2 9 1 9 1 3 4 4 1 2-1 3-1 3v16l-1 8-1 7-6 7-9 11c-1 4-3 5-5 6l-1 2 1 3 1 4 1 2 4 5 3-1 3 4 2 5 2 8c0 7 1 11 3 13l4 4h1l-17-1-2 4 1 1 2 2c3 2 8 5 10 10l1 8c4 0 7-1 9-3h2l2 2 1 1 1-1c1-1 3-3 9-3 8 0 12-2 12-5l-1-3v-2l4-1c6-1 10-2 17-7 6-5 8-6 8-8v-4l6-1h5c0-1 1-2-1-4l-2-6-1-2v-3l-1-3h-2c-1 1-2 2-3 1h-1c-1-2 2-4 3-5 2-2 2-3 1-5v-1h-1l1-3h1l2-3c-1-1 0-4 1-6l1-1c1-1 3-3 2-5l2-4h9v-39l-81-43-9 5Z"),g(qt,"d","m-56 531-5 4-5 3c-2 2-4 5-4 8 1 4-2 9-4 10l-1 1c-2 0-3 0-3 2l3 6 1 1v9h1l1 1-1 10v1l-1 1v12l-4 4 2 2 5 7 1 3c0 4 1 6 3 6l4 2a11 11 0 0 0 5 1c2 1 4 1 5 3v3l1 2h3c3 0 8 1 12 4l3 2c3 3 4 4 9 1l13-7h1l80 43v-6h10v-21h1l-1-81c-4-7-3-11-2-14l1-2v-8l1-3-8-4c-1-3-14-1-17-4-2-3 0-4-4-5s-24-4-26 2c-3 7-5 10-3 13 1 4 2 11-4 13-5 2-13 0-18-7-6-7-20-3-21-5s1-7-4-11c-5-3-17-6-21-6h-9v4Z"),g(Y,"opacity",".1"),g(Y,"stroke","#272D2E"),g(Y,"stroke-width","1.2"),g(Y,"stroke-miterlimit","10"),g(Y,"mask","url(#c)"),g(st,"d","M96 394v1l-2 2c-2 3-5 2-5 7 0 6 0 5 2 10l1 2c2 3 3 6 7 7l10 2c5 0 6 2 10 1 3 0 6-2 9-5s3-6 15-7c13-1 16-1 20 1 5 2 9 1 11 4 2 2 4 4 14 5 10 2 17 3 23 2 5-1 11 0 12-5l1-1v-1c2-4 3-7-2-13-6-7-9-8-15-12h-1c-6-4-5-7-12-9s-9-2-13-5-5-2-6-5-4-6 0-6c5-1 6-4 6-5v-5c0-1-5-1-2-4 4-3 8-5 7-6l-1-2h-1l-4-1c-3 0-3 1-8 4-4 3-8 6-15 5-2-1-1 5-3 5v3c2 2 2 5 5 6h7c3-1 5 0 5 1s4 3 0 4h-9l-4 4-6 1c-1 1 0 5-5 4-5 0-11-1-9-4 1-3-4-6-5-6-2 0-3-2 0-4 2-2 5-1 5-4 0-2-5-4-9-4-3 0-1 0-6-3-5-2-4-4-8 0-3 4-4 9-6 10s-4 0-4 2 2 3 0 6l-1 1-6 3c-1 1 2 2 0 6l-2 8Zm210 42-1 8-1 6s-3-5-3-2c-1 3-2 7-1 11l1 1c1 3-1 5 4 7 6 2 8 0 13 4 4 3 12 7 16 7l17-2c3 0 7 1 5-5 0 0-5-6-5-11v-1c1-5 0-7-3-10-2-2-4-3-3-5 1-3 3-5 0-6-3-2-4 0-5 0-2 0-6-6-5-9 2-3 4-3 1-7l-5-4-1-1v-5c2-7 4-12 0-13-5-1-12-2-13-4l-4-8-7-7c-2-1 1-4 5-4s-1-6 1-8c3-3 9-5 12-5 4 0 6-5 5-10-1-4-3-12-7-11-3 1-6 4-8 3s-9-1-11 1l-6 4-7 6-10 6c-3 2-9 5-7 11 1 7 6 11 7 14 0 3-1 8 3 13 4 4 9 5 12 11l1 1c3 6 8 13 11 14 3 2 8 5 6 6-1 1-6 2-7 4Zm499 274c-2 2-5 2-7 2-4-1-7 0-7-6 1-7 3-9 3-10l-1-7-6-13c-1-2-4-8-6-9l-2-1c-3 0-7-1-10-4-4-5-7-9-7-13l-2-9c-1-3-3-7-4-6-2 2-3 1-4 0-2-2-5-4-5-1 0 2 1 4-1 5l-1 2v1l-3 4c-1 1-4 3-6 2h-7c-1-1-2-3-5-2l-8 4c-2 1-4 3-4 6s2 6-5 11c-6 4-9 2-11 5l-5 7c-2 3-1 5-4 6l-8 8c-3 2-6 2-7 5l-4 7c-1 2-6 1-12 8l-4 4h153v-6ZM261-1c0 1 0 3 3 3l3-3h-6Zm-46 0-2 1c-2 1-3 0-3-1h-95l15 9c13 9 18 11 21 12l6 6c1 2 7 10-1 18-7 9-12 12-21 11l-15-2c-4-1-5-1-7-3-3-2-4-1-7-1s-3-2-4-3c-1-2-5-3-5 0 0 2-1 5 2 7 2 1 12 3 11 10s1 11 2 12c2 2 0 7 2 10 2 2 7 2 12 6 4 4 14 7 15 1 2-6-2-5-6-6s-5-2-7-4-3-4-2-5c2-2 1-4 2-6h5l6 4c3 1 6 0 9 3 2 2 1 5 4 5s10-4 5-11-5-10 0-15c5-6 8-13 12-13l12 2c3 1 8 2 7-5s0-8-4-10c-4-3-4-4-4-11s0-13-4-14c-4-2-7-6-1-4h12c5-1 6 0 7 3s2 2 4 5c2 2 6 4 3 6l-6 2c-1 0-2 0-3 2 0 2-2 2-1 4l5 6c2 3 5 4 7 4 3 0 7 1 9-2l2-11c-1-2 0-4 5-3 4 0 3-2 1-4-1-2 1-2 2-1 1 2 2-1 4-3l6-7c1-1 2-3 5-4h-22Zm-38 501v-1l-1-2v-8l-1-2v-3c0-1 4-4-1-3-5 2-6 0-8-1-2 0-4 0-6 3-1 3-1 4-6 5s-11 2-15-2c-3-3-7-5-11-6-3 0-2 4-6 8s-15 2-17-2c-3-5-11-6-15-7-3-1-3-9-5-11-1-2-4-2-5-3s-1-5 2-6c3-2 2-10-1-11s-6-4-4-8 2-7-3-8l-3-1h-1c-4-1-7-2-8-1-1 2-4-1-5 0l-4 3c0 2 4 3 4 4 1 2-3 1-4 1 0 0 4 2 2 3-3 2-4-1-5-1 0 0 2 3-1 3-2 0 0-3-4-4s-6 1-4 4c1 3 5 6 5 10 1 5 2 3 4 3 3 0 6-1 7 3 0 5 2 5 4 7 1 1 4 4 1 4s-5-2-6-4c-1-1-2 0-1 2 0 2 3 5 0 4s-8-4-8-2c-1 2 0 3 2 4 3 1 0 2-2 3-1 1 0 3 1 4s2 3 0 4c-2 0-5-6-5-2 0 3-1 6-3 4s-6-5-7-9-5-5-6-8c0-2 2-1 1-5 0-3-1-4-4-5-2-1-1-3-3-6-3-3-7-2-9-5l-2-4 1-1c1-1-1-1-2-4-2-3-2-13-2-16l-1-5v-1l-2-2-5-5v25l1 5-1 4v104c5 7 13 9 18 7 5-3 5-10 3-13-1-3 1-6 3-13 3-6 23-4 27-3 3 2 2 3 4 6s16 1 17 3 4 4 7 5h3c4 1 8 0 19 3 11 4 16 3 21-1 5-3 4-2 8-2 4-1 9 0 11 2s3 1 7 1h8c4 0 7-3 8-3v1l3-5 2-4c1-4 0-7 2-9l3-5v-1l1-2 4-13-1-3Zm-95 1c-1 2-4 2-8 2l-6 3c-2 0-4-4-6-4h-7c-1 0-3-4-1-5 4-2 5-1 7 0s1-3 7-1l9 3c3 0 7 0 5 2Zm80-3c-2 1-2 4-2 5 0 2-3 1-5 1-2 1-4 3-7 3l-7-2c-2-2 0-4 3-5 3 0 3-2 7-3l2 1c2 1 3 0 6-1l5-3c1 1-1 2-2 4Z"),g(st,"fill","#1B253A"),g(t,"clip-path","url(#a)"),g(ot,"fill","#fff"),g(ot,"d","M0 0h804v715H0z"),g(at,"id","a"),g(e,"width","804"),g(e,"height","715"),g(e,"fill","none"),g(e,"xmlns","http://www.w3.org/2000/svg"),g(e,"class","svelte-1fqtuea")},m(Wt,Xt){j(Wt,e,Xt),w(e,t),w(t,r),w(t,l),w(l,s),w(t,a),w(a,h),w(a,f),w(a,u),w(a,v),w(a,i),w(a,o),w(a,c),w(a,d),w(a,m),w(a,_),w(a,p),w(a,b),w(a,k),w(a,$),w(a,A),w(a,M),w(a,L),w(a,z),w(a,E),w(a,C),w(a,S),w(a,Q),w(a,ve),w(a,pe),w(a,be),w(a,oe),w(a,B),w(a,ce),w(a,ae),w(a,Ie),w(a,ye),w(a,Me),w(a,Ne),w(a,qe),w(a,Ue),w(a,We),w(a,Xe),w(a,Ke),w(a,Qe),w(a,ze),w(a,Je),w(a,Ye),w(a,et),w(a,tt),w(a,nt),w(a,rt),w(a,lt),w(t,$e),w($e,it),w(t,Y),w(Y,wt),w(Y,At),w(Y,St),w(Y,Tt),w(Y,kt),w(Y,Et),w(Y,It),w(Y,Mt),w(Y,Pt),w(Y,Ot),w(Y,Dt),w(Y,jt),w(Y,Ct),w(Y,Lt),w(Y,Zt),w(Y,Ht),w(Y,xt),w(Y,Ft),w(Y,Rt),w(Y,Bt),w(Y,Gt),w(Y,Vt),w(Y,Nt),w(Y,qt),w(t,st),w(e,Ut),w(Ut,at),w(at,ot)},p:se,i:se,o:se,d(Wt){Wt&&y(e)}}}class Kh extends fe{constructor(e){super(),he(this,e,null,Xh,ue,{})}}function xr(n,e,t){const r=n.slice();return r[14]=e[t],r}function Fr(n,e,t){const r=n.slice();return r[17]=e[t],r}function Rr(n){let e,t,r;return t=new Q1({props:{itemId:n[17].item}}),{c(){e=F("div"),N(t.$$.fragment),this.h()},l(l){e=R(l,"DIV",{class:!0});var s=T(e);q(t.$$.fragment,s),s.forEach(y),this.h()},h(){g(e,"class","item svelte-4u67jd")},m(l,s){j(l,e,s),U(t,e,null),r=!0},p(l,s){const a={};s&8&&(a.itemId=l[17].item),t.$set(a)},i(l){r||(I(t.$$.fragment,l),r=!0)},o(l){P(t.$$.fragment,l),r=!1},d(l){l&&y(e),W(t)}}}function Br(n){let e,t,r;return t=new b1({props:{faceId:n[14].faceId}}),{c(){e=F("div"),N(t.$$.fragment),this.h()},l(l){e=R(l,"DIV",{class:!0});var s=T(e);q(t.$$.fragment,s),s.forEach(y),this.h()},h(){g(e,"class","player svelte-4u67jd")},m(l,s){j(l,e,s),U(t,e,null),r=!0},p(l,s){const a={};s&16&&(a.faceId=l[14].faceId),t.$set(a)},i(l){r||(I(t.$$.fragment,l),r=!0)},o(l){P(t.$$.fragment,l),r=!1},d(l){l&&y(e),W(t)}}}function Gr(n){let e,t="MOVE",r,l;return{c(){e=F("button"),e.textContent=t,this.h()},l(s){e=R(s,"BUTTON",{class:!0,"data-svelte-h":!0}),Ze(e)!=="svelte-bnsqhg"&&(e.textContent=t),this.h()},h(){g(e,"class","svelte-4u67jd")},m(s,a){j(s,e,a),r||(l=De(e,"click",n[10]),r=!0)},p:se,d(s){s&&y(e),r=!1,l()}}}function Qh(n){let e,t,r,l,s=ee(n[3]),a=[];for(let o=0;o<s.length;o+=1)a[o]=Rr(Fr(n,s,o));const h=o=>P(a[o],1,1,()=>{a[o]=null});let f=ee(n[4]),u=[];for(let o=0;o<f.length;o+=1)u[o]=Br(xr(n,f,o));const v=o=>P(u[o],1,1,()=>{u[o]=null});let i=n[5]&&n[2]&&Gr(n);return{c(){e=F("div");for(let o=0;o<a.length;o+=1)a[o].c();t=G();for(let o=0;o<u.length;o+=1)u[o].c();r=G(),i&&i.c(),this.h()},l(o){e=R(o,"DIV",{class:!0});var c=T(e);for(let d=0;d<a.length;d+=1)a[d].l(c);t=V(c);for(let d=0;d<u.length;d+=1)u[d].l(c);r=V(c),i&&i.l(c),c.forEach(y),this.h()},h(){g(e,"class","square svelte-4u67jd"),Le(e,"possible-move",n[2]),Ae(e,"--_row",n[1]+1),Ae(e,"--_column",n[0]+1)},m(o,c){j(o,e,c);for(let d=0;d<a.length;d+=1)a[d]&&a[d].m(e,null);w(e,t);for(let d=0;d<u.length;d+=1)u[d]&&u[d].m(e,null);w(e,r),i&&i.m(e,null),l=!0},p(o,[c]){if(c&8){s=ee(o[3]);let d;for(d=0;d<s.length;d+=1){const m=Fr(o,s,d);a[d]?(a[d].p(m,c),I(a[d],1)):(a[d]=Rr(m),a[d].c(),I(a[d],1),a[d].m(e,t))}for(le(),d=s.length;d<a.length;d+=1)h(d);ie()}if(c&16){f=ee(o[4]);let d;for(d=0;d<f.length;d+=1){const m=xr(o,f,d);u[d]?(u[d].p(m,c),I(u[d],1)):(u[d]=Br(m),u[d].c(),I(u[d],1),u[d].m(e,r))}for(le(),d=f.length;d<u.length;d+=1)v(d);ie()}o[5]&&o[2]?i?i.p(o,c):(i=Gr(o),i.c(),i.m(e,null)):i&&(i.d(1),i=null),(!l||c&4)&&Le(e,"possible-move",o[2]),c&2&&Ae(e,"--_row",o[1]+1),c&1&&Ae(e,"--_column",o[0]+1)},i(o){if(!l){for(let c=0;c<s.length;c+=1)I(a[c]);for(let c=0;c<f.length;c+=1)I(u[c]);l=!0}},o(o){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)P(a[c]);u=u.filter(Boolean);for(let c=0;c<u.length;c+=1)P(u[c]);l=!1},d(o){o&&y(e),ge(a,o),ge(u,o),i&&i.d()}}}function zh(n,e,t){let r,l,s,a,{columnIndex:h}=e,{rowIndex:f}=e;const u=[h,f],{machine:v}=ke(),i=te(v.service,({context:p})=>p.items.filter(b=>we(b.position,u)),we);J(n,i,p=>t(3,l=p));const o=te(v.service,({context:p})=>{const{playerPositions:b}=Se(p);return Object.entries(b).filter(([k,$])=>we($,u)).map(([k])=>ln(k,p))},we);J(n,o,p=>t(4,s=p));const c=te(v.service,p=>{if(!p.matches("Playing.Gameloop.Playing.Ready to move"))return!1;const{context:k}=p,$=Se(k),A=$.playerPositions[$.activePlayerId],M=Math.abs(A[0]-h),L=Math.abs(A[1]-f);return M+L<=2&&M+L!=0});J(n,c,p=>t(2,r=p));const d=(p,b)=>({type:"apply game event",gameEvent:{type:"move",finalized:!0,playerId:Se(b).activePlayerId,to:p}}),m=te(v.service,p=>p.can(d(u,v.service.getSnapshot().context)));J(n,m,p=>t(5,a=p));const _=()=>{v.send(d(u,v.service.getSnapshot().context))};return n.$$set=p=>{"columnIndex"in p&&t(0,h=p.columnIndex),"rowIndex"in p&&t(1,f=p.rowIndex)},[h,f,r,l,s,a,i,o,c,m,_]}class Jh extends fe{constructor(e){super(),he(this,e,zh,Qh,ue,{columnIndex:0,rowIndex:1})}}function Vr(n,e,t){const r=n.slice();return r[0]=e[t],r[2]=t,r}function Yh(n,e,t){const r=n.slice();return r[0]=e[t],r[4]=t,r}function e3(n){let e,t;return e=new Jh({props:{columnIndex:n[4],rowIndex:n[2]}}),{c(){N(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,l){U(e,r,l),t=!0},p:se,i(r){t||(I(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){W(e,r)}}}function Nr(n){let e,t,r=ee([...new Array(Fl)]),l=[];for(let s=0;s<r.length;s+=1)l[s]=e3(Yh(n,r,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=de()},l(s){for(let a=0;a<l.length;a+=1)l[a].l(s);e=de()},m(s,a){for(let h=0;h<l.length;h+=1)l[h]&&l[h].m(s,a);j(s,e,a),t=!0},p:se,i(s){if(!t){for(let a=0;a<r.length;a+=1)I(l[a]);t=!0}},o(s){l=l.filter(Boolean);for(let a=0;a<l.length;a+=1)P(l[a]);t=!1},d(s){s&&y(e),ge(l,s)}}}function t3(n){let e,t,r,l;t=new Kh({});let s=ee([...new Array(C1)]),a=[];for(let f=0;f<s.length;f+=1)a[f]=Nr(Vr(n,s,f));const h=f=>P(a[f],1,1,()=>{a[f]=null});return{c(){e=F("div"),N(t.$$.fragment),r=G();for(let f=0;f<a.length;f+=1)a[f].c();this.h()},l(f){e=R(f,"DIV",{class:!0});var u=T(e);q(t.$$.fragment,u),r=V(u);for(let v=0;v<a.length;v+=1)a[v].l(u);u.forEach(y),this.h()},h(){g(e,"class","board svelte-1hmvwcc"),Ae(e,"--column-count",Fl),Ae(e,"--row-count",C1)},m(f,u){j(f,e,u),U(t,e,null),w(e,r);for(let v=0;v<a.length;v+=1)a[v]&&a[v].m(e,null);l=!0},p(f,[u]){if(u&0){s=ee([...new Array(C1)]);let v;for(v=0;v<s.length;v+=1){const i=Vr(f,s,v);a[v]?(a[v].p(i,u),I(a[v],1)):(a[v]=Nr(i),a[v].c(),I(a[v],1),a[v].m(e,null))}for(le(),v=s.length;v<a.length;v+=1)h(v);ie()}},i(f){if(!l){I(t.$$.fragment,f);for(let u=0;u<s.length;u+=1)I(a[u]);l=!0}},o(f){P(t.$$.fragment,f),a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)P(a[u]);l=!1},d(f){f&&y(e),W(t),ge(a,f)}}}const Fl=9,C1=8;class n3 extends fe{constructor(e){super(),he(this,e,null,t3,ue,{})}}function r3(n){let e,t;return e=new n3({}),{c(){N(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,l){U(e,r,l),t=!0},p:se,i(r){t||(I(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){W(e,r)}}}class l3 extends fe{constructor(e){super(),he(this,e,null,r3,ue,{})}}const i3=n=>({}),qr=n=>({}),s3=n=>({}),Ur=n=>({}),a3=n=>({}),Wr=n=>({});function Xr(n){let e,t;return e=new Wh({}),{c(){N(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,l){U(e,r,l),t=!0},i(r){t||(I(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){W(e,r)}}}function o3(n){let e;return{c(){e=X("Unkown state")},l(t){e=K(t,"Unkown state")},m(t,r){j(t,e,r)},i:se,o:se,d(t){t&&y(e)}}}function c3(n){let e,t;return e=new Jf({}),{c(){N(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,l){U(e,r,l),t=!0},i(r){t||(I(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){W(e,r)}}}function u3(n){let e,t;return e=new l3({}),{c(){N(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,l){U(e,r,l),t=!0},i(r){t||(I(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){W(e,r)}}}function f3(n){let e,t;return e=new Gh({}),{c(){N(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,l){U(e,r,l),t=!0},i(r){t||(I(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){W(e,r)}}}function h3(n){let e,t,r,l="The Hidden Threat",s,a,h,f,u,v,i,o,c,d,m,_,p,b,k,$,A,M;const L=n[8].items,z=a1(L,n,n[7],Wr),E=n[8].actions,C=a1(E,n,n[7],Ur);let S=n[3]==="Playing"&&Xr();c=new Qf({});const Q=[f3,u3,c3,o3],ve=[];function pe(B,ce){return B[3]==="Lobby"?0:B[3]==="Playing"?1:B[3]==="Finished"?2:3}_=pe(n),p=ve[_]=Q[_](n);const be=n[8]["cursor-overlays"],oe=a1(be,n,n[7],qr);return{c(){e=F("div"),t=F("div"),r=F("div"),r.textContent=l,s=G(),a=F("div"),h=G(),f=F("div"),z&&z.c(),u=G(),v=F("div"),C&&C.c(),i=G(),S&&S.c(),o=G(),N(c.$$.fragment),d=G(),m=F("div"),p.c(),b=G(),oe&&oe.c(),this.h()},l(B){e=R(B,"DIV",{class:!0});var ce=T(e);t=R(ce,"DIV",{class:!0});var ae=T(t);r=R(ae,"DIV",{class:!0,"data-svelte-h":!0}),Ze(r)!=="svelte-iqe0dn"&&(r.textContent=l),s=V(ae),a=R(ae,"DIV",{class:!0}),T(a).forEach(y),h=V(ae),f=R(ae,"DIV",{class:!0});var Ie=T(f);z&&z.l(Ie),Ie.forEach(y),u=V(ae),v=R(ae,"DIV",{class:!0});var ye=T(v);C&&C.l(ye),i=V(ye),S&&S.l(ye),o=V(ye),q(c.$$.fragment,ye),ye.forEach(y),d=V(ae),m=R(ae,"DIV",{class:!0});var Me=T(m);p.l(Me),Me.forEach(y),b=V(ae),oe&&oe.l(ae),ae.forEach(y),ce.forEach(y),this.h()},h(){g(r,"class","name svelte-1ulre0l"),g(a,"class","characters svelte-1ulre0l"),g(f,"class","items svelte-1ulre0l"),g(v,"class","actions svelte-1ulre0l"),g(m,"class","content svelte-1ulre0l"),g(t,"class","game svelte-1ulre0l"),K1(()=>n[10].call(t)),g(e,"class","game-wrapper svelte-1ulre0l")},m(B,ce){j(B,e,ce),w(e,t),w(t,r),w(t,s),w(t,a),w(t,h),w(t,f),z&&z.m(f,null),w(t,u),w(t,v),C&&C.m(v,null),w(v,i),S&&S.m(v,null),w(v,o),U(c,v,null),w(t,d),w(t,m),ve[_].m(m,null),w(t,b),oe&&oe.m(t,null),n[9](t),k=el(t,n[10].bind(t)),$=!0,A||(M=De(t,"mousemove",n[4]),A=!0)},p(B,[ce]){z&&z.p&&(!$||ce&128)&&o1(z,L,B,B[7],$?u1(L,B[7],ce,a3):c1(B[7]),Wr),C&&C.p&&(!$||ce&128)&&o1(C,E,B,B[7],$?u1(E,B[7],ce,s3):c1(B[7]),Ur),B[3]==="Playing"?S?ce&8&&I(S,1):(S=Xr(),S.c(),I(S,1),S.m(v,o)):S&&(le(),P(S,1,1,()=>{S=null}),ie());let ae=_;_=pe(B),_!==ae&&(le(),P(ve[ae],1,1,()=>{ve[ae]=null}),ie(),p=ve[_],p||(p=ve[_]=Q[_](B),p.c()),I(p,1),p.m(m,null)),oe&&oe.p&&(!$||ce&128)&&o1(oe,be,B,B[7],$?u1(be,B[7],ce,i3):c1(B[7]),qr)},i(B){$||(I(z,B),I(C,B),I(S),I(c.$$.fragment,B),I(p),I(oe,B),$=!0)},o(B){P(z,B),P(C,B),P(S),P(c.$$.fragment,B),P(p),P(oe,B),$=!1},d(B){B&&y(e),z&&z.d(B),C&&C.d(B),S&&S.d(),W(c),ve[_].d(),oe&&oe.d(B),n[9](null),k(),A=!1,M()}}}function d3(n,e,t){let r,{$$slots:l={},$$scope:s}=e;const{machine:a}=ke();let{reportMousePosition:h}=e,f,u=1,v=1;const i=m=>{const _=window.matchMedia("(width < 1200px) or (height < 675px)").matches?.6:window.matchMedia("(width < 1200px) or (height < 675px)").matches?.8:1,p=(m.clientX-f.offsetLeft)/u,b=(m.clientY-f.offsetTop)/v;h([(p-(1-_)/2)/_,(b-(1-_)/2)/_])},o=te(a.service,m=>{let _;return m.matches("Lobby")?_="Lobby":m.matches("Playing")?_="Playing":m.matches("Finished")&&(_="Finished"),_});J(n,o,m=>t(3,r=m));function c(m){y1[m?"unshift":"push"](()=>{f=m,t(0,f)})}function d(){u=this.clientWidth,v=this.clientHeight,t(1,u),t(2,v)}return n.$$set=m=>{"reportMousePosition"in m&&t(6,h=m.reportMousePosition),"$$scope"in m&&t(7,s=m.$$scope)},[f,u,v,r,i,o,h,s,l,c,d]}class v3 extends fe{constructor(e){super(),he(this,e,d3,h3,ue,{reportMousePosition:6})}}var Rl={};/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(n){(function(){var e=function(){this.init()};e.prototype={init:function(){var i=this||t;return i._counter=1e3,i._html5AudioPool=[],i.html5PoolSize=10,i._codecs={},i._howls=[],i._muted=!1,i._volume=1,i._canPlayEvent="canplaythrough",i._navigator=typeof window<"u"&&window.navigator?window.navigator:null,i.masterGain=null,i.noAudio=!1,i.usingWebAudio=!0,i.autoSuspend=!0,i.ctx=null,i.autoUnlock=!0,i._setup(),i},volume:function(i){var o=this||t;if(i=parseFloat(i),o.ctx||v(),typeof i<"u"&&i>=0&&i<=1){if(o._volume=i,o._muted)return o;o.usingWebAudio&&o.masterGain.gain.setValueAtTime(i,t.ctx.currentTime);for(var c=0;c<o._howls.length;c++)if(!o._howls[c]._webAudio)for(var d=o._howls[c]._getSoundIds(),m=0;m<d.length;m++){var _=o._howls[c]._soundById(d[m]);_&&_._node&&(_._node.volume=_._volume*i)}return o}return o._volume},mute:function(i){var o=this||t;o.ctx||v(),o._muted=i,o.usingWebAudio&&o.masterGain.gain.setValueAtTime(i?0:o._volume,t.ctx.currentTime);for(var c=0;c<o._howls.length;c++)if(!o._howls[c]._webAudio)for(var d=o._howls[c]._getSoundIds(),m=0;m<d.length;m++){var _=o._howls[c]._soundById(d[m]);_&&_._node&&(_._node.muted=i?!0:_._muted)}return o},stop:function(){for(var i=this||t,o=0;o<i._howls.length;o++)i._howls[o].stop();return i},unload:function(){for(var i=this||t,o=i._howls.length-1;o>=0;o--)i._howls[o].unload();return i.usingWebAudio&&i.ctx&&typeof i.ctx.close<"u"&&(i.ctx.close(),i.ctx=null,v()),i},codecs:function(i){return(this||t)._codecs[i.replace(/^x-/,"")]},_setup:function(){var i=this||t;if(i.state=i.ctx&&i.ctx.state||"suspended",i._autoSuspend(),!i.usingWebAudio)if(typeof Audio<"u")try{var o=new Audio;typeof o.oncanplaythrough>"u"&&(i._canPlayEvent="canplay")}catch{i.noAudio=!0}else i.noAudio=!0;try{var o=new Audio;o.muted&&(i.noAudio=!0)}catch{}return i.noAudio||i._setupCodecs(),i},_setupCodecs:function(){var i=this||t,o=null;try{o=typeof Audio<"u"?new Audio:null}catch{return i}if(!o||typeof o.canPlayType!="function")return i;var c=o.canPlayType("audio/mpeg;").replace(/^no$/,""),d=i._navigator?i._navigator.userAgent:"",m=d.match(/OPR\/([0-6].)/g),_=m&&parseInt(m[0].split("/")[1],10)<33,p=d.indexOf("Safari")!==-1&&d.indexOf("Chrome")===-1,b=d.match(/Version\/(.*?) /),k=p&&b&&parseInt(b[1],10)<15;return i._codecs={mp3:!!(!_&&(c||o.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!c,opus:!!o.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!o.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!o.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(o.canPlayType('audio/wav; codecs="1"')||o.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!o.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!o.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(o.canPlayType("audio/x-m4a;")||o.canPlayType("audio/m4a;")||o.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(o.canPlayType("audio/x-m4b;")||o.canPlayType("audio/m4b;")||o.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(o.canPlayType("audio/x-mp4;")||o.canPlayType("audio/mp4;")||o.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!k&&o.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!k&&o.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!o.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(o.canPlayType("audio/x-flac;")||o.canPlayType("audio/flac;")).replace(/^no$/,"")},i},_unlockAudio:function(){var i=this||t;if(!(i._audioUnlocked||!i.ctx)){i._audioUnlocked=!1,i.autoUnlock=!1,!i._mobileUnloaded&&i.ctx.sampleRate!==44100&&(i._mobileUnloaded=!0,i.unload()),i._scratchBuffer=i.ctx.createBuffer(1,1,22050);var o=function(c){for(;i._html5AudioPool.length<i.html5PoolSize;)try{var d=new Audio;d._unlocked=!0,i._releaseHtml5Audio(d)}catch{i.noAudio=!0;break}for(var m=0;m<i._howls.length;m++)if(!i._howls[m]._webAudio)for(var _=i._howls[m]._getSoundIds(),p=0;p<_.length;p++){var b=i._howls[m]._soundById(_[p]);b&&b._node&&!b._node._unlocked&&(b._node._unlocked=!0,b._node.load())}i._autoResume();var k=i.ctx.createBufferSource();k.buffer=i._scratchBuffer,k.connect(i.ctx.destination),typeof k.start>"u"?k.noteOn(0):k.start(0),typeof i.ctx.resume=="function"&&i.ctx.resume(),k.onended=function(){k.disconnect(0),i._audioUnlocked=!0,document.removeEventListener("touchstart",o,!0),document.removeEventListener("touchend",o,!0),document.removeEventListener("click",o,!0),document.removeEventListener("keydown",o,!0);for(var $=0;$<i._howls.length;$++)i._howls[$]._emit("unlock")}};return document.addEventListener("touchstart",o,!0),document.addEventListener("touchend",o,!0),document.addEventListener("click",o,!0),document.addEventListener("keydown",o,!0),i}},_obtainHtml5Audio:function(){var i=this||t;if(i._html5AudioPool.length)return i._html5AudioPool.pop();var o=new Audio().play();return o&&typeof Promise<"u"&&(o instanceof Promise||typeof o.then=="function")&&o.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(i){var o=this||t;return i._unlocked&&o._html5AudioPool.push(i),o},_autoSuspend:function(){var i=this;if(!(!i.autoSuspend||!i.ctx||typeof i.ctx.suspend>"u"||!t.usingWebAudio)){for(var o=0;o<i._howls.length;o++)if(i._howls[o]._webAudio){for(var c=0;c<i._howls[o]._sounds.length;c++)if(!i._howls[o]._sounds[c]._paused)return i}return i._suspendTimer&&clearTimeout(i._suspendTimer),i._suspendTimer=setTimeout(function(){if(i.autoSuspend){i._suspendTimer=null,i.state="suspending";var d=function(){i.state="suspended",i._resumeAfterSuspend&&(delete i._resumeAfterSuspend,i._autoResume())};i.ctx.suspend().then(d,d)}},3e4),i}},_autoResume:function(){var i=this;if(!(!i.ctx||typeof i.ctx.resume>"u"||!t.usingWebAudio))return i.state==="running"&&i.ctx.state!=="interrupted"&&i._suspendTimer?(clearTimeout(i._suspendTimer),i._suspendTimer=null):i.state==="suspended"||i.state==="running"&&i.ctx.state==="interrupted"?(i.ctx.resume().then(function(){i.state="running";for(var o=0;o<i._howls.length;o++)i._howls[o]._emit("resume")}),i._suspendTimer&&(clearTimeout(i._suspendTimer),i._suspendTimer=null)):i.state==="suspending"&&(i._resumeAfterSuspend=!0),i}};var t=new e,r=function(i){var o=this;if(!i.src||i.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}o.init(i)};r.prototype={init:function(i){var o=this;return t.ctx||v(),o._autoplay=i.autoplay||!1,o._format=typeof i.format!="string"?i.format:[i.format],o._html5=i.html5||!1,o._muted=i.mute||!1,o._loop=i.loop||!1,o._pool=i.pool||5,o._preload=typeof i.preload=="boolean"||i.preload==="metadata"?i.preload:!0,o._rate=i.rate||1,o._sprite=i.sprite||{},o._src=typeof i.src!="string"?i.src:[i.src],o._volume=i.volume!==void 0?i.volume:1,o._xhr={method:i.xhr&&i.xhr.method?i.xhr.method:"GET",headers:i.xhr&&i.xhr.headers?i.xhr.headers:null,withCredentials:i.xhr&&i.xhr.withCredentials?i.xhr.withCredentials:!1},o._duration=0,o._state="unloaded",o._sounds=[],o._endTimers={},o._queue=[],o._playLock=!1,o._onend=i.onend?[{fn:i.onend}]:[],o._onfade=i.onfade?[{fn:i.onfade}]:[],o._onload=i.onload?[{fn:i.onload}]:[],o._onloaderror=i.onloaderror?[{fn:i.onloaderror}]:[],o._onplayerror=i.onplayerror?[{fn:i.onplayerror}]:[],o._onpause=i.onpause?[{fn:i.onpause}]:[],o._onplay=i.onplay?[{fn:i.onplay}]:[],o._onstop=i.onstop?[{fn:i.onstop}]:[],o._onmute=i.onmute?[{fn:i.onmute}]:[],o._onvolume=i.onvolume?[{fn:i.onvolume}]:[],o._onrate=i.onrate?[{fn:i.onrate}]:[],o._onseek=i.onseek?[{fn:i.onseek}]:[],o._onunlock=i.onunlock?[{fn:i.onunlock}]:[],o._onresume=[],o._webAudio=t.usingWebAudio&&!o._html5,typeof t.ctx<"u"&&t.ctx&&t.autoUnlock&&t._unlockAudio(),t._howls.push(o),o._autoplay&&o._queue.push({event:"play",action:function(){o.play()}}),o._preload&&o._preload!=="none"&&o.load(),o},load:function(){var i=this,o=null;if(t.noAudio){i._emit("loaderror",null,"No audio support.");return}typeof i._src=="string"&&(i._src=[i._src]);for(var c=0;c<i._src.length;c++){var d,m;if(i._format&&i._format[c])d=i._format[c];else{if(m=i._src[c],typeof m!="string"){i._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}d=/^data:audio\/([^;,]+);/i.exec(m),d||(d=/\.([^.]+)$/.exec(m.split("?",1)[0])),d&&(d=d[1].toLowerCase())}if(d||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),d&&t.codecs(d)){o=i._src[c];break}}if(!o){i._emit("loaderror",null,"No codec support for selected audio sources.");return}return i._src=o,i._state="loading",window.location.protocol==="https:"&&o.slice(0,5)==="http:"&&(i._html5=!0,i._webAudio=!1),new l(i),i._webAudio&&a(i),i},play:function(i,o){var c=this,d=null;if(typeof i=="number")d=i,i=null;else{if(typeof i=="string"&&c._state==="loaded"&&!c._sprite[i])return null;if(typeof i>"u"&&(i="__default",!c._playLock)){for(var m=0,_=0;_<c._sounds.length;_++)c._sounds[_]._paused&&!c._sounds[_]._ended&&(m++,d=c._sounds[_]._id);m===1?i=null:d=null}}var p=d?c._soundById(d):c._inactiveSound();if(!p)return null;if(d&&!i&&(i=p._sprite||"__default"),c._state!=="loaded"){p._sprite=i,p._ended=!1;var b=p._id;return c._queue.push({event:"play",action:function(){c.play(b)}}),b}if(d&&!p._paused)return o||c._loadQueue("play"),p._id;c._webAudio&&t._autoResume();var k=Math.max(0,p._seek>0?p._seek:c._sprite[i][0]/1e3),$=Math.max(0,(c._sprite[i][0]+c._sprite[i][1])/1e3-k),A=$*1e3/Math.abs(p._rate),M=c._sprite[i][0]/1e3,L=(c._sprite[i][0]+c._sprite[i][1])/1e3;p._sprite=i,p._ended=!1;var z=function(){p._paused=!1,p._seek=k,p._start=M,p._stop=L,p._loop=!!(p._loop||c._sprite[i][2])};if(k>=L){c._ended(p);return}var E=p._node;if(c._webAudio){var C=function(){c._playLock=!1,z(),c._refreshBuffer(p);var pe=p._muted||c._muted?0:p._volume;E.gain.setValueAtTime(pe,t.ctx.currentTime),p._playStart=t.ctx.currentTime,typeof E.bufferSource.start>"u"?p._loop?E.bufferSource.noteGrainOn(0,k,86400):E.bufferSource.noteGrainOn(0,k,$):p._loop?E.bufferSource.start(0,k,86400):E.bufferSource.start(0,k,$),A!==1/0&&(c._endTimers[p._id]=setTimeout(c._ended.bind(c,p),A)),o||setTimeout(function(){c._emit("play",p._id),c._loadQueue()},0)};t.state==="running"&&t.ctx.state!=="interrupted"?C():(c._playLock=!0,c.once("resume",C),c._clearTimer(p._id))}else{var S=function(){E.currentTime=k,E.muted=p._muted||c._muted||t._muted||E.muted,E.volume=p._volume*t.volume(),E.playbackRate=p._rate;try{var pe=E.play();if(pe&&typeof Promise<"u"&&(pe instanceof Promise||typeof pe.then=="function")?(c._playLock=!0,z(),pe.then(function(){c._playLock=!1,E._unlocked=!0,o?c._loadQueue():c._emit("play",p._id)}).catch(function(){c._playLock=!1,c._emit("playerror",p._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),p._ended=!0,p._paused=!0})):o||(c._playLock=!1,z(),c._emit("play",p._id)),E.playbackRate=p._rate,E.paused){c._emit("playerror",p._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}i!=="__default"||p._loop?c._endTimers[p._id]=setTimeout(c._ended.bind(c,p),A):(c._endTimers[p._id]=function(){c._ended(p),E.removeEventListener("ended",c._endTimers[p._id],!1)},E.addEventListener("ended",c._endTimers[p._id],!1))}catch(be){c._emit("playerror",p._id,be)}};E.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(E.src=c._src,E.load());var Q=window&&window.ejecta||!E.readyState&&t._navigator.isCocoonJS;if(E.readyState>=3||Q)S();else{c._playLock=!0,c._state="loading";var ve=function(){c._state="loaded",S(),E.removeEventListener(t._canPlayEvent,ve,!1)};E.addEventListener(t._canPlayEvent,ve,!1),c._clearTimer(p._id)}}return p._id},pause:function(i){var o=this;if(o._state!=="loaded"||o._playLock)return o._queue.push({event:"pause",action:function(){o.pause(i)}}),o;for(var c=o._getSoundIds(i),d=0;d<c.length;d++){o._clearTimer(c[d]);var m=o._soundById(c[d]);if(m&&!m._paused&&(m._seek=o.seek(c[d]),m._rateSeek=0,m._paused=!0,o._stopFade(c[d]),m._node))if(o._webAudio){if(!m._node.bufferSource)continue;typeof m._node.bufferSource.stop>"u"?m._node.bufferSource.noteOff(0):m._node.bufferSource.stop(0),o._cleanBuffer(m._node)}else(!isNaN(m._node.duration)||m._node.duration===1/0)&&m._node.pause();arguments[1]||o._emit("pause",m?m._id:null)}return o},stop:function(i,o){var c=this;if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"stop",action:function(){c.stop(i)}}),c;for(var d=c._getSoundIds(i),m=0;m<d.length;m++){c._clearTimer(d[m]);var _=c._soundById(d[m]);_&&(_._seek=_._start||0,_._rateSeek=0,_._paused=!0,_._ended=!0,c._stopFade(d[m]),_._node&&(c._webAudio?_._node.bufferSource&&(typeof _._node.bufferSource.stop>"u"?_._node.bufferSource.noteOff(0):_._node.bufferSource.stop(0),c._cleanBuffer(_._node)):(!isNaN(_._node.duration)||_._node.duration===1/0)&&(_._node.currentTime=_._start||0,_._node.pause(),_._node.duration===1/0&&c._clearSound(_._node))),o||c._emit("stop",_._id))}return c},mute:function(i,o){var c=this;if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"mute",action:function(){c.mute(i,o)}}),c;if(typeof o>"u")if(typeof i=="boolean")c._muted=i;else return c._muted;for(var d=c._getSoundIds(o),m=0;m<d.length;m++){var _=c._soundById(d[m]);_&&(_._muted=i,_._interval&&c._stopFade(_._id),c._webAudio&&_._node?_._node.gain.setValueAtTime(i?0:_._volume,t.ctx.currentTime):_._node&&(_._node.muted=t._muted?!0:i),c._emit("mute",_._id))}return c},volume:function(){var i=this,o=arguments,c,d;if(o.length===0)return i._volume;if(o.length===1||o.length===2&&typeof o[1]>"u"){var m=i._getSoundIds(),_=m.indexOf(o[0]);_>=0?d=parseInt(o[0],10):c=parseFloat(o[0])}else o.length>=2&&(c=parseFloat(o[0]),d=parseInt(o[1],10));var p;if(typeof c<"u"&&c>=0&&c<=1){if(i._state!=="loaded"||i._playLock)return i._queue.push({event:"volume",action:function(){i.volume.apply(i,o)}}),i;typeof d>"u"&&(i._volume=c),d=i._getSoundIds(d);for(var b=0;b<d.length;b++)p=i._soundById(d[b]),p&&(p._volume=c,o[2]||i._stopFade(d[b]),i._webAudio&&p._node&&!p._muted?p._node.gain.setValueAtTime(c,t.ctx.currentTime):p._node&&!p._muted&&(p._node.volume=c*t.volume()),i._emit("volume",p._id))}else return p=d?i._soundById(d):i._sounds[0],p?p._volume:0;return i},fade:function(i,o,c,d){var m=this;if(m._state!=="loaded"||m._playLock)return m._queue.push({event:"fade",action:function(){m.fade(i,o,c,d)}}),m;i=Math.min(Math.max(0,parseFloat(i)),1),o=Math.min(Math.max(0,parseFloat(o)),1),c=parseFloat(c),m.volume(i,d);for(var _=m._getSoundIds(d),p=0;p<_.length;p++){var b=m._soundById(_[p]);if(b){if(d||m._stopFade(_[p]),m._webAudio&&!b._muted){var k=t.ctx.currentTime,$=k+c/1e3;b._volume=i,b._node.gain.setValueAtTime(i,k),b._node.gain.linearRampToValueAtTime(o,$)}m._startFadeInterval(b,i,o,c,_[p],typeof d>"u")}}return m},_startFadeInterval:function(i,o,c,d,m,_){var p=this,b=o,k=c-o,$=Math.abs(k/.01),A=Math.max(4,$>0?d/$:d),M=Date.now();i._fadeTo=c,i._interval=setInterval(function(){var L=(Date.now()-M)/d;M=Date.now(),b+=k*L,b=Math.round(b*100)/100,k<0?b=Math.max(c,b):b=Math.min(c,b),p._webAudio?i._volume=b:p.volume(b,i._id,!0),_&&(p._volume=b),(c<o&&b<=c||c>o&&b>=c)&&(clearInterval(i._interval),i._interval=null,i._fadeTo=null,p.volume(c,i._id),p._emit("fade",i._id))},A)},_stopFade:function(i){var o=this,c=o._soundById(i);return c&&c._interval&&(o._webAudio&&c._node.gain.cancelScheduledValues(t.ctx.currentTime),clearInterval(c._interval),c._interval=null,o.volume(c._fadeTo,i),c._fadeTo=null,o._emit("fade",i)),o},loop:function(){var i=this,o=arguments,c,d,m;if(o.length===0)return i._loop;if(o.length===1)if(typeof o[0]=="boolean")c=o[0],i._loop=c;else return m=i._soundById(parseInt(o[0],10)),m?m._loop:!1;else o.length===2&&(c=o[0],d=parseInt(o[1],10));for(var _=i._getSoundIds(d),p=0;p<_.length;p++)m=i._soundById(_[p]),m&&(m._loop=c,i._webAudio&&m._node&&m._node.bufferSource&&(m._node.bufferSource.loop=c,c&&(m._node.bufferSource.loopStart=m._start||0,m._node.bufferSource.loopEnd=m._stop,i.playing(_[p])&&(i.pause(_[p],!0),i.play(_[p],!0)))));return i},rate:function(){var i=this,o=arguments,c,d;if(o.length===0)d=i._sounds[0]._id;else if(o.length===1){var m=i._getSoundIds(),_=m.indexOf(o[0]);_>=0?d=parseInt(o[0],10):c=parseFloat(o[0])}else o.length===2&&(c=parseFloat(o[0]),d=parseInt(o[1],10));var p;if(typeof c=="number"){if(i._state!=="loaded"||i._playLock)return i._queue.push({event:"rate",action:function(){i.rate.apply(i,o)}}),i;typeof d>"u"&&(i._rate=c),d=i._getSoundIds(d);for(var b=0;b<d.length;b++)if(p=i._soundById(d[b]),p){i.playing(d[b])&&(p._rateSeek=i.seek(d[b]),p._playStart=i._webAudio?t.ctx.currentTime:p._playStart),p._rate=c,i._webAudio&&p._node&&p._node.bufferSource?p._node.bufferSource.playbackRate.setValueAtTime(c,t.ctx.currentTime):p._node&&(p._node.playbackRate=c);var k=i.seek(d[b]),$=(i._sprite[p._sprite][0]+i._sprite[p._sprite][1])/1e3-k,A=$*1e3/Math.abs(p._rate);(i._endTimers[d[b]]||!p._paused)&&(i._clearTimer(d[b]),i._endTimers[d[b]]=setTimeout(i._ended.bind(i,p),A)),i._emit("rate",p._id)}}else return p=i._soundById(d),p?p._rate:i._rate;return i},seek:function(){var i=this,o=arguments,c,d;if(o.length===0)i._sounds.length&&(d=i._sounds[0]._id);else if(o.length===1){var m=i._getSoundIds(),_=m.indexOf(o[0]);_>=0?d=parseInt(o[0],10):i._sounds.length&&(d=i._sounds[0]._id,c=parseFloat(o[0]))}else o.length===2&&(c=parseFloat(o[0]),d=parseInt(o[1],10));if(typeof d>"u")return 0;if(typeof c=="number"&&(i._state!=="loaded"||i._playLock))return i._queue.push({event:"seek",action:function(){i.seek.apply(i,o)}}),i;var p=i._soundById(d);if(p)if(typeof c=="number"&&c>=0){var b=i.playing(d);b&&i.pause(d,!0),p._seek=c,p._ended=!1,i._clearTimer(d),!i._webAudio&&p._node&&!isNaN(p._node.duration)&&(p._node.currentTime=c);var k=function(){b&&i.play(d,!0),i._emit("seek",d)};if(b&&!i._webAudio){var $=function(){i._playLock?setTimeout($,0):k()};setTimeout($,0)}else k()}else if(i._webAudio){var A=i.playing(d)?t.ctx.currentTime-p._playStart:0,M=p._rateSeek?p._rateSeek-p._seek:0;return p._seek+(M+A*Math.abs(p._rate))}else return p._node.currentTime;return i},playing:function(i){var o=this;if(typeof i=="number"){var c=o._soundById(i);return c?!c._paused:!1}for(var d=0;d<o._sounds.length;d++)if(!o._sounds[d]._paused)return!0;return!1},duration:function(i){var o=this,c=o._duration,d=o._soundById(i);return d&&(c=o._sprite[d._sprite][1]/1e3),c},state:function(){return this._state},unload:function(){for(var i=this,o=i._sounds,c=0;c<o.length;c++)o[c]._paused||i.stop(o[c]._id),i._webAudio||(i._clearSound(o[c]._node),o[c]._node.removeEventListener("error",o[c]._errorFn,!1),o[c]._node.removeEventListener(t._canPlayEvent,o[c]._loadFn,!1),o[c]._node.removeEventListener("ended",o[c]._endFn,!1),t._releaseHtml5Audio(o[c]._node)),delete o[c]._node,i._clearTimer(o[c]._id);var d=t._howls.indexOf(i);d>=0&&t._howls.splice(d,1);var m=!0;for(c=0;c<t._howls.length;c++)if(t._howls[c]._src===i._src||i._src.indexOf(t._howls[c]._src)>=0){m=!1;break}return s&&m&&delete s[i._src],t.noAudio=!1,i._state="unloaded",i._sounds=[],i=null,null},on:function(i,o,c,d){var m=this,_=m["_on"+i];return typeof o=="function"&&_.push(d?{id:c,fn:o,once:d}:{id:c,fn:o}),m},off:function(i,o,c){var d=this,m=d["_on"+i],_=0;if(typeof o=="number"&&(c=o,o=null),o||c)for(_=0;_<m.length;_++){var p=c===m[_].id;if(o===m[_].fn&&p||!o&&p){m.splice(_,1);break}}else if(i)d["_on"+i]=[];else{var b=Object.keys(d);for(_=0;_<b.length;_++)b[_].indexOf("_on")===0&&Array.isArray(d[b[_]])&&(d[b[_]]=[])}return d},once:function(i,o,c){var d=this;return d.on(i,o,c,1),d},_emit:function(i,o,c){for(var d=this,m=d["_on"+i],_=m.length-1;_>=0;_--)(!m[_].id||m[_].id===o||i==="load")&&(setTimeout((function(p){p.call(this,o,c)}).bind(d,m[_].fn),0),m[_].once&&d.off(i,m[_].fn,m[_].id));return d._loadQueue(i),d},_loadQueue:function(i){var o=this;if(o._queue.length>0){var c=o._queue[0];c.event===i&&(o._queue.shift(),o._loadQueue()),i||c.action()}return o},_ended:function(i){var o=this,c=i._sprite;if(!o._webAudio&&i._node&&!i._node.paused&&!i._node.ended&&i._node.currentTime<i._stop)return setTimeout(o._ended.bind(o,i),100),o;var d=!!(i._loop||o._sprite[c][2]);if(o._emit("end",i._id),!o._webAudio&&d&&o.stop(i._id,!0).play(i._id),o._webAudio&&d){o._emit("play",i._id),i._seek=i._start||0,i._rateSeek=0,i._playStart=t.ctx.currentTime;var m=(i._stop-i._start)*1e3/Math.abs(i._rate);o._endTimers[i._id]=setTimeout(o._ended.bind(o,i),m)}return o._webAudio&&!d&&(i._paused=!0,i._ended=!0,i._seek=i._start||0,i._rateSeek=0,o._clearTimer(i._id),o._cleanBuffer(i._node),t._autoSuspend()),!o._webAudio&&!d&&o.stop(i._id,!0),o},_clearTimer:function(i){var o=this;if(o._endTimers[i]){if(typeof o._endTimers[i]!="function")clearTimeout(o._endTimers[i]);else{var c=o._soundById(i);c&&c._node&&c._node.removeEventListener("ended",o._endTimers[i],!1)}delete o._endTimers[i]}return o},_soundById:function(i){for(var o=this,c=0;c<o._sounds.length;c++)if(i===o._sounds[c]._id)return o._sounds[c];return null},_inactiveSound:function(){var i=this;i._drain();for(var o=0;o<i._sounds.length;o++)if(i._sounds[o]._ended)return i._sounds[o].reset();return new l(i)},_drain:function(){var i=this,o=i._pool,c=0,d=0;if(!(i._sounds.length<o)){for(d=0;d<i._sounds.length;d++)i._sounds[d]._ended&&c++;for(d=i._sounds.length-1;d>=0;d--){if(c<=o)return;i._sounds[d]._ended&&(i._webAudio&&i._sounds[d]._node&&i._sounds[d]._node.disconnect(0),i._sounds.splice(d,1),c--)}}},_getSoundIds:function(i){var o=this;if(typeof i>"u"){for(var c=[],d=0;d<o._sounds.length;d++)c.push(o._sounds[d]._id);return c}else return[i]},_refreshBuffer:function(i){var o=this;return i._node.bufferSource=t.ctx.createBufferSource(),i._node.bufferSource.buffer=s[o._src],i._panner?i._node.bufferSource.connect(i._panner):i._node.bufferSource.connect(i._node),i._node.bufferSource.loop=i._loop,i._loop&&(i._node.bufferSource.loopStart=i._start||0,i._node.bufferSource.loopEnd=i._stop||0),i._node.bufferSource.playbackRate.setValueAtTime(i._rate,t.ctx.currentTime),o},_cleanBuffer:function(i){var o=this,c=t._navigator&&t._navigator.vendor.indexOf("Apple")>=0;if(t._scratchBuffer&&i.bufferSource&&(i.bufferSource.onended=null,i.bufferSource.disconnect(0),c))try{i.bufferSource.buffer=t._scratchBuffer}catch{}return i.bufferSource=null,o},_clearSound:function(i){var o=/MSIE |Trident\//.test(t._navigator&&t._navigator.userAgent);o||(i.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var l=function(i){this._parent=i,this.init()};l.prototype={init:function(){var i=this,o=i._parent;return i._muted=o._muted,i._loop=o._loop,i._volume=o._volume,i._rate=o._rate,i._seek=0,i._paused=!0,i._ended=!0,i._sprite="__default",i._id=++t._counter,o._sounds.push(i),i.create(),i},create:function(){var i=this,o=i._parent,c=t._muted||i._muted||i._parent._muted?0:i._volume;return o._webAudio?(i._node=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),i._node.gain.setValueAtTime(c,t.ctx.currentTime),i._node.paused=!0,i._node.connect(t.masterGain)):t.noAudio||(i._node=t._obtainHtml5Audio(),i._errorFn=i._errorListener.bind(i),i._node.addEventListener("error",i._errorFn,!1),i._loadFn=i._loadListener.bind(i),i._node.addEventListener(t._canPlayEvent,i._loadFn,!1),i._endFn=i._endListener.bind(i),i._node.addEventListener("ended",i._endFn,!1),i._node.src=o._src,i._node.preload=o._preload===!0?"auto":o._preload,i._node.volume=c*t.volume(),i._node.load()),i},reset:function(){var i=this,o=i._parent;return i._muted=o._muted,i._loop=o._loop,i._volume=o._volume,i._rate=o._rate,i._seek=0,i._rateSeek=0,i._paused=!0,i._ended=!0,i._sprite="__default",i._id=++t._counter,i},_errorListener:function(){var i=this;i._parent._emit("loaderror",i._id,i._node.error?i._node.error.code:0),i._node.removeEventListener("error",i._errorFn,!1)},_loadListener:function(){var i=this,o=i._parent;o._duration=Math.ceil(i._node.duration*10)/10,Object.keys(o._sprite).length===0&&(o._sprite={__default:[0,o._duration*1e3]}),o._state!=="loaded"&&(o._state="loaded",o._emit("load"),o._loadQueue()),i._node.removeEventListener(t._canPlayEvent,i._loadFn,!1)},_endListener:function(){var i=this,o=i._parent;o._duration===1/0&&(o._duration=Math.ceil(i._node.duration*10)/10,o._sprite.__default[1]===1/0&&(o._sprite.__default[1]=o._duration*1e3),o._ended(i)),i._node.removeEventListener("ended",i._endFn,!1)}};var s={},a=function(i){var o=i._src;if(s[o]){i._duration=s[o].duration,u(i);return}if(/^data:[^;]+;base64,/.test(o)){for(var c=atob(o.split(",")[1]),d=new Uint8Array(c.length),m=0;m<c.length;++m)d[m]=c.charCodeAt(m);f(d.buffer,i)}else{var _=new XMLHttpRequest;_.open(i._xhr.method,o,!0),_.withCredentials=i._xhr.withCredentials,_.responseType="arraybuffer",i._xhr.headers&&Object.keys(i._xhr.headers).forEach(function(p){_.setRequestHeader(p,i._xhr.headers[p])}),_.onload=function(){var p=(_.status+"")[0];if(p!=="0"&&p!=="2"&&p!=="3"){i._emit("loaderror",null,"Failed loading audio file with status: "+_.status+".");return}f(_.response,i)},_.onerror=function(){i._webAudio&&(i._html5=!0,i._webAudio=!1,i._sounds=[],delete s[o],i.load())},h(_)}},h=function(i){try{i.send()}catch{i.onerror()}},f=function(i,o){var c=function(){o._emit("loaderror",null,"Decoding audio data failed.")},d=function(m){m&&o._sounds.length>0?(s[o._src]=m,u(o,m)):c()};typeof Promise<"u"&&t.ctx.decodeAudioData.length===1?t.ctx.decodeAudioData(i).then(d).catch(c):t.ctx.decodeAudioData(i,d,c)},u=function(i,o){o&&!i._duration&&(i._duration=o.duration),Object.keys(i._sprite).length===0&&(i._sprite={__default:[0,i._duration*1e3]}),i._state!=="loaded"&&(i._state="loaded",i._emit("load"),i._loadQueue())},v=function(){if(t.usingWebAudio){try{typeof AudioContext<"u"?t.ctx=new AudioContext:typeof webkitAudioContext<"u"?t.ctx=new webkitAudioContext:t.usingWebAudio=!1}catch{t.usingWebAudio=!1}t.ctx||(t.usingWebAudio=!1);var i=/iP(hone|od|ad)/.test(t._navigator&&t._navigator.platform),o=t._navigator&&t._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),c=o?parseInt(o[1],10):null;if(i&&c&&c<9){var d=/safari/.test(t._navigator&&t._navigator.userAgent.toLowerCase());t._navigator&&!d&&(t.usingWebAudio=!1)}t.usingWebAudio&&(t.masterGain=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),t.masterGain.gain.setValueAtTime(t._muted?0:t._volume,t.ctx.currentTime),t.masterGain.connect(t.ctx.destination)),t._setup()}};n.Howler=t,n.Howl=r,typeof Pe<"u"?(Pe.HowlerGlobal=e,Pe.Howler=t,Pe.Howl=r,Pe.Sound=l):typeof window<"u"&&(window.HowlerGlobal=e,window.Howler=t,window.Howl=r,window.Sound=l)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var l=r._howls.length-1;l>=0;l--)r._howls[l].stereo(t);return r},HowlerGlobal.prototype.pos=function(t,r,l){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(r=typeof r!="number"?s._pos[1]:r,l=typeof l!="number"?s._pos[2]:l,typeof t=="number")s._pos=[t,r,l],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(t,r,l,s,a,h){var f=this;if(!f.ctx||!f.ctx.listener)return f;var u=f._orientation;if(r=typeof r!="number"?u[1]:r,l=typeof l!="number"?u[2]:l,s=typeof s!="number"?u[3]:s,a=typeof a!="number"?u[4]:a,h=typeof h!="number"?u[5]:h,typeof t=="number")f._orientation=[t,r,l,s,a,h],typeof f.ctx.listener.forwardX<"u"?(f.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),f.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),f.ctx.listener.forwardZ.setTargetAtTime(l,Howler.ctx.currentTime,.1),f.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),f.ctx.listener.upY.setTargetAtTime(a,Howler.ctx.currentTime,.1),f.ctx.listener.upZ.setTargetAtTime(h,Howler.ctx.currentTime,.1)):f.ctx.listener.setOrientation(t,r,l,s,a,h);else return u;return f},Howl.prototype.init=function(t){return function(r){var l=this;return l._orientation=r.orientation||[1,0,0],l._stereo=r.stereo||null,l._pos=r.pos||null,l._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},l._onstereo=r.onstereo?[{fn:r.onstereo}]:[],l._onpos=r.onpos?[{fn:r.onpos}]:[],l._onorientation=r.onorientation?[{fn:r.onorientation}]:[],t.call(this,r)}}(Howl.prototype.init),Howl.prototype.stereo=function(t,r){var l=this;if(!l._webAudio)return l;if(l._state!=="loaded")return l._queue.push({event:"stereo",action:function(){l.stereo(t,r)}}),l;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof t=="number")l._stereo=t,l._pos=[t,0,0];else return l._stereo;for(var a=l._getSoundIds(r),h=0;h<a.length;h++){var f=l._soundById(a[h]);if(f)if(typeof t=="number")f._stereo=t,f._pos=[t,0,0],f._node&&(f._pannerAttr.panningModel="equalpower",(!f._panner||!f._panner.pan)&&e(f,s),s==="spatial"?typeof f._panner.positionX<"u"?(f._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),f._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),f._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):f._panner.setPosition(t,0,0):f._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),l._emit("stereo",f._id);else return f._stereo}return l},Howl.prototype.pos=function(t,r,l,s){var a=this;if(!a._webAudio)return a;if(a._state!=="loaded")return a._queue.push({event:"pos",action:function(){a.pos(t,r,l,s)}}),a;if(r=typeof r!="number"?0:r,l=typeof l!="number"?-.5:l,typeof s>"u")if(typeof t=="number")a._pos=[t,r,l];else return a._pos;for(var h=a._getSoundIds(s),f=0;f<h.length;f++){var u=a._soundById(h[f]);if(u)if(typeof t=="number")u._pos=[t,r,l],u._node&&((!u._panner||u._panner.pan)&&e(u,"spatial"),typeof u._panner.positionX<"u"?(u._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(l,Howler.ctx.currentTime)):u._panner.setPosition(t,r,l)),a._emit("pos",u._id);else return u._pos}return a},Howl.prototype.orientation=function(t,r,l,s){var a=this;if(!a._webAudio)return a;if(a._state!=="loaded")return a._queue.push({event:"orientation",action:function(){a.orientation(t,r,l,s)}}),a;if(r=typeof r!="number"?a._orientation[1]:r,l=typeof l!="number"?a._orientation[2]:l,typeof s>"u")if(typeof t=="number")a._orientation=[t,r,l];else return a._orientation;for(var h=a._getSoundIds(s),f=0;f<h.length;f++){var u=a._soundById(h[f]);if(u)if(typeof t=="number")u._orientation=[t,r,l],u._node&&(u._panner||(u._pos||(u._pos=a._pos||[0,0,-.5]),e(u,"spatial")),typeof u._panner.orientationX<"u"?(u._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),u._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),u._panner.orientationZ.setValueAtTime(l,Howler.ctx.currentTime)):u._panner.setOrientation(t,r,l)),a._emit("orientation",u._id);else return u._orientation}return a},Howl.prototype.pannerAttr=function(){var t=this,r=arguments,l,s,a;if(!t._webAudio)return t;if(r.length===0)return t._pannerAttr;if(r.length===1)if(typeof r[0]=="object")l=r[0],typeof s>"u"&&(l.pannerAttr||(l.pannerAttr={coneInnerAngle:l.coneInnerAngle,coneOuterAngle:l.coneOuterAngle,coneOuterGain:l.coneOuterGain,distanceModel:l.distanceModel,maxDistance:l.maxDistance,refDistance:l.refDistance,rolloffFactor:l.rolloffFactor,panningModel:l.panningModel}),t._pannerAttr={coneInnerAngle:typeof l.pannerAttr.coneInnerAngle<"u"?l.pannerAttr.coneInnerAngle:t._coneInnerAngle,coneOuterAngle:typeof l.pannerAttr.coneOuterAngle<"u"?l.pannerAttr.coneOuterAngle:t._coneOuterAngle,coneOuterGain:typeof l.pannerAttr.coneOuterGain<"u"?l.pannerAttr.coneOuterGain:t._coneOuterGain,distanceModel:typeof l.pannerAttr.distanceModel<"u"?l.pannerAttr.distanceModel:t._distanceModel,maxDistance:typeof l.pannerAttr.maxDistance<"u"?l.pannerAttr.maxDistance:t._maxDistance,refDistance:typeof l.pannerAttr.refDistance<"u"?l.pannerAttr.refDistance:t._refDistance,rolloffFactor:typeof l.pannerAttr.rolloffFactor<"u"?l.pannerAttr.rolloffFactor:t._rolloffFactor,panningModel:typeof l.pannerAttr.panningModel<"u"?l.pannerAttr.panningModel:t._panningModel});else return a=t._soundById(parseInt(r[0],10)),a?a._pannerAttr:t._pannerAttr;else r.length===2&&(l=r[0],s=parseInt(r[1],10));for(var h=t._getSoundIds(s),f=0;f<h.length;f++)if(a=t._soundById(h[f]),a){var u=a._pannerAttr;u={coneInnerAngle:typeof l.coneInnerAngle<"u"?l.coneInnerAngle:u.coneInnerAngle,coneOuterAngle:typeof l.coneOuterAngle<"u"?l.coneOuterAngle:u.coneOuterAngle,coneOuterGain:typeof l.coneOuterGain<"u"?l.coneOuterGain:u.coneOuterGain,distanceModel:typeof l.distanceModel<"u"?l.distanceModel:u.distanceModel,maxDistance:typeof l.maxDistance<"u"?l.maxDistance:u.maxDistance,refDistance:typeof l.refDistance<"u"?l.refDistance:u.refDistance,rolloffFactor:typeof l.rolloffFactor<"u"?l.rolloffFactor:u.rolloffFactor,panningModel:typeof l.panningModel<"u"?l.panningModel:u.panningModel};var v=a._panner;v?(v.coneInnerAngle=u.coneInnerAngle,v.coneOuterAngle=u.coneOuterAngle,v.coneOuterGain=u.coneOuterGain,v.distanceModel=u.distanceModel,v.maxDistance=u.maxDistance,v.refDistance=u.refDistance,v.rolloffFactor=u.rolloffFactor,v.panningModel=u.panningModel):(a._pos||(a._pos=t._pos||[0,0,-.5]),e(a,"spatial"))}return t},Sound.prototype.init=function(t){return function(){var r=this,l=r._parent;r._orientation=l._orientation,r._stereo=l._stereo,r._pos=l._pos,r._pannerAttr=l._pannerAttr,t.call(this),r._stereo?l.stereo(r._stereo):r._pos&&l.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var r=this,l=r._parent;return r._orientation=l._orientation,r._stereo=l._stereo,r._pos=l._pos,r._pannerAttr=l._pannerAttr,r._stereo?l.stereo(r._stereo):r._pos?l.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,l._refreshBuffer(r)),t.call(this)}}(Sound.prototype.reset);var e=function(t,r){r=r||"spatial",r==="spatial"?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,typeof t._panner.positionX<"u"?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),typeof t._panner.orientationX<"u"?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}})()})(Rl);let L1;const Kr={capture:[0,204],move:[704,316],select:[1519,153],silence:[2172,500]},p3=()=>{if(!L1){const n=Object.values(Kr).map(e=>window.btoa(`${e[0]}:${e[1]}`)).join("-");L1??(L1=new Rl.Howl({src:[`/audio/sprite.mp3?v=${n}`],sprite:Kr}))}return L1},_3=n=>{p3().play(n)};var m3=Ee,g3=function(){return m3.Date.now()},y3=g3,b3=/\s/;function $3(n){for(var e=n.length;e--&&b3.test(n.charAt(e)););return e}var w3=$3,A3=w3,S3=/^\s+/;function T3(n){return n&&n.slice(0,A3(n)+1).replace(S3,"")}var k3=T3,E3=n1,I3=l1,M3="[object Symbol]";function P3(n){return typeof n=="symbol"||I3(n)&&E3(n)==M3}var O3=P3,D3=k3,Qr=r1,j3=O3,zr=0/0,C3=/^[-+]0x[0-9a-f]+$/i,L3=/^0b[01]+$/i,Z3=/^0o[0-7]+$/i,H3=parseInt;function x3(n){if(typeof n=="number")return n;if(j3(n))return zr;if(Qr(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=Qr(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=D3(n);var t=L3.test(n);return t||Z3.test(n)?H3(n.slice(2),t?2:8):C3.test(n)?zr:+n}var F3=x3,R3=r1,Z1=y3,Jr=F3,B3="Expected a function",G3=Math.max,V3=Math.min;function N3(n,e,t){var r,l,s,a,h,f,u=0,v=!1,i=!1,o=!0;if(typeof n!="function")throw new TypeError(B3);e=Jr(e)||0,R3(t)&&(v=!!t.leading,i="maxWait"in t,s=i?G3(Jr(t.maxWait)||0,e):s,o="trailing"in t?!!t.trailing:o);function c(M){var L=r,z=l;return r=l=void 0,u=M,a=n.apply(z,L),a}function d(M){return u=M,h=setTimeout(p,e),v?c(M):a}function m(M){var L=M-f,z=M-u,E=e-L;return i?V3(E,s-z):E}function _(M){var L=M-f,z=M-u;return f===void 0||L>=e||L<0||i&&z>=s}function p(){var M=Z1();if(_(M))return b(M);h=setTimeout(p,m(M))}function b(M){return h=void 0,o&&r?c(M):(r=l=void 0,a)}function k(){h!==void 0&&clearTimeout(h),u=0,r=f=l=h=void 0}function $(){return h===void 0?a:b(Z1())}function A(){var M=Z1(),L=_(M);if(r=arguments,l=this,f=M,L){if(h===void 0)return d(f);if(i)return clearTimeout(h),h=setTimeout(p,e),c(f)}return h===void 0&&(h=setTimeout(p,e)),a}return A.cancel=k,A.flush=$,A}var q3=N3,U3=q3,W3=r1,X3="Expected a function";function K3(n,e,t){var r=!0,l=!0;if(typeof n!="function")throw new TypeError(X3);return W3(t)&&(r="leading"in t?!!t.leading:r,l="trailing"in t?!!t.trailing:l),U3(n,e,{leading:r,maxWait:e,trailing:l})}var Q3=K3;const z3=Tl(Q3);function J3(n){let e,t,r={slot:"actions"};return e=new gs({props:r}),n[8](e),{c(){N(e.$$.fragment)},l(l){q(e.$$.fragment,l)},m(l,s){U(e,l,s),t=!0},p(l,s){const a={};e.$set(a)},i(l){t||(I(e.$$.fragment,l),t=!0)},o(l){P(e.$$.fragment,l),t=!1},d(l){n[8](null),W(e,l)}}}function Y3(n){let e,t;return e=new hs({props:{slot:"cursor-overlays",mousePositions:n[0]}}),{c(){N(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,l){U(e,r,l),t=!0},p(r,l){const s={};l&1&&(s.mousePositions=r[0]),e.$set(s)},i(r){t||(I(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){W(e,r)}}}function ed(n){let e,t,r,l,s=n[2].log.join(`
`)+"",a,h,f=JSON.stringify(n[3],null,2)+"",u,v,i;return e=new v3({props:{reportMousePosition:n[6],$$slots:{"cursor-overlays":[Y3],actions:[J3]},$$scope:{ctx:n}}}),{c(){N(e.$$.fragment),t=G(),r=F("pre"),l=X(""),a=X(s),h=X(`

`),u=X(f),v=X(`
`)},l(o){q(e.$$.fragment,o),t=V(o),r=R(o,"PRE",{});var c=T(r);l=K(c,""),a=K(c,s),h=K(c,`

`),u=K(c,f),v=K(c,`
`),c.forEach(y)},m(o,c){U(e,o,c),j(o,t,c),j(o,r,c),w(r,l),w(r,a),w(r,h),w(r,u),w(r,v),i=!0},p(o,[c]){const d={};c&32771&&(d.$$scope={dirty:c,ctx:o}),e.$set(d),(!i||c&4)&&s!==(s=o[2].log.join(`
`)+"")&&me(a,s),(!i||c&8)&&f!==(f=JSON.stringify(o[3],null,2)+"")&&me(u,f)},i(o){i||(I(e.$$.fragment,o),i=!0)},o(o){P(e.$$.fragment,o),i=!1},d(o){o&&(y(t),y(r)),W(e,o)}}}function td(n,e,t){let r,l,{data:s}=e;const a=s.machineInput,h=a.gameId,f=a.userId,u=a.hostUserId,v={},i=ls({gameId:h,userId:f,onMessage:b=>{b.type==="mouse position"?t(0,v[b.userId]=b.position,v):o.send(b)}});J(n,i,b=>t(2,r=b));const o=Qi(rs({send:i.send,actions:{playSound:_3,showEmoji:({userId:b,emoji:k})=>m==null?void 0:m.showEmoji({userId:b,emoji:k})}}),{input:a}),c=te(o.service,({context:b})=>ut(b),we);zi({gameId:h,userId:f,user:c,hostUserId:u,machine:o});const d=o.state;J(n,d,b=>t(3,l=b)),Yr(()=>(i.open(),()=>{i.close()}));let m;const _=z3(b=>{i.send({type:"mouse position",position:b})},50,{leading:!0,trailing:!0});function p(b){y1[b?"unshift":"push"](()=>{m=b,t(1,m)})}return n.$$set=b=>{"data"in b&&t(7,s=b.data)},[v,m,r,l,i,d,_,s,p]}class fd extends fe{constructor(e){super(),he(this,e,td,ed,ue,{data:7})}}export{fd as component,ud as universal};
