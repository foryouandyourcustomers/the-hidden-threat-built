{"version":3,"file":"PreGameDecoration-631293ba.js","sources":["../../../.svelte-kit/adapter-node/chunks/PreGameDecoration.js"],"sourcesContent":["import { c as create_ssr_component, a as subscribe, h as add_styles, e as escape, f as add_attribute, v as validate_component, b as spread, d as escape_object } from \"./ssr.js\";\nimport { r as readable } from \"./index2.js\";\nimport { g as getGameContext } from \"./game-context.js\";\nimport { j as getUser } from \"./user.js\";\nimport { F as FooterNav, a as Face } from \"./Face.js\";\nfunction defaultCompare(a, b) {\n  return a === b;\n}\nconst useSelector = (actor, selector, compare = defaultCompare) => {\n  let sub;\n  let prevSelected = selector(actor.getSnapshot());\n  const selected = readable(prevSelected, (set) => {\n    const onNext = (state) => {\n      const nextSelected = selector(state);\n      if (!compare(prevSelected, nextSelected)) {\n        prevSelected = nextSelected;\n        set(nextSelected);\n      }\n    };\n    onNext(actor.getSnapshot());\n    sub = actor.subscribe(onNext);\n    return () => {\n      sub.unsubscribe();\n    };\n  });\n  return selected;\n};\nconst getCurrentUser = (context) => getUser(context.userId, context);\nconst Header_svelte_svelte_type_style_lang = \"\";\nconst css$2 = {\n  code: '.header.svelte-kbs536{align-items:center;background-color:var(--color-blue-spielbrett);background:linear-gradient(180deg,rgba(43,52,72,0),rgba(43,52,72,.663));display:grid;grid-template-areas:\"logo score jokers options\";grid-template-columns:38rem 22rem 1fr auto;height:var(--size-header-height);padding-left:7rem;padding-right:1rem}.header.svelte-kbs536,.title.svelte-kbs536{position:relative}.title.svelte-kbs536{align-self:start;font-family:var(--font-display);font-size:var(--scale-4);grid-area:logo;line-height:2.5rem;text-transform:uppercase}.backdrop.svelte-kbs536{height:3.3125rem;left:1.875rem;position:absolute;top:0;width:21.625rem}',\n  map: null\n};\nconst Header = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  $$result.css.add(css$2);\n  return `<div class=\"header svelte-kbs536\"><div class=\"backdrop svelte-kbs536\" data-svelte-h=\"svelte-17ojy9\"><svg width=\"346\" height=\"53\" viewBox=\"0 0 346 53\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M45 0H0l54 53-9-53Z\" fill=\"#F03A50\"></path><path d=\"M45 0h33L54 53 45 0Z\" fill=\"#A40224\"></path><path d=\"M346 38 330 0H78L54 53l292-15Z\" fill=\"#D32746\"></path></svg></div> <div class=\"title svelte-kbs536\" data-svelte-h=\"svelte-xbe4by\">The hidden threat</div> ${slots.default ? slots.default({}) : ``} </div>`;\n});\nconst Board_svelte_svelte_type_style_lang = \"\";\nconst css$1 = {\n  code: \".board-wrapper.svelte-q6v7k9{--player-status-width:30rem;align-content:center;background:#000;display:grid;height:100%;justify-content:center;place-content:center;width:100%}.board.svelte-q6v7k9{grid-gap:.75rem;background-color:var(--color-bg);border-radius:var(--radius-sm);display:grid;gap:.75rem;grid-template-rows:auto 1fr;height:var(--size-game-height);overflow:hidden;position:relative;scale:var(--board-scale);transform-origin:center;width:var(--size-game-width)}.board.with-footer.svelte-q6v7k9{grid-template-rows:auto 1fr auto}.board.side-defense.svelte-q6v7k9{outline:10px solid var(--color-blue-medium)}.board.side-attack.svelte-q6v7k9{outline:10px solid var(--color-red-medium)}.board.backdrop.svelte-q6v7k9{background-image:url(/images/board-backdrop.svg);background-repeat:no-repeat;background-size:cover}.content.svelte-q6v7k9{isolation:isolate}.content.padded.svelte-q6v7k9{padding:1rem 7rem 0}.footer.svelte-q6v7k9{align-items:center;background-color:var(--color-blue-spielbrett);background:linear-gradient(0deg,#1b253a,#252f43);display:flex;height:var(--size-game-footer-height);justify-content:stretch;padding:0 7rem}.footer.svelte-q6v7k9>*{flex:1}\",\n  map: null\n};\nconst Board = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $adminSide, $$unsubscribe_adminSide;\n  let { reportMousePosition = void 0 } = $$props;\n  let { showBackdrop = false } = $$props;\n  let { showFooter = false } = $$props;\n  let { paddedContent = false } = $$props;\n  const gameContext = getGameContext();\n  const adminSide = gameContext ? useSelector(gameContext.machine.service, ({ context }) => {\n    const user = getCurrentUser(context);\n    if (!user.isAdmin)\n      return void 0;\n    else\n      return user.side;\n  }) : readable(void 0);\n  $$unsubscribe_adminSide = subscribe(adminSide, (value) => $adminSide = value);\n  let gameContainer;\n  let scale = 1;\n  if ($$props.reportMousePosition === void 0 && $$bindings.reportMousePosition && reportMousePosition !== void 0)\n    $$bindings.reportMousePosition(reportMousePosition);\n  if ($$props.showBackdrop === void 0 && $$bindings.showBackdrop && showBackdrop !== void 0)\n    $$bindings.showBackdrop(showBackdrop);\n  if ($$props.showFooter === void 0 && $$bindings.showFooter && showFooter !== void 0)\n    $$bindings.showFooter(showFooter);\n  if ($$props.paddedContent === void 0 && $$bindings.paddedContent && paddedContent !== void 0)\n    $$bindings.paddedContent(paddedContent);\n  $$result.css.add(css$1);\n  $$unsubscribe_adminSide();\n  return ` <div class=\"board-wrapper svelte-q6v7k9\"${add_styles({ \"--board-scale\": scale })}> <div class=\"${[\n    \"board \" + escape($adminSide ? `side-${$adminSide}` : \"\", true) + \" svelte-q6v7k9\",\n    (showBackdrop ? \"backdrop\" : \"\") + \" \" + (showFooter ? \"with-footer\" : \"\")\n  ].join(\" \").trim()}\"${add_attribute(\"this\", gameContainer, 0)}>${validate_component(Header, \"Header\").$$render($$result, {}, {}, {\n    default: () => {\n      return `${slots.header ? slots.header({}) : ``}`;\n    }\n  })} <div class=\"${[\"content svelte-q6v7k9\", paddedContent ? \"padded\" : \"\"].join(\" \").trim()}\">${slots.default ? slots.default({}) : ``}</div> ${slots.overlays ? slots.overlays({}) : ``} ${showFooter ? `<div class=\"footer svelte-q6v7k9\">${validate_component(FooterNav, \"FooterNav\").$$render($$result, {}, {}, {})}</div>` : ``}</div> </div>`;\n});\nconst X = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  return `<svg${spread(\n    [\n      { viewBox: \"0 0 24 24\" },\n      { width: \"1.2em\" },\n      { height: \"1.2em\" },\n      escape_object($$props)\n    ],\n    {}\n  )}><!-- HTML_TAG_START -->${`<path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M18 6L6 18M6 6l12 12\"/>`}<!-- HTML_TAG_END --></svg>`;\n});\nconst PreGameDecoration_svelte_svelte_type_style_lang = \"\";\nconst css = {\n  code: \".faces.svelte-17o38i1{display:flex;gap:.5rem;grid-area:jokers}.faces.svelte-17o38i1 svg{height:2rem;width:2rem}.close.svelte-17o38i1{grid-area:options;position:relative}.close.svelte-17o38i1 svg{height:2rem;width:2rem}\",\n  map: null\n};\nconst PreGameDecoration = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  $$result.css.add(css);\n  return `<div class=\"faces svelte-17o38i1\">${validate_component(Face, \"Face\").$$render($$result, { faceId: 3 }, {}, {})} ${validate_component(Face, \"Face\").$$render($$result, { faceId: 2 }, {}, {})} ${validate_component(Face, \"Face\").$$render($$result, { faceId: 6 }, {}, {})} ${validate_component(Face, \"Face\").$$render($$result, { faceId: 5 }, {}, {})}</div> <a href=\"/\" class=\"close unstyled svelte-17o38i1\">${validate_component(X, \"CloseIcon\").$$render($$result, {}, {}, {})} </a>`;\n});\nexport {\n  Board as B,\n  PreGameDecoration as P,\n  X,\n  getCurrentUser as g,\n  useSelector as u\n};\n"],"names":[],"mappings":"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"}