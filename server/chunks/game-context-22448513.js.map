{"version":3,"file":"game-context-22448513.js","sources":["../../../.svelte-kit/adapter-node/chunks/game-context.js"],"sourcesContent":["import { r as readable } from \"./index2.js\";\nimport { s as setContext, w as getContext } from \"./ssr.js\";\nfunction defaultCompare(a, b) {\n  return a === b;\n}\nconst useSelector = (actor, selector, compare = defaultCompare) => {\n  let sub;\n  let prevSelected = selector(actor.getSnapshot());\n  const selected = readable(prevSelected, (set) => {\n    const onNext = (state) => {\n      const nextSelected = selector(state);\n      if (!compare(prevSelected, nextSelected)) {\n        prevSelected = nextSelected;\n        set(nextSelected);\n      }\n    };\n    onNext(actor.getSnapshot());\n    sub = actor.subscribe(onNext);\n    return () => {\n      sub.unsubscribe();\n    };\n  });\n  return selected;\n};\nconst KEY = {};\nconst setGameContext = (context) => {\n  setContext(KEY, context);\n};\nconst getGameContext = () => getContext(KEY);\nexport {\n  getGameContext as g,\n  setGameContext as s,\n  useSelector as u\n};\n"],"names":[],"mappings":";;;AAEA,SAAS,cAAc,CAAC,CAAC,EAAE,CAAC,EAAE;AAC9B,EAAE,OAAO,CAAC,KAAK,CAAC,CAAC;AACjB,CAAC;AACI,MAAC,WAAW,GAAG,CAAC,KAAK,EAAE,QAAQ,EAAE,OAAO,GAAG,cAAc,KAAK;AACnE,EAAE,IAAI,GAAG,CAAC;AACV,EAAE,IAAI,YAAY,GAAG,QAAQ,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,CAAC;AACnD,EAAE,MAAM,QAAQ,GAAG,QAAQ,CAAC,YAAY,EAAE,CAAC,GAAG,KAAK;AACnD,IAAI,MAAM,MAAM,GAAG,CAAC,KAAK,KAAK;AAC9B,MAAM,MAAM,YAAY,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;AAC3C,MAAM,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,YAAY,CAAC,EAAE;AAChD,QAAQ,YAAY,GAAG,YAAY,CAAC;AACpC,QAAQ,GAAG,CAAC,YAAY,CAAC,CAAC;AAC1B,OAAO;AACP,KAAK,CAAC;AACN,IAAI,MAAM,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,CAAC;AAChC,IAAI,GAAG,GAAG,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;AAClC,IAAI,OAAO,MAAM;AACjB,MAAM,GAAG,CAAC,WAAW,EAAE,CAAC;AACxB,KAAK,CAAC;AACN,GAAG,CAAC,CAAC;AACL,EAAE,OAAO,QAAQ,CAAC;AAClB,EAAE;AACF,MAAM,GAAG,GAAG,EAAE,CAAC;AACV,MAAC,cAAc,GAAG,CAAC,OAAO,KAAK;AACpC,EAAE,UAAU,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;AAC3B,EAAE;AACG,MAAC,cAAc,GAAG,MAAM,UAAU,CAAC,GAAG;;;;"}